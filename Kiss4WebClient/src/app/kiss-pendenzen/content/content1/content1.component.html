<div class="app-content1" id="search-app-content">
    <!-- begin header -->
    <div class="app-content1-header" id="search-app-content-header">
        <div class="row" id="search-row">
            <div class="col-md-6" style="padding-top: 4px;" id="search-row-col-1">
                <span id="SC001_search_label-suche">Suche</span>
            </div>
            <!-- <div class="col-md-6" style="text-align: right;" id="search-row-col-2">
                <dx-button [disabled]="isDisabled" id="search-search-button" height="30" [text]="'Suche'" [type]="'default'" (onClick)="search()"></dx-button>
            </div> -->
        </div>
    </div>
    <!-- end header -->
    <!-- begin body -->
    <div class="app-content1-body" id="SC001_search">
        <dx-form  [disabled]="isDisabled" id="content1" [showColonAfterLabel]=false [(formData)] = "frmSearchOption">
            <dxi-item id="search-body" itemType="group" [colCount]="2">
                <!-- begin left body -->
                <dxi-item itemType="group" id="search-body-left">
                    <dxi-item id="SC001_search_status" dataField="status" [label]="{text: 'Status'}" editorType="dxSelectBox">
                        <dx-select-box id="SC001_search_status-select"
                            placeholder="Auswählen..."
                            [dataSource]="itemsStatus"
                            valueExpr="value"
                            displayExpr="name"
                            [showClearButton]="true"
                            [acceptCustomValue]="true"
                            (onValueChanged)="onGetValueStatus($event)"
                            [noDataText]="'Keine Daten verfügbar'"
                            [(value)]="idStatusSelected">
                        </dx-select-box>
                    </dxi-item>
                    <dxi-item id="SC001_search_pendenz-typ" dataField="pendenzTyp" [label]="{text: 'Pendenz Typ'}" editorType="dxSelectBox">
                        <dx-select-box id="SC001_search_type-select"
                            placeholder="Auswählen..."
                            [dataSource]="itemsPendenzTyp"
                            valueExpr="value"
                            displayExpr="name"
                            [showClearButton]="true"
                            [acceptCustomValue]="true"
                            (onValueChanged)="onGetPendenzTyp($event)"
                            [noDataText]="'Keine Daten verfügbar'"
                            [(value)]="idPendenzType">
                        </dx-select-box>
                    </dxi-item>
                    <dxi-item id="SC001_search_betreff" dataField="betreff" [label]="{text: 'Betreff'}" placeholder="Betreff..." [editorOptions]="{ onValueChanged: onValueChangedBetreff }"></dxi-item> <!--[editorOptions]="{ onValueChanged: handleBetreffChanged }"-->
                    <!-- Ersteller grid1 -->
                    <dxi-item id="SC001_search_ersteller" dataField="ersteller" [label]="{text: 'Ersteller'}">
                        <dx-drop-down-box id="SC001_search_creator-dropdown"
                        [dataSource]="grid1DataSource"
                        [(opened)]="isgrid1Opened"
                        [(value)]="grid1BoxValue"
                        valueExpr="id"
                        [placeholder]="'Auswählen...'"
                        [showClearButton]="true"
                        [displayExpr]="grid1Box_displayExpr">
                            <div id="SC001_search_creator-dropdown-content" *dxTemplate="let data of 'content'">
                                <dx-data-grid id="SC001_search_creator-dropdown-grid"
                                    [dataSource]="grid1DataSource"
                                    [columns]="['typ', 'name', 'kurzel', 'abteilung']"
                                    [selection]="{ mode: 'single' }"
                                    [hoverStateEnabled]="true"
                                    [scrolling]="{ mode: 'infinite' }"
                                    [height]="345"
                                    [(selectedRowKeys)]="grid1SelectedRowKeys"
                                    [showBorders]="true"
                                    (onSelectionChanged)="onGetErsteller($event)"
                                    [(sorting)]="sortingLabel"
                                    [noDataText]="'Keine Daten'">
                                    <dxo-filter-row [visible]="true" [(operationDescriptions)]="operationDescriptions" [(resetOperationText)]="resetOperationText"></dxo-filter-row>
                                    <dxo-summary>
                                        <dxi-total-item  column="name" summaryType="count" displayFormat="Anzahi Datensätze: {0}">
                                        </dxi-total-item>
                                    </dxo-summary>
                                </dx-data-grid>
                            </div>
                        </dx-drop-down-box>
                    </dxi-item>
                    <!-- Empfänger grid2 -->
                    <dxi-item id="SC001_search_empfanger"  dataField="empfanger" [label]="{text: 'Empfänger'}">
                        <dx-drop-down-box id="SC001_search_receiver-dropdown"
                        [dataSource]="grid2DataSource"
                        [(value)]="grid2BoxValue"
                        [(opened)]="isgrid2Opened"
                        valueExpr="id"
                        [placeholder]="'Auswählen...'"
                        [showClearButton]="true"
                        [displayExpr]="grid1Box_displayExpr">
                            <div *dxTemplate="let data of 'content'">
                                <dx-data-grid id="SC001_search_receiver-dropdown-grid"
                                    [dataSource]="grid2DataSource"
                                    [columns]="['typ', 'kurzel', 'name', 'abteilung']"
                                    [selection]="{ mode: 'single' }"
                                    [hoverStateEnabled]="true"
                                    [scrolling]="{ mode: 'infinite' }"
                                    [height]="345"
                                    [(selectedRowKeys)]="grid2SelectedRowKeys"
                                    [showBorders]="true"
                                    (onSelectionChanged)="onGetEmpfamger($event)"
                                    [(sorting)]="sortingLabel"
                                    [noDataText]="'Keine Daten'">
                                    <dxo-filter-row [visible]="true" [(operationDescriptions)]="operationDescriptions" [(resetOperationText)]="resetOperationText"></dxo-filter-row>
                                    <dxo-summary >
                                        <dxi-total-item column="Typ" summaryType="count" displayFormat="Anzahi Datensätze: {0}">
                                        </dxi-total-item>
                                    </dxo-summary>
                                </dx-data-grid>
                            </div>
                        </dx-drop-down-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_name-klient-in" dataField="nameKlientin" [label]="{text: 'Name Klient/in'}" [editorOptions]="{ onValueChanged: onNameKlientInValueChanged }"></dxi-item>  <!--[editorOptions]="{ onValueChanged: handleNameChanged }"-->
                    <dxi-item id="SC001_search_vorname-klient-in" dataField="vornameKlientin" [label]="{text: 'Vorname Klient/in'}" [editorOptions]="{ onValueChanged: onVornameKlientInValueChanged }"></dxi-item> <!--[editorOptions]="{ onValueChanged: handleVornameChanged }"-->
                </dxi-item>
                <!-- end left body -->
                <!-- begin right body -->
                <dxi-item id="search-body-right" itemType="group">
                    <dxi-item id="SC001_search_fallnummer" dataField="fallnummer" [label]="{text: 'Fallnummer'}" [editorOptions]="{ onValueChanged: onFallnummerValueChanged, mask: '999999999', maskChar: ' '}"></dxi-item> <!--[editorOptions]="{ onValueChanged: handleFallnummerChanged }"-->
                    <!-- Leistungsverantw grid3 -->
                    <dxi-item id="SC001_search_leistungsverantw" dataField="leistungsverantw" [label]="{text: 'Leistungsverantw.'}">
                        <dx-drop-down-box id="SC001_search_leistungsverantw-dropdown"
                        [dataSource]="grid3DataSource"
                        [(value)]="grid3BoxValue"
                        [(opened)]="isgrid3Opened"
                        valueExpr="userId"
                        placeholder="Auswählen..."
                        [showClearButton]="true"
                        [displayExpr]="grid3Box_displayExpr">
                            <div *dxTemplate="let data of 'content'">
                                <dx-data-grid id="SC001_search_leistungsverantw-dropdown-grid"
                                    [dataSource]="grid3DataSource"
                                    [columns]="['name', 'logonName', 'displayText']"
                                    [selection]="{ mode: 'single' }"
                                    [hoverStateEnabled]="true"
                                    [scrolling]="{ mode: 'infinite' }"
                                    [height]="345"
                                    [(selectedRowKeys)]="grid3SelectedRowKeys"
                                    [showBorders]="true"
                                    (onSelectionChanged)="onGetLeistungsverantw($event)"
                                    [(sorting)]="sortingLabel"
                                    [noDataText]="'Keine Daten'">
                                    <dxo-filter-row [visible]="true" [(operationDescriptions)]="operationDescriptions" [(resetOperationText)]="resetOperationText"></dxo-filter-row>
                                    <dxo-summary>
                                        <dxi-total-item column="Name" summaryType="count" displayFormat="Anzahi Datensätze: {0}">
                                        </dxi-total-item>
                                    </dxo-summary>
                                </dx-data-grid>
                            </div>
                        </dx-drop-down-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_organisationseinheit" dataField="organisationseinheit" [label]="{text: 'Organisationseinheit'}" editorType="dxSelectBox">
                        <dx-select-box id="SC001_search_organization-select"
                            [placeholder]="'Auswählen...'"
                            [dataSource]="itemsOrganisationseinheit"
                            valueExpr="value"
                            displayExpr="name"
                            [showClearButton]="true"
                            [acceptCustomValue]="true"
                            (onValueChanged)="onGetValueOrganisationseinheit($event)"
                            [noDataText]="'Keine Daten verfügbar'"
                            [(value)]="idOrganisationseinheit">
                        </dx-select-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_erfasst" dataField="erfasst" [label]="{text: 'Erfasst'}" itemType="group" [colCount]="2">
                        <dx-box id="SC001_search_detected-box" direction="row" width="100%">
                            <dxi-item id="SC001_search_erfasst-from" [ratio]="5">
                                <dx-date-box id="SC001_search_detected-box-item1-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strFromErfasst" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onErfasstFromValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                            <dxi-item id="SC001_search_detected-box-item2" [ratio]="1">
                                <div id="SC001_search_detected-bridge" class="two-date-bridge">
                                    <label id="SC001_search_detected-bridge-label">-</label>
                                </div>
                            </dxi-item>
                            <dxi-item id="SC001_search_erfasst-to" [ratio]="5">
                                <dx-date-box id="SC001_search_detected-box1-item3-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strToErfasst" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onErfasstToValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                        </dx-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_fallig" dataField="fallig" [label]="{text: 'Fällig'}" itemType="group" [colCount]="2">
                        <dx-box id="SC001_search_due-box" direction="row" width="100%">
                            <dxi-item id="SC001_search_fallig-from" [ratio]="5">
                                <dx-date-box id="SC001_search_due-box-item1-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strFromFallig" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onFalligFromValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                            <dxi-item id="SC001_search_due-box-item2" [ratio]="1">
                                <div id="SC001_search_due-bridge" class="two-date-bridge">
                                    <label>-</label>
                                </div>
                            </dxi-item>
                            <dxi-item id="SC001_search_fallig-to" [ratio]="5">
                                <dx-date-box id="SC001_search_due-box-item3-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strToFallig" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onFalligToValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                        </dx-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_bearbeitung" dataField="bearbeitung" [label]="{text: 'Bearbeitung'}" itemType="group" [colCount]="2">
                        <dx-box id="SC001_search_processing-box" direction="row" width="100%">
                            <dxi-item id="SC001_search_bearbeitung-from" [ratio]="5">
                                <dx-date-box id="SC001_search_processing-box-item1-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strFromBearbeitung" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onBearbeitungFromValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                            <dxi-item id="SC001_search_processing-box-item2" [ratio]="1">
                                <div id="SC001_search_processing-bridge" class="two-date-bridge">
                                    <label id="SC001_search_processing-bridge-label">-</label>
                                </div>
                            </dxi-item>
                            <dxi-item id="SC001_search_bearbeitung-to" [ratio]="5">
                                <dx-date-box id="SC001_search_processing-box-item3-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strToBearbeitung" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onBearbeitungToValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                        </dx-box>
                    </dxi-item>

                    <dxi-item id="SC001_search_erledigt" dataField="erledigt" [label]="{text: 'Erledigt'}" itemType="group" [colCount]="2" >
                        <dx-box id="SC001_search_done-box" direction="row" width="100%">
                            <dxi-item id="SC001_search_erledigt-from" [ratio]="5">
                                <dx-date-box id="SC001_search_done-box-item1-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strFromErledigt" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onErledigtFromValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                            <dxi-item id="SC001_search_done-box-item2" [ratio]="1">
                                <div id="SC001_search_done-bridge" class="two-date-bridge">
                                    <label id="SC001_search_done-bridge-label">-</label>
                                </div>
                            </dxi-item>
                            <dxi-item id="SC001_search_erledigt-to"  [ratio]="5">
                                <dx-date-box id="SC001_search_done-box-item3-date" type="date" displayFormat="dd.MM.yyyy" width="100%" [showClearButton]="true" [(value)]="strToErledigt" [acceptCustomValue]="false" (onInitialized)="onInitializedDateBox($event)" (onValueChanged)="onErledigtToValueChanged($event)">
                                </dx-date-box>
                            </dxi-item>
                        </dx-box>
                    </dxi-item>
                </dxi-item>
                <!-- end right body -->
            </dxi-item>
        </dx-form>
    </div>
    <!-- end body -->
</div>
