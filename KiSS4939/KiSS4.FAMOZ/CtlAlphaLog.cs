#region Header

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.832
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using KiSS4.DB;
using KiSS4.FAMOZ.PSCDServices;
using System;

#endregion


namespace KiSS4.Administration.ZH
{
    public class CtlAlphaLog : KiSS4.Common.KissSearchUserControl
    {
        #region Fields

        private DevExpress.XtraGrid.Columns.GridColumn colCallState;
        private DevExpress.XtraGrid.Columns.GridColumn colDB;
        private DevExpress.XtraGrid.Columns.GridColumn colElapsedTime;
        private DevExpress.XtraGrid.Columns.GridColumn colID;
        private DevExpress.XtraGrid.Columns.GridColumn colQuery;
        private DevExpress.XtraGrid.Columns.GridColumn colResultCount;
        private DevExpress.XtraGrid.Columns.GridColumn colServer;
        private DevExpress.XtraGrid.Columns.GridColumn colStartTime;
        private DevExpress.XtraGrid.Columns.GridColumn colTabelle;
        private DevExpress.XtraGrid.Columns.GridColumn colUserID;
        private DevExpress.XtraGrid.Columns.GridColumn colWinLogonName;
        private System.ComponentModel.IContainer components;
        private KiSS4.Gui.KissGrid grdAlphaCallLog;
        private DevExpress.XtraGrid.Views.Grid.GridView grvAlphaCallLog;
        private KiSS4.DB.SqlQuery qryAlphaCall;
        private KiSS4.Gui.KissButton btnServerVersionCheck;
        private DevExpress.XtraEditors.Repository.RepositoryItemLookUpEdit repositoryItemLookUpEdit1;

        #endregion

        #region Constructors

        public CtlAlphaLog()
        {
            this.InitializeComponent();
        }

        #endregion

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.components = new System.ComponentModel.Container();
            this.grdAlphaCallLog = new KiSS4.Gui.KissGrid();
            this.qryAlphaCall = new KiSS4.DB.SqlQuery(this.components);
            this.grvAlphaCallLog = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.colID = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colStartTime = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colUserID = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colTabelle = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colElapsedTime = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colResultCount = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colCallState = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colServer = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colDB = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colQuery = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colWinLogonName = new DevExpress.XtraGrid.Columns.GridColumn();
            this.repositoryItemLookUpEdit1 = new DevExpress.XtraEditors.Repository.RepositoryItemLookUpEdit();
            this.btnServerVersionCheck = new KiSS4.Gui.KissButton();
            this.tabControlSearch.SuspendLayout();
            this.tpgListe.SuspendLayout();
            this.tpgSuchen.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.grdAlphaCallLog)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAlphaCall)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grvAlphaCallLog)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.repositoryItemLookUpEdit1)).BeginInit();
            this.SuspendLayout();
            // 
            // searchTitle
            // 
            this.searchTitle.Size = new System.Drawing.Size(989, 24);
            // 
            // tabControlSearch
            // 
            this.tabControlSearch.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Left)));
            this.tabControlSearch.Dock = System.Windows.Forms.DockStyle.Fill;
            this.tabControlSearch.Location = new System.Drawing.Point(0, 0);
            this.tabControlSearch.SelectedTabIndex = 1;
            this.tabControlSearch.Size = new System.Drawing.Size(1013, 537);
            // 
            // tpgListe
            // 
            this.tpgListe.Controls.Add(this.grdAlphaCallLog);
            this.tpgListe.Size = new System.Drawing.Size(1001, 499);
            this.tpgListe.Title = "Liste";
            // 
            // tpgSuchen
            // 
            this.tpgSuchen.Controls.Add(this.btnServerVersionCheck);
            this.tpgSuchen.Size = new System.Drawing.Size(1001, 499);
            this.tpgSuchen.Title = "Suche";
            this.tpgSuchen.Controls.SetChildIndex(this.searchTitle, 0);
            this.tpgSuchen.Controls.SetChildIndex(this.btnServerVersionCheck, 0);
            // 
            // grdAlphaCallLog
            // 
            this.grdAlphaCallLog.DataSource = this.qryAlphaCall;
            this.grdAlphaCallLog.Dock = System.Windows.Forms.DockStyle.Fill;
            this.grdAlphaCallLog.EmbeddedNavigator.Name = "";
            this.grdAlphaCallLog.GridStyle = KiSS4.Gui.GridStyleType.ReadOnly;
            this.grdAlphaCallLog.Location = new System.Drawing.Point(0, 0);
            this.grdAlphaCallLog.MainView = this.grvAlphaCallLog;
            this.grdAlphaCallLog.Name = "grdAlphaCallLog";
            this.grdAlphaCallLog.RepositoryItems.AddRange(new DevExpress.XtraEditors.Repository.RepositoryItem[] {
            this.repositoryItemLookUpEdit1});
            this.grdAlphaCallLog.Size = new System.Drawing.Size(1001, 499);
            this.grdAlphaCallLog.TabIndex = 0;
            this.grdAlphaCallLog.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.grvAlphaCallLog});
            // 
            // qryAlphaCall
            // 
            this.qryAlphaCall.HostControl = this;
            this.qryAlphaCall.SelectStatement = "SELECT TOP 10000 LOG.*, USR.LogonName\r\nFROM AlphaCallLog LOG WITH (READUNCOMMITTE" +
                "D)\r\n  LEFT JOIN XUser USR WITH (READUNCOMMITTED) ON USR.UserID = LOG.UserID\r\nORD" +
                "ER BY StartTime DESC";
            this.qryAlphaCall.TableName = "AlphaCallLog";
            // 
            // grvAlphaCallLog
            // 
            this.grvAlphaCallLog.Appearance.Empty.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.grvAlphaCallLog.Appearance.Empty.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.Empty.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.Empty.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.EvenRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.EvenRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.FocusedCell.BackColor = System.Drawing.SystemColors.Highlight;
            this.grvAlphaCallLog.Appearance.FocusedCell.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.FocusedCell.ForeColor = System.Drawing.Color.White;
            this.grvAlphaCallLog.Appearance.FocusedCell.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.FocusedCell.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.FocusedCell.Options.UseForeColor = true;
            this.grvAlphaCallLog.Appearance.FocusedRow.BackColor = System.Drawing.SystemColors.Highlight;
            this.grvAlphaCallLog.Appearance.FocusedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.FocusedRow.ForeColor = System.Drawing.Color.White;
            this.grvAlphaCallLog.Appearance.FocusedRow.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.FocusedRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.FocusedRow.Options.UseForeColor = true;
            this.grvAlphaCallLog.Appearance.GroupPanel.BackColor = System.Drawing.Color.PeachPuff;
            this.grvAlphaCallLog.Appearance.GroupPanel.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.GroupRow.BackColor = System.Drawing.Color.PeachPuff;
            this.grvAlphaCallLog.Appearance.GroupRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.grvAlphaCallLog.Appearance.GroupRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.grvAlphaCallLog.Appearance.GroupRow.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.GroupRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.GroupRow.Options.UseForeColor = true;
            this.grvAlphaCallLog.Appearance.HeaderPanel.BackColor = System.Drawing.Color.Tan;
            this.grvAlphaCallLog.Appearance.HeaderPanel.BorderColor = System.Drawing.Color.Tan;
            this.grvAlphaCallLog.Appearance.HeaderPanel.Font = new System.Drawing.Font("Arial", 11F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.grvAlphaCallLog.Appearance.HeaderPanel.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.HeaderPanel.Options.UseBorderColor = true;
            this.grvAlphaCallLog.Appearance.HeaderPanel.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.HideSelectionRow.BackColor = System.Drawing.Color.PowderBlue;
            this.grvAlphaCallLog.Appearance.HideSelectionRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.HideSelectionRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.grvAlphaCallLog.Appearance.HideSelectionRow.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.HideSelectionRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.HideSelectionRow.Options.UseForeColor = true;
            this.grvAlphaCallLog.Appearance.HorzLine.BackColor = System.Drawing.Color.Silver;
            this.grvAlphaCallLog.Appearance.HorzLine.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.OddRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.OddRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.Row.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.grvAlphaCallLog.Appearance.Row.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.Row.Options.UseBackColor = true;
            this.grvAlphaCallLog.Appearance.Row.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.SelectedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAlphaCallLog.Appearance.SelectedRow.Options.UseFont = true;
            this.grvAlphaCallLog.Appearance.VertLine.BackColor = System.Drawing.Color.Silver;
            this.grvAlphaCallLog.Appearance.VertLine.Options.UseBackColor = true;
            this.grvAlphaCallLog.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.grvAlphaCallLog.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.colID,
            this.colStartTime,
            this.colUserID,
            this.colTabelle,
            this.colElapsedTime,
            this.colResultCount,
            this.colCallState,
            this.colServer,
            this.colDB,
            this.colQuery,
            this.colWinLogonName});
            this.grvAlphaCallLog.FocusRectStyle = DevExpress.XtraGrid.Views.Grid.DrawFocusRectStyle.None;
            this.grvAlphaCallLog.GridControl = this.grdAlphaCallLog;
            this.grvAlphaCallLog.Name = "grvAlphaCallLog";
            this.grvAlphaCallLog.OptionsBehavior.Editable = false;
            this.grvAlphaCallLog.OptionsCustomization.AllowFilter = false;
            this.grvAlphaCallLog.OptionsFilter.UseNewCustomFilterDialog = true;
            this.grvAlphaCallLog.OptionsNavigation.AutoFocusNewRow = true;
            this.grvAlphaCallLog.OptionsNavigation.UseTabKey = false;
            this.grvAlphaCallLog.OptionsView.ColumnAutoWidth = false;
            this.grvAlphaCallLog.OptionsView.ShowFilterPanelMode = DevExpress.XtraGrid.Views.Base.ShowFilterPanelMode.Never;
            this.grvAlphaCallLog.OptionsView.ShowGroupPanel = false;
            this.grvAlphaCallLog.OptionsView.ShowIndicator = false;
            // 
            // colID
            // 
            this.colID.Caption = "ID";
            this.colID.FieldName = "AlphaCallLogID";
            this.colID.Name = "colID";
            this.colID.Visible = true;
            this.colID.VisibleIndex = 0;
            this.colID.Width = 37;
            // 
            // colStartTime
            // 
            this.colStartTime.Caption = "Startzeit";
            this.colStartTime.DisplayFormat.FormatString = "dd.MM.yyyy HH:mm:ss";
            this.colStartTime.DisplayFormat.FormatType = DevExpress.Utils.FormatType.DateTime;
            this.colStartTime.FieldName = "StartTime";
            this.colStartTime.Name = "colStartTime";
            this.colStartTime.Visible = true;
            this.colStartTime.VisibleIndex = 1;
            this.colStartTime.Width = 128;
            // 
            // colUserID
            // 
            this.colUserID.Caption = "Benutzer";
            this.colUserID.FieldName = "UserLogon";
            this.colUserID.Name = "colUserID";
            this.colUserID.Visible = true;
            this.colUserID.VisibleIndex = 2;
            // 
            // colTabelle
            // 
            this.colTabelle.Caption = "Tabelle";
            this.colTabelle.FieldName = "QueriedTable";
            this.colTabelle.Name = "colTabelle";
            this.colTabelle.Visible = true;
            this.colTabelle.VisibleIndex = 3;
            // 
            // colElapsedTime
            // 
            this.colElapsedTime.Caption = "Dauer (ms)";
            this.colElapsedTime.FieldName = "ElapsedMilliseconds";
            this.colElapsedTime.Name = "colElapsedTime";
            this.colElapsedTime.Visible = true;
            this.colElapsedTime.VisibleIndex = 4;
            this.colElapsedTime.Width = 73;
            // 
            // colResultCount
            // 
            this.colResultCount.Caption = "Resultate";
            this.colResultCount.FieldName = "ResultTableCount";
            this.colResultCount.Name = "colResultCount";
            this.colResultCount.Visible = true;
            this.colResultCount.VisibleIndex = 5;
            this.colResultCount.Width = 64;
            // 
            // colCallState
            // 
            this.colCallState.Caption = "Status";
            this.colCallState.FieldName = "CallState";
            this.colCallState.Name = "colCallState";
            this.colCallState.Visible = true;
            this.colCallState.VisibleIndex = 6;
            this.colCallState.Width = 47;
            // 
            // colServer
            // 
            this.colServer.Caption = "Server";
            this.colServer.FieldName = "Server";
            this.colServer.Name = "colServer";
            this.colServer.Visible = true;
            this.colServer.VisibleIndex = 7;
            this.colServer.Width = 89;
            // 
            // colDB
            // 
            this.colDB.Caption = "DB";
            this.colDB.FieldName = "DatabaseName";
            this.colDB.Name = "colDB";
            this.colDB.Visible = true;
            this.colDB.VisibleIndex = 8;
            this.colDB.Width = 26;
            // 
            // colQuery
            // 
            this.colQuery.Caption = "Query";
            this.colQuery.FieldName = "Query";
            this.colQuery.Name = "colQuery";
            this.colQuery.Visible = true;
            this.colQuery.VisibleIndex = 9;
            this.colQuery.Width = 212;
            // 
            // colWinLogonName
            // 
            this.colWinLogonName.Caption = "WinLogonName";
            this.colWinLogonName.FieldName = "UserWinLogonName";
            this.colWinLogonName.Name = "colWinLogonName";
            this.colWinLogonName.Visible = true;
            this.colWinLogonName.VisibleIndex = 10;
            this.colWinLogonName.Width = 100;
            // 
            // repositoryItemLookUpEdit1
            // 
            this.repositoryItemLookUpEdit1.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.repositoryItemLookUpEdit1.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.repositoryItemLookUpEdit1.AppearanceDropDown.Options.UseBackColor = true;
            this.repositoryItemLookUpEdit1.AppearanceDropDown.Options.UseFont = true;
            this.repositoryItemLookUpEdit1.AutoHeight = false;
            this.repositoryItemLookUpEdit1.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo)});
            this.repositoryItemLookUpEdit1.Name = "repositoryItemLookUpEdit1";
            this.repositoryItemLookUpEdit1.NullText = "";
            this.repositoryItemLookUpEdit1.ShowFooter = false;
            this.repositoryItemLookUpEdit1.ShowHeader = false;
            // 
            // btnServerVersionCheck
            // 
            this.btnServerVersionCheck.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.btnServerVersionCheck.FlatStyle = System.Windows.Forms.FlatStyle.Flat;
            this.btnServerVersionCheck.Location = new System.Drawing.Point(18, 73);
            this.btnServerVersionCheck.Name = "btnServerVersionCheck";
            this.btnServerVersionCheck.Size = new System.Drawing.Size(266, 24);
            this.btnServerVersionCheck.TabIndex = 4;
            this.btnServerVersionCheck.Text = "Prüfe Version des KiSS-Alpha-Webservices";
            this.btnServerVersionCheck.UseCompatibleTextRendering = true;
            this.btnServerVersionCheck.UseVisualStyleBackColor = false;
            this.btnServerVersionCheck.Click += new System.EventHandler(this.btnServerVersionCheck_Click);
            // 
            // CtlAlphaLog
            // 
            this.ActiveSQLQuery = this.qryAlphaCall;
            this.Name = "CtlAlphaLog";
            this.Size = new System.Drawing.Size(1013, 537);
            this.Load += new System.EventHandler(this.CtlAlphaLog_Load);
            this.tabControlSearch.ResumeLayout(false);
            this.tpgListe.ResumeLayout(false);
            this.tpgSuchen.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.grdAlphaCallLog)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAlphaCall)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grvAlphaCallLog)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.repositoryItemLookUpEdit1)).EndInit();
            this.ResumeLayout(false);

        }

        #endregion

        #region Dispose

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        protected override void Dispose(bool disposing)
        {
            if (disposing)
            {
                if ((components != null))
                {
                    components.Dispose();
                }
            }
            base.Dispose(disposing);
        }

        #endregion

        #region Private Methods

        private void CtlAlphaLog_Load(object sender, System.EventArgs e)
        {
            qryAlphaCall.Fill();
        }

        #endregion

        private void btnServerVersionCheck_Click(object sender, System.EventArgs e)
        {
            try
            {
                KissMsg.ShowInfo(string.Format("Der KiSS-Alpha-Webservice hat die Version {0}", PSCDInterface.GetServerVersion()));
            }
            catch (Exception ex)
            {
                KissMsg.ShowError("Fehler beim Prüfen der KiSS-Alpha-Webservice-Version", ex); 
            }
        }
    }
}