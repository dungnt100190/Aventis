
IF  EXISTS (SELECT * FROM sys.xml_schema_collections c, sys.schemas s WHERE c.schema_id = s.schema_id AND (quotename(s.name) + '.' + quotename(c.name)) = N'[dbo].[ASVS_SchemaCollection]')
DROP XML SCHEMA COLLECTION  [dbo].[ASVS_SchemaCollection]
GO

CREATE XML SCHEMA COLLECTION [dbo].[ASVS_SchemaCollection] AS N'<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:t="http://asvs.jgk.be.ch/schemas/evok/20090708/SozialhilfeMeldungImport" targetNamespace="http://asvs.jgk.be.ch/schemas/evok/20090708/SozialhilfeMeldungImport" elementFormDefault="qualified"><xsd:element name="SozialfallMeldungen" type="t:SozialfallMeldungen" /><xsd:complexType name="Person"><xsd:complexContent><xsd:restriction base="xsd:anyType"><xsd:sequence><xsd:element name="Name" type="xsd:string" /><xsd:element name="Vorname" type="xsd:string" /><xsd:element name="Strasse" type="xsd:string" minOccurs="0" /><xsd:element name="Postleitzahl" type="xsd:int" /><xsd:element name="Wohnort" type="xsd:string" /><xsd:element name="NeueVersichertenNummer"><xsd:simpleType><xsd:restriction base="xsd:string"><xsd:pattern value="\d{3}\.\d{4}\.\d{4}\.\d{2}" /></xsd:restriction></xsd:simpleType></xsd:element><xsd:element name="Geburtsdatum" type="xsd:date" /><xsd:element name="BeginnSozialhilfe" type="xsd:date" /><xsd:element name="EndeSozialhilfe" type="xsd:date" /></xsd:sequence></xsd:restriction></xsd:complexContent></xsd:complexType><xsd:complexType name="Sozialfall"><xsd:complexContent><xsd:restriction base="xsd:anyType"><xsd:sequence><xsd:element name="UserIdErstellt" type="xsd:string" /><xsd:element name="TimestampErstellt" type="xsd:dateTime" /><xsd:element name="Mitglieder" type="t:Person" maxOccurs="unbounded" /></xsd:sequence></xsd:restriction></xsd:complexContent></xsd:complexType><xsd:complexType name="SozialfallMeldungen"><xsd:complexContent><xsd:restriction base="xsd:anyType"><xsd:choice><xsd:sequence><xsd:element name="Sozialfall" type="t:Sozialfall" maxOccurs="unbounded" /></xsd:sequence></xsd:choice></xsd:restriction></xsd:complexContent></xsd:complexType></xsd:schema>'
GO
