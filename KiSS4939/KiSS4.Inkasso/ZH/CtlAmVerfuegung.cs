#region Header

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.3053
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#endregion

using System;
using System.Drawing;
using Kiss.Interfaces.UI;
using KiSS4.Common;
using KiSS4.DB;
using KiSS4.Gui;

namespace KiSS4.Inkasso.ZH
{
    public class CtlAmVerfuegung : KiSS4.Gui.KissUserControl
    {
        #region Fields

        private bool DatenDetailSindKorrigiert = false;
        private int FaFallID;

        // Letzte Bearbeitung
        // 05.02.2008 : sozheo : neu
        // ---------------------------------------------------
        private int FaLeistungID;
        private bool FaLeistungIstGeschlossen = false;
        private int FallBaPersonID;
        private int LeistungBaPersonID;
        private int LeistungUserID;
        private bool MainCanDelete = false;
        private string SessionUserName;
        private KiSS4.Dokument.KissDocumentButton btnWordBerichtBrief;
        private DevExpress.XtraGrid.Columns.GridColumn colAmBerechnung;
        private DevExpress.XtraGrid.Columns.GridColumn colAmVerfuegungStatus;
        private DevExpress.XtraGrid.Columns.GridColumn colAnzahlKinder;
        private DevExpress.XtraGrid.Columns.GridColumn colBerechnungAb;
        private DevExpress.XtraGrid.Columns.GridColumn colBezeichnung;
        private DevExpress.XtraGrid.Columns.GridColumn colBezeichnungAB;
        private DevExpress.XtraGrid.Columns.GridColumn colEinkommen;
        private DevExpress.XtraGrid.Columns.GridColumn colEntscheid;
        private DevExpress.XtraGrid.Columns.GridColumn colSelect;
        private DevExpress.XtraGrid.Columns.GridColumn colStatus;
        private DevExpress.XtraGrid.Columns.GridColumn colUser;
        private DevExpress.XtraGrid.Columns.GridColumn colVerfuegungsID;
        private System.ComponentModel.IContainer components;
        private KiSS4.Gui.KissCalcEdit edtAmVerfuegungID;
        private KiSS4.Gui.KissLookUpEdit edtAmVerfuegungStatus;
        private KiSS4.Gui.KissTextEdit edtBezeichnung;
        private KiSS4.Gui.KissDateEdit edtEntscheidDatum;
        private KiSS4.Dokument.XDokument edtErstellungsDatum;
        private KiSS4.Gui.KissDateEdit edtRevisionsdatum;
        private KiSS4.Gui.KissButtonEdit edtUserID;
        private KiSS4.Gui.KissGrid grdAmAnspruchsberechnung;
        private KiSS4.Gui.KissGrid grdVerfuegung;
        private DevExpress.XtraGrid.Views.Grid.GridView grvAmAnspruchsberechnung;
        private DevExpress.XtraGrid.Views.Grid.GridView gvwVerfuegung;
        private KiSS4.Gui.KissLabel kissLabel1;
        private KiSS4.Gui.KissLabel lblAmVerfuegungID;
        private KiSS4.Gui.KissLabel lblAmVerfuegungStatus;
        private KiSS4.Gui.KissLabel lblBezeichnung;
        private KiSS4.Gui.KissLabel lblEntscheidDatum;
        private KiSS4.Gui.KissLabel lblErstellungsDatum;
        private KiSS4.Gui.KissLabel lblUserID;
        private KiSS4.DB.SqlQuery qryAnspruch;
        private DevExpress.XtraEditors.Repository.RepositoryItemCheckEdit repedtCheck;

        public KiSS4.DB.SqlQuery qryAmVerfuegung;

        #endregion

        #region Constructors

        public CtlAmVerfuegung()
        {
            this.InitializeComponent();
        }

        #endregion

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.components = new System.ComponentModel.Container();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject8 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject7 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject3 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject4 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject5 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject6 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject2 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject1 = new DevExpress.Utils.SerializableAppearanceObject();
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(CtlAmVerfuegung));
            this.edtAmVerfuegungID = new KiSS4.Gui.KissCalcEdit();
            this.qryAmVerfuegung = new KiSS4.DB.SqlQuery(this.components);
            this.edtEntscheidDatum = new KiSS4.Gui.KissDateEdit();
            this.grdAmAnspruchsberechnung = new KiSS4.Gui.KissGrid();
            this.qryAnspruch = new KiSS4.DB.SqlQuery(this.components);
            this.grvAmAnspruchsberechnung = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.colSelect = new DevExpress.XtraGrid.Columns.GridColumn();
            this.repedtCheck = new DevExpress.XtraEditors.Repository.RepositoryItemCheckEdit();
            this.colBezeichnungAB = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colAnzahlKinder = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colStatus = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colAmBerechnung = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colEinkommen = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colBerechnungAb = new DevExpress.XtraGrid.Columns.GridColumn();
            this.grdVerfuegung = new KiSS4.Gui.KissGrid();
            this.gvwVerfuegung = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.colVerfuegungsID = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colBezeichnung = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colEntscheid = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colAmVerfuegungStatus = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colUser = new DevExpress.XtraGrid.Columns.GridColumn();
            this.edtBezeichnung = new KiSS4.Gui.KissTextEdit();
            this.edtAmVerfuegungStatus = new KiSS4.Gui.KissLookUpEdit();
            this.edtErstellungsDatum = new KiSS4.Dokument.XDokument();
            this.edtRevisionsdatum = new KiSS4.Gui.KissDateEdit();
            this.edtUserID = new KiSS4.Gui.KissButtonEdit();
            this.lblAmVerfuegungID = new KiSS4.Gui.KissLabel();
            this.lblBezeichnung = new KiSS4.Gui.KissLabel();
            this.lblErstellungsDatum = new KiSS4.Gui.KissLabel();
            this.lblUserID = new KiSS4.Gui.KissLabel();
            this.lblEntscheidDatum = new KiSS4.Gui.KissLabel();
            this.lblAmVerfuegungStatus = new KiSS4.Gui.KissLabel();
            this.kissLabel1 = new KiSS4.Gui.KissLabel();
            this.btnWordBerichtBrief = new KiSS4.Dokument.KissDocumentButton();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungID.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAmVerfuegung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtEntscheidDatum.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdAmAnspruchsberechnung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAnspruch)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grvAmAnspruchsberechnung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.repedtCheck)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdVerfuegung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwVerfuegung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezeichnung.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungStatus)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungStatus.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtErstellungsDatum.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtRevisionsdatum.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtUserID.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmVerfuegungID)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezeichnung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblErstellungsDatum)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblUserID)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblEntscheidDatum)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmVerfuegungStatus)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).BeginInit();
            this.SuspendLayout();
            // 
            // edtAmVerfuegungID
            // 
            this.edtAmVerfuegungID.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtAmVerfuegungID.DataMember = "AmVerfuegungID";
            this.edtAmVerfuegungID.DataSource = this.qryAmVerfuegung;
            this.edtAmVerfuegungID.EditMode = Kiss.Interfaces.UI.EditModeType.ReadOnly;
            this.edtAmVerfuegungID.Location = new System.Drawing.Point(126, 267);
            this.edtAmVerfuegungID.Name = "edtAmVerfuegungID";
            this.edtAmVerfuegungID.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtAmVerfuegungID.Properties.Appearance.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.edtAmVerfuegungID.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtAmVerfuegungID.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtAmVerfuegungID.Properties.Appearance.Options.UseBackColor = true;
            this.edtAmVerfuegungID.Properties.Appearance.Options.UseBorderColor = true;
            this.edtAmVerfuegungID.Properties.Appearance.Options.UseFont = true;
            this.edtAmVerfuegungID.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtAmVerfuegungID.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtAmVerfuegungID.Properties.ReadOnly = true;
            this.edtAmVerfuegungID.Size = new System.Drawing.Size(172, 24);
            this.edtAmVerfuegungID.TabIndex = 0;
            this.edtAmVerfuegungID.TabStop = false;
            // 
            // qryAmVerfuegung
            // 
            this.qryAmVerfuegung.CanDelete = true;
            this.qryAmVerfuegung.CanInsert = true;
            this.qryAmVerfuegung.CanUpdate = true;
            this.qryAmVerfuegung.HostControl = this;
            this.qryAmVerfuegung.SelectStatement = resources.GetString("qryAmVerfuegung.SelectStatement");
            this.qryAmVerfuegung.TableName = "AmVerfuegung";
            this.qryAmVerfuegung.BeforeDelete += new System.EventHandler(this.qryAmVerfuegung_BeforeDelete);
            this.qryAmVerfuegung.BeforePost += new System.EventHandler(this.qryAmVerfuegung_BeforePost);
            this.qryAmVerfuegung.PositionChanged += new System.EventHandler(this.qryAmVerfuegung_PositionChanged);
            this.qryAmVerfuegung.AfterFill += new System.EventHandler(this.qryAmVerfuegung_AfterFill);
            this.qryAmVerfuegung.AfterInsert += new System.EventHandler(this.qryAmVerfuegung_AfterInsert);
            this.qryAmVerfuegung.AfterPost += new System.EventHandler(this.qryAmVerfuegung_AfterPost);
            this.qryAmVerfuegung.AfterDelete += new System.EventHandler(this.qryAmVerfuegung_AfterDelete);
            // 
            // edtEntscheidDatum
            // 
            this.edtEntscheidDatum.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtEntscheidDatum.DataMember = "EntscheidDatum";
            this.edtEntscheidDatum.DataSource = this.qryAmVerfuegung;
            this.edtEntscheidDatum.EditValue = null;
            this.edtEntscheidDatum.Location = new System.Drawing.Point(451, 267);
            this.edtEntscheidDatum.Name = "edtEntscheidDatum";
            this.edtEntscheidDatum.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtEntscheidDatum.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtEntscheidDatum.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtEntscheidDatum.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtEntscheidDatum.Properties.Appearance.Options.UseBackColor = true;
            this.edtEntscheidDatum.Properties.Appearance.Options.UseBorderColor = true;
            this.edtEntscheidDatum.Properties.Appearance.Options.UseFont = true;
            this.edtEntscheidDatum.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject8.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject8.Options.UseBackColor = true;
            this.edtEntscheidDatum.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtEntscheidDatum.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject8)});
            this.edtEntscheidDatum.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtEntscheidDatum.Properties.ShowToday = false;
            this.edtEntscheidDatum.Size = new System.Drawing.Size(107, 24);
            this.edtEntscheidDatum.TabIndex = 0;
            this.edtEntscheidDatum.TabStop = false;
            // 
            // grdAmAnspruchsberechnung
            // 
            this.grdAmAnspruchsberechnung.Anchor = ((System.Windows.Forms.AnchorStyles)(((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.grdAmAnspruchsberechnung.DataSource = this.qryAnspruch;
            this.grdAmAnspruchsberechnung.EmbeddedNavigator.Appearance.ForeColor = System.Drawing.Color.Black;
            this.grdAmAnspruchsberechnung.EmbeddedNavigator.Appearance.Options.UseForeColor = true;
            this.grdAmAnspruchsberechnung.EmbeddedNavigator.Name = "kissGrid1.EmbeddedNavigator";
            this.grdAmAnspruchsberechnung.Location = new System.Drawing.Point(18, 411);
            this.grdAmAnspruchsberechnung.MainView = this.grvAmAnspruchsberechnung;
            this.grdAmAnspruchsberechnung.Name = "grdAmAnspruchsberechnung";
            this.grdAmAnspruchsberechnung.RepositoryItems.AddRange(new DevExpress.XtraEditors.Repository.RepositoryItem[] {
            this.repedtCheck});
            this.grdAmAnspruchsberechnung.Size = new System.Drawing.Size(747, 155);
            this.grdAmAnspruchsberechnung.TabIndex = 0;
            this.grdAmAnspruchsberechnung.TabStop = false;
            this.grdAmAnspruchsberechnung.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.grvAmAnspruchsberechnung});
            // 
            // qryAnspruch
            // 
            this.qryAnspruch.BatchUpdate = true;
            this.qryAnspruch.CanUpdate = true;
            this.qryAnspruch.HostControl = this;
            this.qryAnspruch.SelectStatement = resources.GetString("qryAnspruch.SelectStatement");
            this.qryAnspruch.BeforePost += new System.EventHandler(this.qryAnspruch_BeforePost);
            // 
            // grvAmAnspruchsberechnung
            // 
            this.grvAmAnspruchsberechnung.Appearance.Empty.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.grvAmAnspruchsberechnung.Appearance.Empty.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.Empty.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.Empty.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.EvenRow.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(236)))), ((int)(((byte)(227)))), ((int)(((byte)(215)))));
            this.grvAmAnspruchsberechnung.Appearance.EvenRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.EvenRow.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.EvenRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.BackColor = System.Drawing.SystemColors.HotTrack;
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.ForeColor = System.Drawing.SystemColors.HighlightText;
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedCell.Options.UseForeColor = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.BackColor = System.Drawing.SystemColors.Highlight;
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.ForeColor = System.Drawing.SystemColors.HighlightText;
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.FocusedRow.Options.UseForeColor = true;
            this.grvAmAnspruchsberechnung.Appearance.GroupPanel.BackColor = System.Drawing.Color.PeachPuff;
            this.grvAmAnspruchsberechnung.Appearance.GroupPanel.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.BackColor = System.Drawing.Color.PeachPuff;
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.GroupRow.Options.UseForeColor = true;
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.BackColor = System.Drawing.Color.Tan;
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.BorderColor = System.Drawing.Color.Tan;
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.Font = new System.Drawing.Font("Arial", 11F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.Options.UseBorderColor = true;
            this.grvAmAnspruchsberechnung.Appearance.HeaderPanel.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.BackColor = System.Drawing.Color.PowderBlue;
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.HideSelectionRow.Options.UseForeColor = true;
            this.grvAmAnspruchsberechnung.Appearance.HorzLine.BackColor = System.Drawing.Color.LightGray;
            this.grvAmAnspruchsberechnung.Appearance.HorzLine.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.OddRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.OddRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.Row.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.grvAmAnspruchsberechnung.Appearance.Row.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.Row.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.Row.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.BackColor = System.Drawing.SystemColors.Highlight;
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.ForeColor = System.Drawing.SystemColors.HighlightText;
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.Options.UseFont = true;
            this.grvAmAnspruchsberechnung.Appearance.SelectedRow.Options.UseForeColor = true;
            this.grvAmAnspruchsberechnung.Appearance.VertLine.BackColor = System.Drawing.Color.LightGray;
            this.grvAmAnspruchsberechnung.Appearance.VertLine.Options.UseBackColor = true;
            this.grvAmAnspruchsberechnung.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.grvAmAnspruchsberechnung.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.colSelect,
            this.colBezeichnungAB,
            this.colAnzahlKinder,
            this.colStatus,
            this.colAmBerechnung,
            this.colEinkommen,
            this.colBerechnungAb});
            this.grvAmAnspruchsberechnung.GridControl = this.grdAmAnspruchsberechnung;
            this.grvAmAnspruchsberechnung.GroupPanelText = "zu gruppierende Kolonnen in diesen Bereich ziehen";
            this.grvAmAnspruchsberechnung.Name = "grvAmAnspruchsberechnung";
            this.grvAmAnspruchsberechnung.OptionsCustomization.AllowFilter = false;
            this.grvAmAnspruchsberechnung.OptionsFilter.AllowFilterEditor = false;
            this.grvAmAnspruchsberechnung.OptionsFilter.UseNewCustomFilterDialog = true;
            this.grvAmAnspruchsberechnung.OptionsNavigation.AutoFocusNewRow = true;
            this.grvAmAnspruchsberechnung.OptionsView.ColumnAutoWidth = false;
            this.grvAmAnspruchsberechnung.OptionsView.ShowFilterPanelMode = DevExpress.XtraGrid.Views.Base.ShowFilterPanelMode.Never;
            this.grvAmAnspruchsberechnung.OptionsView.ShowGroupPanel = false;
            this.grvAmAnspruchsberechnung.CustomDrawCell += new DevExpress.XtraGrid.Views.Base.RowCellCustomDrawEventHandler(this.grvAmAnspruchsberechnung_CustomDrawCell);
            // 
            // colSelect
            // 
            this.colSelect.AppearanceCell.BackColor = System.Drawing.Color.AliceBlue;
            this.colSelect.AppearanceCell.Options.UseBackColor = true;
            this.colSelect.AppearanceHeader.Options.UseTextOptions = true;
            this.colSelect.AppearanceHeader.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Center;
            this.colSelect.Caption = "sel.";
            this.colSelect.ColumnEdit = this.repedtCheck;
            this.colSelect.FieldName = "IsSelected";
            this.colSelect.Name = "colSelect";
            this.colSelect.Visible = true;
            this.colSelect.VisibleIndex = 0;
            this.colSelect.Width = 50;
            // 
            // repedtCheck
            // 
            this.repedtCheck.AutoHeight = false;
            this.repedtCheck.Name = "repedtCheck";
            this.repedtCheck.CheckedChanged += new System.EventHandler(this.repedtCheck_CheckedChanged);
            // 
            // colBezeichnungAB
            // 
            this.colBezeichnungAB.Caption = "Bezeichnung der Berechnung";
            this.colBezeichnungAB.FieldName = "Bezeichnung";
            this.colBezeichnungAB.Name = "colBezeichnungAB";
            this.colBezeichnungAB.OptionsColumn.AllowEdit = false;
            this.colBezeichnungAB.Visible = true;
            this.colBezeichnungAB.VisibleIndex = 1;
            this.colBezeichnungAB.Width = 184;
            // 
            // colAnzahlKinder
            // 
            this.colAnzahlKinder.AppearanceCell.Options.UseTextOptions = true;
            this.colAnzahlKinder.AppearanceCell.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Center;
            this.colAnzahlKinder.AppearanceHeader.Options.UseTextOptions = true;
            this.colAnzahlKinder.AppearanceHeader.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Center;
            this.colAnzahlKinder.Caption = "Kinder";
            this.colAnzahlKinder.FieldName = "AnzKinder";
            this.colAnzahlKinder.Name = "colAnzahlKinder";
            this.colAnzahlKinder.OptionsColumn.AllowEdit = false;
            this.colAnzahlKinder.Visible = true;
            this.colAnzahlKinder.VisibleIndex = 2;
            this.colAnzahlKinder.Width = 50;
            // 
            // colStatus
            // 
            this.colStatus.Caption = "Status";
            this.colStatus.FieldName = "Status";
            this.colStatus.Name = "colStatus";
            this.colStatus.OptionsColumn.AllowEdit = false;
            this.colStatus.Visible = true;
            this.colStatus.VisibleIndex = 3;
            this.colStatus.Width = 108;
            // 
            // colAmBerechnung
            // 
            this.colAmBerechnung.Caption = "Berechnungstyp";
            this.colAmBerechnung.FieldName = "BerechnungTyp";
            this.colAmBerechnung.Name = "colAmBerechnung";
            this.colAmBerechnung.OptionsColumn.AllowEdit = false;
            this.colAmBerechnung.Visible = true;
            this.colAmBerechnung.VisibleIndex = 4;
            this.colAmBerechnung.Width = 113;
            // 
            // colEinkommen
            // 
            this.colEinkommen.Caption = "Einkommensvariante";
            this.colEinkommen.FieldName = "Einkommen";
            this.colEinkommen.Name = "colEinkommen";
            this.colEinkommen.Visible = true;
            this.colEinkommen.VisibleIndex = 5;
            this.colEinkommen.Width = 138;
            // 
            // colBerechnungAb
            // 
            this.colBerechnungAb.Caption = "Berechnung ab";
            this.colBerechnungAb.FieldName = "BerechnungDatumAb";
            this.colBerechnungAb.Name = "colBerechnungAb";
            this.colBerechnungAb.OptionsColumn.AllowEdit = false;
            this.colBerechnungAb.Visible = true;
            this.colBerechnungAb.VisibleIndex = 6;
            this.colBerechnungAb.Width = 94;
            // 
            // grdVerfuegung
            // 
            this.grdVerfuegung.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom)
                        | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.grdVerfuegung.DataSource = this.qryAmVerfuegung;
            this.grdVerfuegung.EmbeddedNavigator.Name = "";
            this.grdVerfuegung.GridStyle = KiSS4.Gui.GridStyleType.ReadOnly;
            this.grdVerfuegung.Location = new System.Drawing.Point(17, 18);
            this.grdVerfuegung.MainView = this.gvwVerfuegung;
            this.grdVerfuegung.Name = "grdVerfuegung";
            this.grdVerfuegung.Size = new System.Drawing.Size(748, 231);
            this.grdVerfuegung.TabIndex = 0;
            this.grdVerfuegung.TabStop = false;
            this.grdVerfuegung.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.gvwVerfuegung});
            // 
            // gvwVerfuegung
            // 
            this.gvwVerfuegung.Appearance.Empty.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.gvwVerfuegung.Appearance.Empty.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.Empty.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.Empty.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.EvenRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.EvenRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.FocusedCell.BackColor = System.Drawing.SystemColors.Highlight;
            this.gvwVerfuegung.Appearance.FocusedCell.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.FocusedCell.ForeColor = System.Drawing.Color.White;
            this.gvwVerfuegung.Appearance.FocusedCell.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.FocusedCell.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.FocusedCell.Options.UseForeColor = true;
            this.gvwVerfuegung.Appearance.FocusedRow.BackColor = System.Drawing.SystemColors.Highlight;
            this.gvwVerfuegung.Appearance.FocusedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.FocusedRow.ForeColor = System.Drawing.Color.White;
            this.gvwVerfuegung.Appearance.FocusedRow.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.FocusedRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.FocusedRow.Options.UseForeColor = true;
            this.gvwVerfuegung.Appearance.GroupPanel.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwVerfuegung.Appearance.GroupPanel.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.GroupRow.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwVerfuegung.Appearance.GroupRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwVerfuegung.Appearance.GroupRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwVerfuegung.Appearance.GroupRow.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.GroupRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.GroupRow.Options.UseForeColor = true;
            this.gvwVerfuegung.Appearance.HeaderPanel.BackColor = System.Drawing.Color.Tan;
            this.gvwVerfuegung.Appearance.HeaderPanel.BorderColor = System.Drawing.Color.Tan;
            this.gvwVerfuegung.Appearance.HeaderPanel.Font = new System.Drawing.Font("Arial", 11F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwVerfuegung.Appearance.HeaderPanel.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.HeaderPanel.Options.UseBorderColor = true;
            this.gvwVerfuegung.Appearance.HeaderPanel.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.HideSelectionRow.BackColor = System.Drawing.Color.PowderBlue;
            this.gvwVerfuegung.Appearance.HideSelectionRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.HideSelectionRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwVerfuegung.Appearance.HideSelectionRow.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.HideSelectionRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.HideSelectionRow.Options.UseForeColor = true;
            this.gvwVerfuegung.Appearance.HorzLine.BackColor = System.Drawing.Color.Silver;
            this.gvwVerfuegung.Appearance.HorzLine.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.OddRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.OddRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.Row.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.gvwVerfuegung.Appearance.Row.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.Row.Options.UseBackColor = true;
            this.gvwVerfuegung.Appearance.Row.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.SelectedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwVerfuegung.Appearance.SelectedRow.Options.UseFont = true;
            this.gvwVerfuegung.Appearance.VertLine.BackColor = System.Drawing.Color.Silver;
            this.gvwVerfuegung.Appearance.VertLine.Options.UseBackColor = true;
            this.gvwVerfuegung.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.gvwVerfuegung.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.colVerfuegungsID,
            this.colBezeichnung,
            this.colEntscheid,
            this.colAmVerfuegungStatus,
            this.colUser});
            this.gvwVerfuegung.FocusRectStyle = DevExpress.XtraGrid.Views.Grid.DrawFocusRectStyle.None;
            this.gvwVerfuegung.GridControl = this.grdVerfuegung;
            this.gvwVerfuegung.Name = "gvwVerfuegung";
            this.gvwVerfuegung.OptionsBehavior.Editable = false;
            this.gvwVerfuegung.OptionsCustomization.AllowFilter = false;
            this.gvwVerfuegung.OptionsFilter.UseNewCustomFilterDialog = true;
            this.gvwVerfuegung.OptionsNavigation.AutoFocusNewRow = true;
            this.gvwVerfuegung.OptionsNavigation.UseTabKey = false;
            this.gvwVerfuegung.OptionsView.ColumnAutoWidth = false;
            this.gvwVerfuegung.OptionsView.ShowFilterPanelMode = DevExpress.XtraGrid.Views.Base.ShowFilterPanelMode.Never;
            this.gvwVerfuegung.OptionsView.ShowGroupPanel = false;
            this.gvwVerfuegung.OptionsView.ShowIndicator = false;
            // 
            // colVerfuegungsID
            // 
            this.colVerfuegungsID.Caption = "V-Nr";
            this.colVerfuegungsID.FieldName = "AmVerfuegungID";
            this.colVerfuegungsID.Name = "colVerfuegungsID";
            this.colVerfuegungsID.Visible = true;
            this.colVerfuegungsID.VisibleIndex = 0;
            this.colVerfuegungsID.Width = 68;
            // 
            // colBezeichnung
            // 
            this.colBezeichnung.Caption = "Bezeichnung";
            this.colBezeichnung.FieldName = "Bezeichnung";
            this.colBezeichnung.Name = "colBezeichnung";
            this.colBezeichnung.Visible = true;
            this.colBezeichnung.VisibleIndex = 1;
            this.colBezeichnung.Width = 203;
            // 
            // colEntscheid
            // 
            this.colEntscheid.Caption = "Entscheid";
            this.colEntscheid.FieldName = "EntscheidDatum";
            this.colEntscheid.Name = "colEntscheid";
            this.colEntscheid.Visible = true;
            this.colEntscheid.VisibleIndex = 2;
            this.colEntscheid.Width = 96;
            // 
            // colAmVerfuegungStatus
            // 
            this.colAmVerfuegungStatus.Caption = "Status";
            this.colAmVerfuegungStatus.FieldName = "AmVerfuegungStatusCode";
            this.colAmVerfuegungStatus.Name = "colAmVerfuegungStatus";
            this.colAmVerfuegungStatus.Visible = true;
            this.colAmVerfuegungStatus.VisibleIndex = 3;
            this.colAmVerfuegungStatus.Width = 150;
            // 
            // colUser
            // 
            this.colUser.Caption = "MA";
            this.colUser.FieldName = "UserName";
            this.colUser.Name = "colUser";
            this.colUser.Visible = true;
            this.colUser.VisibleIndex = 4;
            this.colUser.Width = 200;
            // 
            // edtBezeichnung
            // 
            this.edtBezeichnung.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtBezeichnung.DataMember = "Bezeichnung";
            this.edtBezeichnung.DataSource = this.qryAmVerfuegung;
            this.edtBezeichnung.Location = new System.Drawing.Point(127, 300);
            this.edtBezeichnung.Name = "edtBezeichnung";
            this.edtBezeichnung.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtBezeichnung.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBezeichnung.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBezeichnung.Properties.Appearance.Options.UseBackColor = true;
            this.edtBezeichnung.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBezeichnung.Properties.Appearance.Options.UseFont = true;
            this.edtBezeichnung.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtBezeichnung.Size = new System.Drawing.Size(431, 24);
            this.edtBezeichnung.TabIndex = 1;
            // 
            // edtAmVerfuegungStatus
            // 
            this.edtAmVerfuegungStatus.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtAmVerfuegungStatus.DataMember = "AmVerfuegungStatusCode";
            this.edtAmVerfuegungStatus.DataSource = this.qryAmVerfuegung;
            this.edtAmVerfuegungStatus.Location = new System.Drawing.Point(126, 332);
            this.edtAmVerfuegungStatus.LOVFilter = "0";
            this.edtAmVerfuegungStatus.LOVName = "AmBerechnungsStatus";
            this.edtAmVerfuegungStatus.Name = "edtAmVerfuegungStatus";
            this.edtAmVerfuegungStatus.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtAmVerfuegungStatus.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtAmVerfuegungStatus.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtAmVerfuegungStatus.Properties.Appearance.Options.UseBackColor = true;
            this.edtAmVerfuegungStatus.Properties.Appearance.Options.UseBorderColor = true;
            this.edtAmVerfuegungStatus.Properties.Appearance.Options.UseFont = true;
            this.edtAmVerfuegungStatus.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtAmVerfuegungStatus.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtAmVerfuegungStatus.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtAmVerfuegungStatus.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtAmVerfuegungStatus.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject7.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject7.Options.UseBackColor = true;
            this.edtAmVerfuegungStatus.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject7)});
            this.edtAmVerfuegungStatus.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtAmVerfuegungStatus.Properties.NullText = "";
            this.edtAmVerfuegungStatus.Properties.ShowFooter = false;
            this.edtAmVerfuegungStatus.Properties.ShowHeader = false;
            this.edtAmVerfuegungStatus.Size = new System.Drawing.Size(172, 24);
            this.edtAmVerfuegungStatus.TabIndex = 2;
            // 
            // edtErstellungsDatum
            // 
            this.edtErstellungsDatum.AllowDrop = true;
            this.edtErstellungsDatum.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtErstellungsDatum.Context = "AmVerfuegung";
            this.edtErstellungsDatum.DataMember = "DokumentID";
            this.edtErstellungsDatum.DataSource = this.qryAmVerfuegung;
            this.edtErstellungsDatum.Location = new System.Drawing.Point(127, 366);
            this.edtErstellungsDatum.Name = "edtErstellungsDatum";
            this.edtErstellungsDatum.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtErstellungsDatum.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtErstellungsDatum.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtErstellungsDatum.Properties.Appearance.Options.UseBackColor = true;
            this.edtErstellungsDatum.Properties.Appearance.Options.UseBorderColor = true;
            this.edtErstellungsDatum.Properties.Appearance.Options.UseFont = true;
            this.edtErstellungsDatum.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject3.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject3.Options.UseBackColor = true;
            serializableAppearanceObject4.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject4.Options.UseBackColor = true;
            serializableAppearanceObject5.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject5.Options.UseBackColor = true;
            serializableAppearanceObject6.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject6.Options.UseBackColor = true;
            this.edtErstellungsDatum.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, false, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtErstellungsDatum.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject3, "Dokument öffnen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, false, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtErstellungsDatum.Properties.Buttons1"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject4, "Dokument löschen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtErstellungsDatum.Properties.Buttons2"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject5, "Neues Dokument erstellen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtErstellungsDatum.Properties.Buttons3"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject6, "Dokument importieren")});
            this.edtErstellungsDatum.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtErstellungsDatum.Properties.ReadOnly = true;
            this.edtErstellungsDatum.Size = new System.Drawing.Size(171, 24);
            this.edtErstellungsDatum.TabIndex = 3;
            // 
            // edtRevisionsdatum
            // 
            this.edtRevisionsdatum.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtRevisionsdatum.DataMember = "Revisionsdatum";
            this.edtRevisionsdatum.DataSource = this.qryAmVerfuegung;
            this.edtRevisionsdatum.EditValue = null;
            this.edtRevisionsdatum.Location = new System.Drawing.Point(451, 332);
            this.edtRevisionsdatum.Name = "edtRevisionsdatum";
            this.edtRevisionsdatum.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtRevisionsdatum.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtRevisionsdatum.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtRevisionsdatum.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtRevisionsdatum.Properties.Appearance.Options.UseBackColor = true;
            this.edtRevisionsdatum.Properties.Appearance.Options.UseBorderColor = true;
            this.edtRevisionsdatum.Properties.Appearance.Options.UseFont = true;
            this.edtRevisionsdatum.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject2.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject2.Options.UseBackColor = true;
            this.edtRevisionsdatum.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtRevisionsdatum.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject2)});
            this.edtRevisionsdatum.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtRevisionsdatum.Properties.ShowToday = false;
            this.edtRevisionsdatum.Size = new System.Drawing.Size(107, 24);
            this.edtRevisionsdatum.TabIndex = 4;
            // 
            // edtUserID
            // 
            this.edtUserID.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtUserID.DataMember = "UserName";
            this.edtUserID.DataSource = this.qryAmVerfuegung;
            this.edtUserID.Location = new System.Drawing.Point(451, 366);
            this.edtUserID.Name = "edtUserID";
            this.edtUserID.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtUserID.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtUserID.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtUserID.Properties.Appearance.Options.UseBackColor = true;
            this.edtUserID.Properties.Appearance.Options.UseBorderColor = true;
            this.edtUserID.Properties.Appearance.Options.UseFont = true;
            this.edtUserID.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject1.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject1.Options.UseBackColor = true;
            this.edtUserID.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Ellipsis, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject1)});
            this.edtUserID.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtUserID.Size = new System.Drawing.Size(107, 24);
            this.edtUserID.TabIndex = 5;
            this.edtUserID.UserModifiedFld += new KiSS4.Gui.UserModifiedFldEventHandler(this.edtUserID_UserModifiedFld);
            // 
            // lblAmVerfuegungID
            // 
            this.lblAmVerfuegungID.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblAmVerfuegungID.Location = new System.Drawing.Point(18, 267);
            this.lblAmVerfuegungID.Name = "lblAmVerfuegungID";
            this.lblAmVerfuegungID.Size = new System.Drawing.Size(96, 24);
            this.lblAmVerfuegungID.TabIndex = 5;
            this.lblAmVerfuegungID.Text = "Verfügungs Nr";
            this.lblAmVerfuegungID.UseCompatibleTextRendering = true;
            // 
            // lblBezeichnung
            // 
            this.lblBezeichnung.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblBezeichnung.Location = new System.Drawing.Point(18, 300);
            this.lblBezeichnung.Name = "lblBezeichnung";
            this.lblBezeichnung.Size = new System.Drawing.Size(89, 24);
            this.lblBezeichnung.TabIndex = 6;
            this.lblBezeichnung.Text = "Bezeichnung";
            this.lblBezeichnung.UseCompatibleTextRendering = true;
            // 
            // lblErstellungsDatum
            // 
            this.lblErstellungsDatum.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblErstellungsDatum.Location = new System.Drawing.Point(18, 366);
            this.lblErstellungsDatum.Name = "lblErstellungsDatum";
            this.lblErstellungsDatum.Size = new System.Drawing.Size(103, 24);
            this.lblErstellungsDatum.TabIndex = 7;
            this.lblErstellungsDatum.Text = "Dokument";
            this.lblErstellungsDatum.UseCompatibleTextRendering = true;
            // 
            // lblUserID
            // 
            this.lblUserID.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblUserID.Location = new System.Drawing.Point(359, 366);
            this.lblUserID.Name = "lblUserID";
            this.lblUserID.Size = new System.Drawing.Size(86, 24);
            this.lblUserID.TabIndex = 9;
            this.lblUserID.Text = "Mitarbeiter/in";
            this.lblUserID.UseCompatibleTextRendering = true;
            // 
            // lblEntscheidDatum
            // 
            this.lblEntscheidDatum.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblEntscheidDatum.Location = new System.Drawing.Point(359, 267);
            this.lblEntscheidDatum.Name = "lblEntscheidDatum";
            this.lblEntscheidDatum.Size = new System.Drawing.Size(87, 24);
            this.lblEntscheidDatum.TabIndex = 11;
            this.lblEntscheidDatum.Text = "Entscheiddatum";
            this.lblEntscheidDatum.UseCompatibleTextRendering = true;
            // 
            // lblAmVerfuegungStatus
            // 
            this.lblAmVerfuegungStatus.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblAmVerfuegungStatus.Location = new System.Drawing.Point(18, 332);
            this.lblAmVerfuegungStatus.Name = "lblAmVerfuegungStatus";
            this.lblAmVerfuegungStatus.Size = new System.Drawing.Size(83, 24);
            this.lblAmVerfuegungStatus.TabIndex = 13;
            this.lblAmVerfuegungStatus.Text = "Status";
            this.lblAmVerfuegungStatus.UseCompatibleTextRendering = true;
            // 
            // kissLabel1
            // 
            this.kissLabel1.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.kissLabel1.Location = new System.Drawing.Point(359, 332);
            this.kissLabel1.Name = "kissLabel1";
            this.kissLabel1.Size = new System.Drawing.Size(86, 24);
            this.kissLabel1.TabIndex = 15;
            this.kissLabel1.Text = "Revisionsdatum";
            this.kissLabel1.UseCompatibleTextRendering = true;
            // 
            // btnWordBerichtBrief
            // 
            this.btnWordBerichtBrief.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.btnWordBerichtBrief.Context = "AmVerfuegungBeiblatt";
            this.btnWordBerichtBrief.FlatStyle = System.Windows.Forms.FlatStyle.Flat;
            this.btnWordBerichtBrief.Image = ((System.Drawing.Image)(resources.GetObject("btnWordBerichtBrief.Image")));
            this.btnWordBerichtBrief.ImageAlign = System.Drawing.ContentAlignment.MiddleRight;
            this.btnWordBerichtBrief.Location = new System.Drawing.Point(578, 366);
            this.btnWordBerichtBrief.Name = "btnWordBerichtBrief";
            this.btnWordBerichtBrief.Size = new System.Drawing.Size(99, 24);
            this.btnWordBerichtBrief.TabIndex = 16;
            this.btnWordBerichtBrief.Text = "BriefAdresse";
            this.btnWordBerichtBrief.TextAlign = System.Drawing.ContentAlignment.MiddleLeft;
            this.btnWordBerichtBrief.UseCompatibleTextRendering = true;
            this.btnWordBerichtBrief.UseVisualStyleBackColor = false;
            // 
            // CtlAmVerfuegung
            // 
            this.ActiveSQLQuery = this.qryAmVerfuegung;
            this.Controls.Add(this.btnWordBerichtBrief);
            this.Controls.Add(this.kissLabel1);
            this.Controls.Add(this.lblAmVerfuegungStatus);
            this.Controls.Add(this.lblEntscheidDatum);
            this.Controls.Add(this.lblUserID);
            this.Controls.Add(this.lblErstellungsDatum);
            this.Controls.Add(this.lblBezeichnung);
            this.Controls.Add(this.lblAmVerfuegungID);
            this.Controls.Add(this.edtUserID);
            this.Controls.Add(this.edtRevisionsdatum);
            this.Controls.Add(this.edtErstellungsDatum);
            this.Controls.Add(this.edtAmVerfuegungStatus);
            this.Controls.Add(this.edtBezeichnung);
            this.Controls.Add(this.grdVerfuegung);
            this.Controls.Add(this.grdAmAnspruchsberechnung);
            this.Controls.Add(this.edtEntscheidDatum);
            this.Controls.Add(this.edtAmVerfuegungID);
            this.Name = "CtlAmVerfuegung";
            this.Size = new System.Drawing.Size(781, 576);
            this.SaveData += new System.EventHandler(this.CtlAmVerfuegung_SaveData);
            this.UndoDataChanges += new System.EventHandler(this.CtlAmVerfuegung_UndoDataChanges);
            this.RefreshData += new System.EventHandler(this.CtlAmVerfuegung_RefreshData);
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungID.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAmVerfuegung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtEntscheidDatum.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdAmAnspruchsberechnung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryAnspruch)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grvAmAnspruchsberechnung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.repedtCheck)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdVerfuegung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwVerfuegung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezeichnung.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungStatus.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmVerfuegungStatus)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtErstellungsDatum.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtRevisionsdatum.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtUserID.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmVerfuegungID)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezeichnung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblErstellungsDatum)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblUserID)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblEntscheidDatum)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmVerfuegungStatus)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).EndInit();
            this.ResumeLayout(false);

        }

        #endregion

        #region Dispose

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        protected override void Dispose(bool disposing)
        {
            if (disposing)
            {
                if ((components != null))
                {
                    components.Dispose();
                }
            }
            base.Dispose(disposing);
        }

        #endregion

        #region Private Properties

        // Letzte Bearbeitung
        // 19.03.2008 : sozheo : neu
        // 25.06.2008 : sozheo : Revisionsdatum provisorisch editierbar
        // ---------------------------------------------------
        private bool CanEdit
        {
            get {
            int Status = Utils.ConvertToInt(qryAmVerfuegung["AmVerfuegungStatusCode"]);
            return (
              !FaLeistungIstGeschlossen &&
              qryAmVerfuegung.CanUpdate &&
              qryAmVerfuegung.Count > 0 &&
              (Status == 0 || Status == 1)
            );
              }
        }

        private bool CanEditRevision
        {
            get {
            return (
              !FaLeistungIstGeschlossen &&
              qryAmVerfuegung.CanUpdate &&
              qryAmVerfuegung.Count > 0
            );
              }
        }

        #endregion

        #region Public Methods

        // Letzte Bearbeitung
        // 19.03.2008 : sozheo : Alles neu
        // ------------------------------------------------------------------------
        public override object GetContextValue(string FieldName)
        {
            switch (FieldName.ToUpper())
            {
                case "AMVERFUEGUNGID": return qryAmVerfuegung["AmVerfuegungID"];
                case "FT": return qryAmVerfuegung["FallBaPersonID"];
                case "LEISTUNGUSERID": return qryAmVerfuegung["LeistungUserID"];
                case "FAFALLID": return qryAmVerfuegung["FaFallID"];
                case "ADRESSAT": return qryAmVerfuegung["LeistungBaPersonID"];
            }
            return base.GetContextValue(FieldName);
        }

        public void Init(int FallID, int FallTraegerID, int LeistgID, int TypCode, bool LeistungGeschlossen)
        {
            //,int FallTraegerID,  int LeistungID, int ProzessCode, bool LeistungGeschlossen

              FaLeistungID =  LeistgID;
              FaFallID = FallID;
              FallBaPersonID = FallTraegerID;
              FaLeistungIstGeschlossen = LeistungGeschlossen;

              SqlQuery qryLUser = DBUtil.OpenSQL(@"
            select L.UserID, L.BaPersonID from dbo.FaLeistung L with(readuncommitted)
            where L.FaLeistungID = {0}",
            FaLeistungID
              );
              LeistungUserID = Utils.ConvertToInt(qryLUser["UserID"]);
              LeistungBaPersonID = Utils.ConvertToInt(qryLUser["BaPersonID"]);

              if (TypCode == 3) // KKBB
            edtErstellungsDatum.Context = "AmVerfuegungKKBB";
              else
            edtErstellungsDatum.Context = "AmVerfuegung";

              // User Angaben holen
              SqlQuery qry = DBUtil.OpenSQL("select DisplayText from dbo.vwUser where UserID="+Session.User.UserID.ToString());
              SessionUserName = Utils.ConvertToString(qry["DisplayText"]);

              // Damit dies Auswahlliste im Gitter angezeigt wird
              colAmVerfuegungStatus.ColumnEdit = grdVerfuegung.GetLOVLookUpEdit("AmBerechnungsStatus");

              // Sperren des Gitters je nach Berechtigung
              MainCanDelete = qryAmVerfuegung.CanDelete;
              qryAnspruch.CanUpdate = qryAmVerfuegung.CanUpdate;
              colSelect.OptionsColumn.AllowEdit = qryAmVerfuegung.CanUpdate;

              OpenData();
        }

        // Letzte Bearbeitung
        // 05.02.2008 : sozheo : neu
        // ---------------------------------------------------
        public void OpenData()
        {
            qryAmVerfuegung.Fill(FaLeistungID);
        }

        #endregion

        #region Private Methods

        // Letzte Bearbeitung
        // 05.02.2008 : sozheo : neu
        // ---------------------------------------------------
        private void CtlAmVerfuegung_RefreshData(object sender, EventArgs e)
        {
            if (!qryAmVerfuegung.Post()) return;
              qryAmVerfuegung.Refresh();
        }

        private void CtlAmVerfuegung_SaveData(object sender, EventArgs e)
        {
            qryAnspruch.Post();
              if (!qryAnspruch.Post()) throw new KissCancelException();
        }

        private void CtlAmVerfuegung_UndoDataChanges(object sender, EventArgs e)
        {
            qryAmVerfuegung.Cancel();
              qryAmVerfuegung_PositionChanged(sender, e);
        }

        private void edtUserID_UserModifiedFld(object sender, KiSS4.Gui.UserModifiedFldEventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ------------------------------------------------------------------------------

            string SearchString = edtUserID.EditValue.ToString().Replace("*", "%").Replace("?", "_").Replace(" ", "%");

            if (DBUtil.IsEmpty(SearchString))
            {
              if (e.ButtonClicked) SearchString = "%";
              else
              {
                qryAmVerfuegung["UserID"] = DBNull.Value;
                qryAmVerfuegung["Username"] = DBNull.Value;
                edtUserID.ToolTip = Utils.ConvertToString(qryAmVerfuegung["UserName"]);
                qryAmVerfuegung.RefreshDisplay();
                return;
              }
            }

            KissLookupDialog dlg = new KissLookupDialog();
            e.Cancel = !dlg.SearchData(@"
              SELECT
                ID$ = U.UserID,
                DisplayText$ = U.DisplayText,
                [Kürzel] = U.LogonName,
                [Mitarbeiter/in] = U.NameVorname,
                [Org. Einheit] = U.OrgUnit
              FROM dbo.vwUser U
              WHERE U.NameVorname LIKE '%' + {0} + '%'
              ORDER BY U.NameVorname",
              SearchString,
              e.ButtonClicked,null,null,null);

            if (!e.Cancel)
            {
              qryAmVerfuegung["UserID"] = dlg[0];
              qryAmVerfuegung["Username"] = dlg[1];
              edtUserID.ToolTip = Utils.ConvertToString(qryAmVerfuegung["UserName"]);
            }
        }

        // Letzte Bearbeitung
        // 19.03.2008 : sozheo : neu
        // ---------------------------------------------------
        private void grvAmAnspruchsberechnung_CustomDrawCell(object sender, DevExpress.XtraGrid.Views.Base.RowCellCustomDrawEventArgs e)
        {
            if (e.Column.FieldName == "IsSelected")
              {
            // Wenn bereits Forderungen erfasst wurden, dann kann der Gläubiger nicht mehr entfernt werden
            if (CanEdit)
              e.Appearance.BackColor = Color.AliceBlue;
            else
              e.Appearance.BackColor = Color.BlanchedAlmond;
              }
        }

        private void qryAmVerfuegung_AfterDelete(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            if (qryAmVerfuegung.Count == 0) qryAmVerfuegung_PositionChanged(sender, e);
        }

        private void qryAmVerfuegung_AfterFill(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            if (qryAmVerfuegung.Count == 0) qryAmVerfuegung_PositionChanged(sender, e);
            qryAmVerfuegung.Last();
        }

        private void qryAmVerfuegung_AfterInsert(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            edtBezeichnung.Focus();

            qryAmVerfuegung["FaLeistungID"] = FaLeistungID;
            qryAmVerfuegung["UserID"] = Session.User.UserID;
            qryAmVerfuegung["UserName"] = SessionUserName;
            edtUserID.ToolTip = Utils.ConvertToString(qryAmVerfuegung["UserName"]);
            qryAmVerfuegung["EntscheidDatum"] = DateTime.Today;
            qryAmVerfuegung["AmVerfuegungStatusCode"] = 1;

            qryAmVerfuegung["FallBaPersonID"] = FallBaPersonID;
            qryAmVerfuegung["LeistungUserID"] = LeistungUserID;
            qryAmVerfuegung["LeistungBaPersonID"] = LeistungBaPersonID;
            qryAmVerfuegung["FaFallID"] = FaFallID;

            qryAmVerfuegung.RefreshDisplay();
        }

        private void qryAmVerfuegung_AfterPost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            try
            {
              string sql = "";
              if (DatenDetailSindKorrigiert)
              {
                foreach (System.Data.DataRow row in qryAnspruch.DataTable.Rows)
                {
                  if ((bool)row["IsSelected"])
                    sql = string.Format(@"
                      Update dbo.AmAnspruchsberechnung set AmVerfuegungID = {0}
                      where AmAnspruchsberechnungID = {1}",
                      Utils.ConvertToInt(qryAmVerfuegung["AmVerfuegungID"]).ToString(),
                      Utils.ConvertToInt(row["AmAnspruchsberechnungID"]).ToString()
                    );
                  else
                    sql = string.Format(@"
                      Update dbo.AmAnspruchsberechnung set AmVerfuegungID = NULL
                      where AmAnspruchsberechnungID = {0}",
                      Utils.ConvertToInt(row["AmAnspruchsberechnungID"]).ToString()
                    );

                  DBUtil.ExecSQL(sql);
                }
              }
              Session.Commit();
              DatenDetailSindKorrigiert= false;
            }
            catch (Exception ex)
            {
              Session.Rollback();
              KissMsg.ShowInfo(ex.Message);
            }

            // Damit das Editieren neu eingestellt wird:
            if (!DatenDetailSindKorrigiert)
              qryAmVerfuegung_PositionChanged(sender, e);
        }

        private void qryAmVerfuegung_BeforeDelete(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            string sql = string.Format(@"
              Update dbo.AmAnspruchsberechnung set AmVerfuegungID = NULL
              where AmVerfuegungID = {0} ",
              Utils.ConvertToInt(qryAmVerfuegung["AmVerfuegungID"]).ToString()
            );
            DBUtil.ExecSQL(sql);
        }

        private void qryAmVerfuegung_BeforePost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            // Mussfelder checken:
            DBUtil.CheckNotNullField(edtBezeichnung, lblBezeichnung.Text);

            // Wenn Status = "angefragt" kontrollieren, ob mind. eine Berechnung gewählt ist:
            qryAnspruch.Post();
            int Status = Utils.ConvertToInt(qryAmVerfuegung["AmVerfuegungStatusCode"]);
            bool HasData = false;
            if (Status == 2) // angefragt
            {
              foreach (System.Data.DataRow row in qryAnspruch.DataTable.Rows)
              if ((bool)row["IsSelected"])
              {
                HasData = true;
                break;
              }
              if (!HasData)
              {
                KissMsg.ShowInfo(
                  "Wenn Sie den Status 'angefragt' setzen wollen,\r\n"+
                  " muss mindestens eine Berechnung gewählt sein"
                );
                throw new KissCancelException();
              }
            }

            Session.BeginTransaction();
            try
            {
              if (qryAnspruch.RowModified) qryAnspruch.Post();
            }
            catch (Exception ex)
            {
              Session.Rollback();
              KissMsg.ShowInfo(ex.Message);
              throw new KissCancelException();
            }
        }

        private void qryAmVerfuegung_PositionChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // 25.06.2008 : sozheo : Revisionsdatum provisorisch editierbar
            // ---------------------------------------------------

            qryAmVerfuegung.EnableBoundFields(CanEdit);
            edtRevisionsdatum.EditMode = CanEditRevision ? EditModeType.Normal : EditModeType.ReadOnly;
            qryAmVerfuegung.CanDelete = (MainCanDelete && CanEdit);

            edtUserID.ToolTip = Utils.ConvertToString(qryAmVerfuegung["UserName"]);

            btnWordBerichtBrief.Enabled = (qryAmVerfuegung.Count > 0);

            qryAnspruch.Fill(FaLeistungID, Utils.ConvertToInt(qryAmVerfuegung["AmVerfuegungID"]));
            DatenDetailSindKorrigiert = false;

            if (CanEdit)
            {
              edtErstellungsDatum.EditMode = EditModeType.Normal;
              colSelect.OptionsColumn.AllowEdit = true;
              edtAmVerfuegungStatus.LOVFilter = "0";
              //colSelect.AppearanceCell.BackColor = Color.AliceBlue;
            }
            else
            {
              edtErstellungsDatum.EditMode = EditModeType.ReadOnly;
              colSelect.OptionsColumn.AllowEdit = false;
              //colSelect.AppearanceCell.BackColor = Color.BlanchedAlmond;
              edtAmVerfuegungStatus.LOVFilter = "";
            }
            edtAmVerfuegungStatus.LOVName = "AmBerechnungsStatus";
        }

        private void qryAnspruch_BeforePost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 05.02.2008 : sozheo : neu
            // ---------------------------------------------------

            DatenDetailSindKorrigiert = true;
        }

        // Letzte Bearbeitung
        // 05.02.2008 : sozheo : neu
        // ---------------------------------------------------
        private void repedtCheck_CheckedChanged(object sender, EventArgs e)
        {
            qryAmVerfuegung.RowModified = true;
              DatenDetailSindKorrigiert = true;
        }

        #endregion
    }
}