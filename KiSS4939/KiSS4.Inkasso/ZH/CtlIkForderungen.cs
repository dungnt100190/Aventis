#region Header

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.3053
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#endregion

using System;
using System.Drawing;
using Kiss.Interfaces.UI;
using KiSS4.Common;
using KiSS4.DB;
using KiSS4.Gui;

namespace KiSS4.Inkasso.ZH
{
    public class CtlIkForderungen : KiSS4.Gui.KissUserControl
    {
        #region Fields

        private int FaFallID = 0;

        // Letzte Bearbeitung
        // 25.09.2007 : sozheo : neu
        // 07.11.2007 : sozheo : Korrekturen für Auswahl nur Kinder
        // 13.02.2008 : sozheo : FaLeistung neu (ctlIkMonatszahlenEinmalig.Init)
        // 03.04.2008 : sozheo : Sperren, wenn Leistung-Datum-Bis definiert ist
        // ------------------------------------------------------------------------
        private int FaLeistungID = 0;
        private int FaProzessCode = 0;
        private bool HatVerwendungsPeriode = false;
        private bool LeistungIstGeschlossen = true;
        private DevExpress.XtraGrid.Columns.GridColumn colBemerkung;
        private DevExpress.XtraGrid.Columns.GridColumn colBetrag;
        private DevExpress.XtraGrid.Columns.GridColumn colDatum;
        private DevExpress.XtraGrid.Columns.GridColumn colForderungPeriodisch;
        private DevExpress.XtraGrid.Columns.GridColumn colSollgestellt;
        private System.ComponentModel.IContainer components;
        private KiSS4.Inkasso.ZH.CtlIkMonatszahlenEinmalig ctlIkMonatszahlenEinmalig;
        private KiSS4.Gui.KissMemoEdit edtBemerkung;
        private KiSS4.Gui.KissCalcEdit edtBetrag;
        private KiSS4.Gui.KissLookUpEdit edtBgSplittingCode;
        private KiSS4.Gui.KissDateEdit edtDatumAnpassenAb;
        private KiSS4.Gui.KissDateEdit edtDatumGueltigBis;
        private KiSS4.Gui.KissLookUpEdit edtForderungPeriodisch;
        private KiSS4.Gui.KissCheckEdit edtSollGestellt;
        private KiSS4.Gui.KissDateEdit edtVerwPeriodeBis;
        private KiSS4.Gui.KissDateEdit edtVerwPeriodeVon;
        private KiSS4.Gui.KissGrid grdIkForderung;
        private DevExpress.XtraGrid.Views.Grid.GridView gvwIkForderung;
        private KiSS4.Gui.KissLabel kissLabel1;
        private KiSS4.Gui.KissLabel kissLabel2;
        private KiSS4.Gui.KissLabel kissLabel5;
        private KiSS4.Gui.KissLabel lblBetrag;
        private KiSS4.Gui.KissLabel lblBgSplittingCode;
        private KiSS4.Gui.KissLabel lblDatumAnpassenAb;
        private KiSS4.Gui.KissLabel lblForderungPeriodisch;
        private KiSS4.Gui.KissLabel lblTitel;
        private KiSS4.Gui.KissLabel lblVerwPeriode;
        private KiSS4.Gui.KissLabel lblVerwPeriodeStrich;
        private System.Windows.Forms.Panel panel1;
        private System.Windows.Forms.PictureBox picTitel;
        private KiSS4.DB.SqlQuery qryIkForderung;
        private KiSS4.DB.SqlQuery qryLOV;
        private KiSS4.Gui.KissTabControlEx tabIkForderung;
        private SharpLibrary.WinControls.TabPageEx tbpEinmalig;
        private SharpLibrary.WinControls.TabPageEx tbpPeriodischeForderungen;
        private KissButton btnEZSEinmalig;
        private KissButton btnEZSPeriodisch;
        private KiSS4.Dokument.XDokument xDokument1;

        #endregion

        #region Constructors

        public CtlIkForderungen()
        {
            this.InitializeComponent();
        }

        #endregion

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.components = new System.ComponentModel.Container();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject1 = new DevExpress.Utils.SerializableAppearanceObject();
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(CtlIkForderungen));
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject2 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject3 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject4 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject5 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject6 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject7 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject8 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject9 = new DevExpress.Utils.SerializableAppearanceObject();
            this.tabIkForderung = new KiSS4.Gui.KissTabControlEx();
            this.tbpEinmalig = new SharpLibrary.WinControls.TabPageEx();
            this.btnEZSEinmalig = new KiSS4.Gui.KissButton();
            this.ctlIkMonatszahlenEinmalig = new KiSS4.Inkasso.ZH.CtlIkMonatszahlenEinmalig();
            this.tbpPeriodischeForderungen = new SharpLibrary.WinControls.TabPageEx();
            this.btnEZSPeriodisch = new KiSS4.Gui.KissButton();
            this.lblVerwPeriodeStrich = new KiSS4.Gui.KissLabel();
            this.edtBgSplittingCode = new KiSS4.Gui.KissLookUpEdit();
            this.lblBgSplittingCode = new KiSS4.Gui.KissLabel();
            this.edtVerwPeriodeBis = new KiSS4.Gui.KissDateEdit();
            this.qryIkForderung = new KiSS4.DB.SqlQuery(this.components);
            this.edtVerwPeriodeVon = new KiSS4.Gui.KissDateEdit();
            this.lblVerwPeriode = new KiSS4.Gui.KissLabel();
            this.lblBetrag = new KiSS4.Gui.KissLabel();
            this.kissLabel5 = new KiSS4.Gui.KissLabel();
            this.lblDatumAnpassenAb = new KiSS4.Gui.KissLabel();
            this.kissLabel2 = new KiSS4.Gui.KissLabel();
            this.kissLabel1 = new KiSS4.Gui.KissLabel();
            this.lblForderungPeriodisch = new KiSS4.Gui.KissLabel();
            this.edtSollGestellt = new KiSS4.Gui.KissCheckEdit();
            this.edtBetrag = new KiSS4.Gui.KissCalcEdit();
            this.edtDatumGueltigBis = new KiSS4.Gui.KissDateEdit();
            this.edtDatumAnpassenAb = new KiSS4.Gui.KissDateEdit();
            this.edtBemerkung = new KiSS4.Gui.KissMemoEdit();
            this.xDokument1 = new KiSS4.Dokument.XDokument();
            this.edtForderungPeriodisch = new KiSS4.Gui.KissLookUpEdit();
            this.grdIkForderung = new KiSS4.Gui.KissGrid();
            this.gvwIkForderung = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.colDatum = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colForderungPeriodisch = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colBemerkung = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colBetrag = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colSollgestellt = new DevExpress.XtraGrid.Columns.GridColumn();
            this.panel1 = new System.Windows.Forms.Panel();
            this.picTitel = new System.Windows.Forms.PictureBox();
            this.lblTitel = new KiSS4.Gui.KissLabel();
            this.qryLOV = new KiSS4.DB.SqlQuery(this.components);
            this.tabIkForderung.SuspendLayout();
            this.tbpEinmalig.SuspendLayout();
            this.tbpPeriodischeForderungen.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.lblVerwPeriodeStrich)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBgSplittingCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBgSplittingCode.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBgSplittingCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtVerwPeriodeBis.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkForderung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtVerwPeriodeVon.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblVerwPeriode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBetrag)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel5)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblDatumAnpassenAb)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel2)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblForderungPeriodisch)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtSollGestellt.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBetrag.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtDatumGueltigBis.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtDatumAnpassenAb.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBemerkung.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.xDokument1.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtForderungPeriodisch)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtForderungPeriodisch.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdIkForderung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwIkForderung)).BeginInit();
            this.panel1.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.picTitel)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblTitel)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryLOV)).BeginInit();
            this.SuspendLayout();
            // 
            // tabIkForderung
            // 
            this.tabIkForderung.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom)
                        | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.tabIkForderung.Controls.Add(this.tbpEinmalig);
            this.tabIkForderung.Controls.Add(this.tbpPeriodischeForderungen);
            this.tabIkForderung.Location = new System.Drawing.Point(5, 27);
            this.tabIkForderung.Name = "tabIkForderung";
            this.tabIkForderung.SelectedTabIndex = 1;
            this.tabIkForderung.ShowFixedWidthTooltip = true;
            this.tabIkForderung.Size = new System.Drawing.Size(704, 542);
            this.tabIkForderung.TabIndex = 0;
            this.tabIkForderung.TabPages.AddRange(new SharpLibrary.WinControls.TabPageEx[] {
            this.tbpPeriodischeForderungen,
            this.tbpEinmalig});
            this.tabIkForderung.TabsLineColor = System.Drawing.Color.Black;
            this.tabIkForderung.TabsStyle = SharpLibrary.WinControls.TabsStyle.Flat;
            this.tabIkForderung.SelectedTabChanging += new System.ComponentModel.CancelEventHandler(this.tabIkForderung_SelectedTabChanging);
            // 
            // tbpEinmalig
            // 
            this.tbpEinmalig.Controls.Add(this.btnEZSEinmalig);
            this.tbpEinmalig.Controls.Add(this.ctlIkMonatszahlenEinmalig);
            this.tbpEinmalig.Location = new System.Drawing.Point(6, 6);
            this.tbpEinmalig.Name = "tbpEinmalig";
            this.tbpEinmalig.Size = new System.Drawing.Size(692, 504);
            this.tbpEinmalig.TabIndex = 5;
            this.tbpEinmalig.Title = "Einmalige Forderung";
            // 
            // btnEZSEinmalig
            // 
            this.btnEZSEinmalig.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.btnEZSEinmalig.FlatStyle = System.Windows.Forms.FlatStyle.Flat;
            this.btnEZSEinmalig.Location = new System.Drawing.Point(576, 299);
            this.btnEZSEinmalig.Name = "btnEZSEinmalig";
            this.btnEZSEinmalig.Size = new System.Drawing.Size(90, 24);
            this.btnEZSEinmalig.TabIndex = 13;
            this.btnEZSEinmalig.Text = "EZS";
            this.btnEZSEinmalig.UseCompatibleTextRendering = true;
            this.btnEZSEinmalig.UseVisualStyleBackColor = true;
            this.btnEZSEinmalig.Click += new System.EventHandler(this.btnEZSEinmalig_Click);
            // 
            // ctlIkMonatszahlenEinmalig
            // 
            this.ctlIkMonatszahlenEinmalig.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.ctlIkMonatszahlenEinmalig.Dock = System.Windows.Forms.DockStyle.Fill;
            this.ctlIkMonatszahlenEinmalig.Location = new System.Drawing.Point(0, 0);
            this.ctlIkMonatszahlenEinmalig.Name = "ctlIkMonatszahlenEinmalig";
            this.ctlIkMonatszahlenEinmalig.Size = new System.Drawing.Size(692, 504);
            this.ctlIkMonatszahlenEinmalig.TabIndex = 0;
            // 
            // tbpPeriodischeForderungen
            // 
            this.tbpPeriodischeForderungen.Controls.Add(this.btnEZSPeriodisch);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblVerwPeriodeStrich);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtBgSplittingCode);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblBgSplittingCode);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtVerwPeriodeBis);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtVerwPeriodeVon);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblVerwPeriode);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblBetrag);
            this.tbpPeriodischeForderungen.Controls.Add(this.kissLabel5);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblDatumAnpassenAb);
            this.tbpPeriodischeForderungen.Controls.Add(this.kissLabel2);
            this.tbpPeriodischeForderungen.Controls.Add(this.kissLabel1);
            this.tbpPeriodischeForderungen.Controls.Add(this.lblForderungPeriodisch);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtSollGestellt);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtBetrag);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtDatumGueltigBis);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtDatumAnpassenAb);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtBemerkung);
            this.tbpPeriodischeForderungen.Controls.Add(this.xDokument1);
            this.tbpPeriodischeForderungen.Controls.Add(this.edtForderungPeriodisch);
            this.tbpPeriodischeForderungen.Controls.Add(this.grdIkForderung);
            this.tbpPeriodischeForderungen.Location = new System.Drawing.Point(6, 6);
            this.tbpPeriodischeForderungen.Name = "tbpPeriodischeForderungen";
            this.tbpPeriodischeForderungen.Size = new System.Drawing.Size(692, 504);
            this.tbpPeriodischeForderungen.TabIndex = 0;
            this.tbpPeriodischeForderungen.Title = "Periodische Forderungen";
            // 
            // btnEZSPeriodisch
            // 
            this.btnEZSPeriodisch.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.btnEZSPeriodisch.FlatStyle = System.Windows.Forms.FlatStyle.Flat;
            this.btnEZSPeriodisch.Location = new System.Drawing.Point(580, 416);
            this.btnEZSPeriodisch.Name = "btnEZSPeriodisch";
            this.btnEZSPeriodisch.Size = new System.Drawing.Size(90, 24);
            this.btnEZSPeriodisch.TabIndex = 61;
            this.btnEZSPeriodisch.Text = "EZS";
            this.btnEZSPeriodisch.UseCompatibleTextRendering = true;
            this.btnEZSPeriodisch.UseVisualStyleBackColor = true;
            this.btnEZSPeriodisch.Click += new System.EventHandler(this.btnEZSPeriodisch_Click);
            // 
            // lblVerwPeriodeStrich
            // 
            this.lblVerwPeriodeStrich.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblVerwPeriodeStrich.Location = new System.Drawing.Point(230, 386);
            this.lblVerwPeriodeStrich.Name = "lblVerwPeriodeStrich";
            this.lblVerwPeriodeStrich.Size = new System.Drawing.Size(10, 24);
            this.lblVerwPeriodeStrich.TabIndex = 60;
            this.lblVerwPeriodeStrich.Text = "-";
            this.lblVerwPeriodeStrich.UseCompatibleTextRendering = true;
            // 
            // edtBgSplittingCode
            // 
            this.edtBgSplittingCode.AllowNull = false;
            this.edtBgSplittingCode.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtBgSplittingCode.EditMode = Kiss.Interfaces.UI.EditModeType.ReadOnly;
            this.edtBgSplittingCode.Location = new System.Drawing.Point(379, 386);
            this.edtBgSplittingCode.LOVName = "BgSplittingart";
            this.edtBgSplittingCode.Name = "edtBgSplittingCode";
            this.edtBgSplittingCode.Properties.Appearance.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.edtBgSplittingCode.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBgSplittingCode.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBgSplittingCode.Properties.Appearance.Options.UseBackColor = true;
            this.edtBgSplittingCode.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBgSplittingCode.Properties.Appearance.Options.UseFont = true;
            this.edtBgSplittingCode.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtBgSplittingCode.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtBgSplittingCode.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtBgSplittingCode.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtBgSplittingCode.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtBgSplittingCode.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtBgSplittingCode.Properties.Columns.AddRange(new DevExpress.XtraEditors.Controls.LookUpColumnInfo[] {
            new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Text")});
            this.edtBgSplittingCode.Properties.DisplayMember = "Text";
            this.edtBgSplittingCode.Properties.NullText = "";
            this.edtBgSplittingCode.Properties.ReadOnly = true;
            this.edtBgSplittingCode.Properties.ShowFooter = false;
            this.edtBgSplittingCode.Properties.ShowHeader = false;
            this.edtBgSplittingCode.Properties.ValueMember = "Code";
            this.edtBgSplittingCode.Size = new System.Drawing.Size(104, 24);
            this.edtBgSplittingCode.TabIndex = 59;
            this.edtBgSplittingCode.TabStop = false;
            // 
            // lblBgSplittingCode
            // 
            this.lblBgSplittingCode.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblBgSplittingCode.Location = new System.Drawing.Point(336, 386);
            this.lblBgSplittingCode.Name = "lblBgSplittingCode";
            this.lblBgSplittingCode.Size = new System.Drawing.Size(31, 24);
            this.lblBgSplittingCode.TabIndex = 58;
            this.lblBgSplittingCode.Text = "Split.";
            this.lblBgSplittingCode.UseCompatibleTextRendering = true;
            // 
            // edtVerwPeriodeBis
            // 
            this.edtVerwPeriodeBis.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtVerwPeriodeBis.DataMember = "VerwPeriodeBis";
            this.edtVerwPeriodeBis.DataSource = this.qryIkForderung;
            this.edtVerwPeriodeBis.EditValue = null;
            this.edtVerwPeriodeBis.Location = new System.Drawing.Point(240, 386);
            this.edtVerwPeriodeBis.Name = "edtVerwPeriodeBis";
            this.edtVerwPeriodeBis.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtVerwPeriodeBis.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtVerwPeriodeBis.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtVerwPeriodeBis.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtVerwPeriodeBis.Properties.Appearance.Options.UseBackColor = true;
            this.edtVerwPeriodeBis.Properties.Appearance.Options.UseBorderColor = true;
            this.edtVerwPeriodeBis.Properties.Appearance.Options.UseFont = true;
            this.edtVerwPeriodeBis.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject1.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject1.Options.UseBackColor = true;
            this.edtVerwPeriodeBis.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtVerwPeriodeBis.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject1)});
            this.edtVerwPeriodeBis.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtVerwPeriodeBis.Properties.ShowToday = false;
            this.edtVerwPeriodeBis.Size = new System.Drawing.Size(90, 24);
            this.edtVerwPeriodeBis.TabIndex = 57;
            this.edtVerwPeriodeBis.EditValueChanged += new System.EventHandler(this.edtVerwPeriodeBis_EditValueChanged);
            // 
            // qryIkForderung
            // 
            this.qryIkForderung.CanDelete = true;
            this.qryIkForderung.CanInsert = true;
            this.qryIkForderung.CanUpdate = true;
            this.qryIkForderung.HostControl = this;
            this.qryIkForderung.SelectStatement = resources.GetString("qryIkForderung.SelectStatement");
            this.qryIkForderung.TableName = "IkForderung";
            this.qryIkForderung.BeforeDelete += new System.EventHandler(this.qryIkForderung_BeforeDelete);
            this.qryIkForderung.BeforePost += new System.EventHandler(this.qryIkForderung_BeforePost);
            this.qryIkForderung.PositionChanged += new System.EventHandler(this.qryIkForderung_PositionChanged);
            this.qryIkForderung.AfterFill += new System.EventHandler(this.qryIkForderung_AfterFill);
            this.qryIkForderung.AfterInsert += new System.EventHandler(this.qryIkForderung_AfterInsert);
            this.qryIkForderung.AfterPost += new System.EventHandler(this.qryIkForderung_AfterPost);
            this.qryIkForderung.AfterDelete += new System.EventHandler(this.qryIkForderung_AfterDelete);
            // 
            // edtVerwPeriodeVon
            // 
            this.edtVerwPeriodeVon.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtVerwPeriodeVon.DataMember = "VerwPeriodeVon";
            this.edtVerwPeriodeVon.DataSource = this.qryIkForderung;
            this.edtVerwPeriodeVon.EditValue = null;
            this.edtVerwPeriodeVon.Location = new System.Drawing.Point(136, 386);
            this.edtVerwPeriodeVon.Name = "edtVerwPeriodeVon";
            this.edtVerwPeriodeVon.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtVerwPeriodeVon.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtVerwPeriodeVon.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtVerwPeriodeVon.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtVerwPeriodeVon.Properties.Appearance.Options.UseBackColor = true;
            this.edtVerwPeriodeVon.Properties.Appearance.Options.UseBorderColor = true;
            this.edtVerwPeriodeVon.Properties.Appearance.Options.UseFont = true;
            this.edtVerwPeriodeVon.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject2.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject2.Options.UseBackColor = true;
            this.edtVerwPeriodeVon.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtVerwPeriodeVon.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject2)});
            this.edtVerwPeriodeVon.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtVerwPeriodeVon.Properties.ShowToday = false;
            this.edtVerwPeriodeVon.Size = new System.Drawing.Size(90, 24);
            this.edtVerwPeriodeVon.TabIndex = 56;
            this.edtVerwPeriodeVon.EditValueChanged += new System.EventHandler(this.edtVerwPeriodeVon_EditValueChanged);
            // 
            // lblVerwPeriode
            // 
            this.lblVerwPeriode.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblVerwPeriode.Location = new System.Drawing.Point(10, 386);
            this.lblVerwPeriode.Name = "lblVerwPeriode";
            this.lblVerwPeriode.Size = new System.Drawing.Size(113, 24);
            this.lblVerwPeriode.TabIndex = 55;
            this.lblVerwPeriode.Text = "Verwendungsperiode";
            this.lblVerwPeriode.UseCompatibleTextRendering = true;
            // 
            // lblBetrag
            // 
            this.lblBetrag.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblBetrag.Location = new System.Drawing.Point(509, 386);
            this.lblBetrag.Name = "lblBetrag";
            this.lblBetrag.Size = new System.Drawing.Size(53, 24);
            this.lblBetrag.TabIndex = 54;
            this.lblBetrag.Text = "Betrag";
            this.lblBetrag.UseCompatibleTextRendering = true;
            // 
            // kissLabel5
            // 
            this.kissLabel5.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.kissLabel5.Location = new System.Drawing.Point(509, 356);
            this.kissLabel5.Name = "kissLabel5";
            this.kissLabel5.Size = new System.Drawing.Size(53, 24);
            this.kissLabel5.TabIndex = 53;
            this.kissLabel5.Text = "Abschluss";
            this.kissLabel5.UseCompatibleTextRendering = true;
            // 
            // lblDatumAnpassenAb
            // 
            this.lblDatumAnpassenAb.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblDatumAnpassenAb.Location = new System.Drawing.Point(509, 326);
            this.lblDatumAnpassenAb.Name = "lblDatumAnpassenAb";
            this.lblDatumAnpassenAb.Size = new System.Drawing.Size(53, 24);
            this.lblDatumAnpassenAb.TabIndex = 52;
            this.lblDatumAnpassenAb.Text = "Aufnahme";
            this.lblDatumAnpassenAb.UseCompatibleTextRendering = true;
            // 
            // kissLabel2
            // 
            this.kissLabel2.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.kissLabel2.Location = new System.Drawing.Point(10, 416);
            this.kissLabel2.Name = "kissLabel2";
            this.kissLabel2.Size = new System.Drawing.Size(87, 24);
            this.kissLabel2.TabIndex = 51;
            this.kissLabel2.Text = "Bemerkung, Info";
            this.kissLabel2.UseCompatibleTextRendering = true;
            // 
            // kissLabel1
            // 
            this.kissLabel1.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.kissLabel1.Location = new System.Drawing.Point(10, 356);
            this.kissLabel1.Name = "kissLabel1";
            this.kissLabel1.Size = new System.Drawing.Size(114, 24);
            this.kissLabel1.TabIndex = 50;
            this.kissLabel1.Text = "Dokument";
            this.kissLabel1.UseCompatibleTextRendering = true;
            // 
            // lblForderungPeriodisch
            // 
            this.lblForderungPeriodisch.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.lblForderungPeriodisch.Location = new System.Drawing.Point(10, 326);
            this.lblForderungPeriodisch.Name = "lblForderungPeriodisch";
            this.lblForderungPeriodisch.Size = new System.Drawing.Size(96, 24);
            this.lblForderungPeriodisch.TabIndex = 49;
            this.lblForderungPeriodisch.Text = "Forderungsgrund";
            this.lblForderungPeriodisch.UseCompatibleTextRendering = true;
            // 
            // edtSollGestellt
            // 
            this.edtSollGestellt.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtSollGestellt.DataMember = "IstSollgestellt";
            this.edtSollGestellt.DataSource = this.qryIkForderung;
            this.edtSollGestellt.EditMode = Kiss.Interfaces.UI.EditModeType.ReadOnly;
            this.edtSollGestellt.Location = new System.Drawing.Point(509, 473);
            this.edtSollGestellt.Name = "edtSollGestellt";
            this.edtSollGestellt.Properties.Appearance.BackColor = System.Drawing.Color.Transparent;
            this.edtSollGestellt.Properties.Appearance.Options.UseBackColor = true;
            this.edtSollGestellt.Properties.Caption = "Sollgestellt";
            this.edtSollGestellt.Properties.ReadOnly = true;
            this.edtSollGestellt.Size = new System.Drawing.Size(103, 19);
            this.edtSollGestellt.TabIndex = 48;
            // 
            // edtBetrag
            // 
            this.edtBetrag.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtBetrag.DataMember = "Betrag";
            this.edtBetrag.DataSource = this.qryIkForderung;
            this.edtBetrag.Location = new System.Drawing.Point(580, 386);
            this.edtBetrag.Name = "edtBetrag";
            this.edtBetrag.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtBetrag.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtBetrag.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBetrag.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBetrag.Properties.Appearance.Options.UseBackColor = true;
            this.edtBetrag.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBetrag.Properties.Appearance.Options.UseFont = true;
            this.edtBetrag.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtBetrag.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtBetrag.Properties.DisplayFormat.FormatString = "n2";
            this.edtBetrag.Properties.DisplayFormat.FormatType = DevExpress.Utils.FormatType.Numeric;
            this.edtBetrag.Properties.EditFormat.FormatString = "n2";
            this.edtBetrag.Properties.EditFormat.FormatType = DevExpress.Utils.FormatType.Numeric;
            this.edtBetrag.Size = new System.Drawing.Size(102, 24);
            this.edtBetrag.TabIndex = 6;
            // 
            // edtDatumGueltigBis
            // 
            this.edtDatumGueltigBis.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtDatumGueltigBis.DataMember = "DatumGueltigBis";
            this.edtDatumGueltigBis.DataSource = this.qryIkForderung;
            this.edtDatumGueltigBis.EditValue = null;
            this.edtDatumGueltigBis.Location = new System.Drawing.Point(580, 356);
            this.edtDatumGueltigBis.Name = "edtDatumGueltigBis";
            this.edtDatumGueltigBis.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtDatumGueltigBis.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtDatumGueltigBis.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtDatumGueltigBis.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtDatumGueltigBis.Properties.Appearance.Options.UseBackColor = true;
            this.edtDatumGueltigBis.Properties.Appearance.Options.UseBorderColor = true;
            this.edtDatumGueltigBis.Properties.Appearance.Options.UseFont = true;
            this.edtDatumGueltigBis.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject3.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject3.Options.UseBackColor = true;
            this.edtDatumGueltigBis.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtDatumGueltigBis.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject3)});
            this.edtDatumGueltigBis.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtDatumGueltigBis.Properties.ShowToday = false;
            this.edtDatumGueltigBis.Size = new System.Drawing.Size(102, 24);
            this.edtDatumGueltigBis.TabIndex = 5;
            // 
            // edtDatumAnpassenAb
            // 
            this.edtDatumAnpassenAb.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtDatumAnpassenAb.DataMember = "DatumAnpassenAb";
            this.edtDatumAnpassenAb.DataSource = this.qryIkForderung;
            this.edtDatumAnpassenAb.EditValue = null;
            this.edtDatumAnpassenAb.Location = new System.Drawing.Point(580, 326);
            this.edtDatumAnpassenAb.Name = "edtDatumAnpassenAb";
            this.edtDatumAnpassenAb.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtDatumAnpassenAb.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtDatumAnpassenAb.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtDatumAnpassenAb.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtDatumAnpassenAb.Properties.Appearance.Options.UseBackColor = true;
            this.edtDatumAnpassenAb.Properties.Appearance.Options.UseBorderColor = true;
            this.edtDatumAnpassenAb.Properties.Appearance.Options.UseFont = true;
            this.edtDatumAnpassenAb.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject4.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject4.Options.UseBackColor = true;
            this.edtDatumAnpassenAb.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtDatumAnpassenAb.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject4)});
            this.edtDatumAnpassenAb.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtDatumAnpassenAb.Properties.ShowToday = false;
            this.edtDatumAnpassenAb.Size = new System.Drawing.Size(102, 24);
            this.edtDatumAnpassenAb.TabIndex = 4;
            this.edtDatumAnpassenAb.EditValueChanged += new System.EventHandler(this.edtDatumAnpassenAb_EditValueChanged);
            // 
            // edtBemerkung
            // 
            this.edtBemerkung.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtBemerkung.DataMember = "Bemerkung";
            this.edtBemerkung.DataSource = this.qryIkForderung;
            this.edtBemerkung.Location = new System.Drawing.Point(136, 416);
            this.edtBemerkung.Name = "edtBemerkung";
            this.edtBemerkung.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtBemerkung.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBemerkung.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBemerkung.Properties.Appearance.Options.UseBackColor = true;
            this.edtBemerkung.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBemerkung.Properties.Appearance.Options.UseFont = true;
            this.edtBemerkung.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtBemerkung.Size = new System.Drawing.Size(347, 76);
            this.edtBemerkung.TabIndex = 3;
            // 
            // xDokument1
            // 
            this.xDokument1.AllowDrop = true;
            this.xDokument1.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.xDokument1.Context = null;
            this.xDokument1.DataMember = "Forderung_DocumentID";
            this.xDokument1.DataSource = this.qryIkForderung;
            this.xDokument1.Location = new System.Drawing.Point(136, 356);
            this.xDokument1.Name = "xDokument1";
            this.xDokument1.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.xDokument1.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.xDokument1.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.xDokument1.Properties.Appearance.Options.UseBackColor = true;
            this.xDokument1.Properties.Appearance.Options.UseBorderColor = true;
            this.xDokument1.Properties.Appearance.Options.UseFont = true;
            this.xDokument1.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject5.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject5.Options.UseBackColor = true;
            serializableAppearanceObject6.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject6.Options.UseBackColor = true;
            serializableAppearanceObject7.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject7.Options.UseBackColor = true;
            serializableAppearanceObject8.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject8.Options.UseBackColor = true;
            this.xDokument1.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, false, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("xDokument1.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject5, "Dokument öffnen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, false, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("xDokument1.Properties.Buttons1"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject6, "Dokument löschen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("xDokument1.Properties.Buttons2"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject7, "Neues Dokument erstellen"),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("xDokument1.Properties.Buttons3"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject8, "Dokument importieren")});
            this.xDokument1.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.xDokument1.Properties.ReadOnly = true;
            this.xDokument1.Size = new System.Drawing.Size(194, 24);
            this.xDokument1.TabIndex = 2;
            // 
            // edtForderungPeriodisch
            // 
            this.edtForderungPeriodisch.Anchor = ((System.Windows.Forms.AnchorStyles)((System.Windows.Forms.AnchorStyles.Bottom | System.Windows.Forms.AnchorStyles.Left)));
            this.edtForderungPeriodisch.DataMember = "IkForderungPeriodischCode";
            this.edtForderungPeriodisch.DataSource = this.qryIkForderung;
            this.edtForderungPeriodisch.Location = new System.Drawing.Point(137, 326);
            this.edtForderungPeriodisch.LOVName = "IkForderungPeriodisch";
            this.edtForderungPeriodisch.Name = "edtForderungPeriodisch";
            this.edtForderungPeriodisch.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtForderungPeriodisch.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtForderungPeriodisch.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtForderungPeriodisch.Properties.Appearance.Options.UseBackColor = true;
            this.edtForderungPeriodisch.Properties.Appearance.Options.UseBorderColor = true;
            this.edtForderungPeriodisch.Properties.Appearance.Options.UseFont = true;
            this.edtForderungPeriodisch.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtForderungPeriodisch.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtForderungPeriodisch.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtForderungPeriodisch.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtForderungPeriodisch.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject9.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject9.Options.UseBackColor = true;
            this.edtForderungPeriodisch.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject9)});
            this.edtForderungPeriodisch.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtForderungPeriodisch.Properties.NullText = "";
            this.edtForderungPeriodisch.Properties.ShowFooter = false;
            this.edtForderungPeriodisch.Properties.ShowHeader = false;
            this.edtForderungPeriodisch.Size = new System.Drawing.Size(346, 24);
            this.edtForderungPeriodisch.TabIndex = 1;
            this.edtForderungPeriodisch.EditValueChanged += new System.EventHandler(this.edtForderungPeriodisch_EditValueChanged);
            // 
            // grdIkForderung
            // 
            this.grdIkForderung.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom)
                        | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.grdIkForderung.DataSource = this.qryIkForderung;
            this.grdIkForderung.EmbeddedNavigator.Name = "";
            this.grdIkForderung.GridStyle = KiSS4.Gui.GridStyleType.ReadOnly;
            this.grdIkForderung.Location = new System.Drawing.Point(10, 3);
            this.grdIkForderung.MainView = this.gvwIkForderung;
            this.grdIkForderung.Name = "grdIkForderung";
            this.grdIkForderung.Size = new System.Drawing.Size(672, 309);
            this.grdIkForderung.TabIndex = 0;
            this.grdIkForderung.TabStop = false;
            this.grdIkForderung.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.gvwIkForderung});
            // 
            // gvwIkForderung
            // 
            this.gvwIkForderung.Appearance.Empty.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.gvwIkForderung.Appearance.Empty.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.Empty.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.Empty.Options.UseFont = true;
            this.gvwIkForderung.Appearance.EvenRow.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(236)))), ((int)(((byte)(227)))), ((int)(((byte)(215)))));
            this.gvwIkForderung.Appearance.EvenRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.EvenRow.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.EvenRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.FocusedCell.BackColor = System.Drawing.SystemColors.Highlight;
            this.gvwIkForderung.Appearance.FocusedCell.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.FocusedCell.ForeColor = System.Drawing.Color.White;
            this.gvwIkForderung.Appearance.FocusedCell.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.FocusedCell.Options.UseFont = true;
            this.gvwIkForderung.Appearance.FocusedCell.Options.UseForeColor = true;
            this.gvwIkForderung.Appearance.FocusedRow.BackColor = System.Drawing.SystemColors.Highlight;
            this.gvwIkForderung.Appearance.FocusedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.FocusedRow.ForeColor = System.Drawing.Color.White;
            this.gvwIkForderung.Appearance.FocusedRow.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.FocusedRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.FocusedRow.Options.UseForeColor = true;
            this.gvwIkForderung.Appearance.GroupPanel.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwIkForderung.Appearance.GroupPanel.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.GroupRow.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwIkForderung.Appearance.GroupRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwIkForderung.Appearance.GroupRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwIkForderung.Appearance.GroupRow.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.GroupRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.GroupRow.Options.UseForeColor = true;
            this.gvwIkForderung.Appearance.HeaderPanel.BackColor = System.Drawing.Color.Tan;
            this.gvwIkForderung.Appearance.HeaderPanel.BorderColor = System.Drawing.Color.Tan;
            this.gvwIkForderung.Appearance.HeaderPanel.Font = new System.Drawing.Font("Arial", 11F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwIkForderung.Appearance.HeaderPanel.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.HeaderPanel.Options.UseBorderColor = true;
            this.gvwIkForderung.Appearance.HeaderPanel.Options.UseFont = true;
            this.gvwIkForderung.Appearance.HideSelectionRow.BackColor = System.Drawing.Color.PowderBlue;
            this.gvwIkForderung.Appearance.HideSelectionRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.HideSelectionRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwIkForderung.Appearance.HideSelectionRow.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.HideSelectionRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.HideSelectionRow.Options.UseForeColor = true;
            this.gvwIkForderung.Appearance.HorzLine.BackColor = System.Drawing.Color.Silver;
            this.gvwIkForderung.Appearance.HorzLine.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.OddRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.OddRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.Row.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.gvwIkForderung.Appearance.Row.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.Row.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.Row.Options.UseFont = true;
            this.gvwIkForderung.Appearance.SelectedRow.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwIkForderung.Appearance.SelectedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwIkForderung.Appearance.SelectedRow.ForeColor = System.Drawing.Color.Black;
            this.gvwIkForderung.Appearance.SelectedRow.Options.UseBackColor = true;
            this.gvwIkForderung.Appearance.SelectedRow.Options.UseFont = true;
            this.gvwIkForderung.Appearance.SelectedRow.Options.UseForeColor = true;
            this.gvwIkForderung.Appearance.VertLine.BackColor = System.Drawing.Color.Silver;
            this.gvwIkForderung.Appearance.VertLine.Options.UseBackColor = true;
            this.gvwIkForderung.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.gvwIkForderung.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.colDatum,
            this.colForderungPeriodisch,
            this.colBemerkung,
            this.colBetrag,
            this.colSollgestellt});
            this.gvwIkForderung.FocusRectStyle = DevExpress.XtraGrid.Views.Grid.DrawFocusRectStyle.None;
            this.gvwIkForderung.GridControl = this.grdIkForderung;
            this.gvwIkForderung.GroupSummary.AddRange(new DevExpress.XtraGrid.GridSummaryItem[] {
            new DevExpress.XtraGrid.GridGroupSummaryItem(DevExpress.Data.SummaryItemType.None, "", null, "")});
            this.gvwIkForderung.Name = "gvwIkForderung";
            this.gvwIkForderung.OptionsBehavior.Editable = false;
            this.gvwIkForderung.OptionsCustomization.AllowFilter = false;
            this.gvwIkForderung.OptionsFilter.UseNewCustomFilterDialog = true;
            this.gvwIkForderung.OptionsNavigation.AutoFocusNewRow = true;
            this.gvwIkForderung.OptionsNavigation.UseTabKey = false;
            this.gvwIkForderung.OptionsView.ColumnAutoWidth = false;
            this.gvwIkForderung.OptionsView.ShowFilterPanelMode = DevExpress.XtraGrid.Views.Base.ShowFilterPanelMode.Never;
            this.gvwIkForderung.OptionsView.ShowGroupPanel = false;
            this.gvwIkForderung.OptionsView.ShowIndicator = false;
            // 
            // colDatum
            // 
            this.colDatum.Caption = "gültig ab";
            this.colDatum.FieldName = "DatumAnpassenAb";
            this.colDatum.Name = "colDatum";
            this.colDatum.OptionsColumn.AllowEdit = false;
            this.colDatum.Visible = true;
            this.colDatum.VisibleIndex = 0;
            this.colDatum.Width = 83;
            // 
            // colForderungPeriodisch
            // 
            this.colForderungPeriodisch.Caption = "Forderung";
            this.colForderungPeriodisch.FieldName = "IkForderungPeriodischCode";
            this.colForderungPeriodisch.Name = "colForderungPeriodisch";
            this.colForderungPeriodisch.OptionsColumn.AllowEdit = false;
            this.colForderungPeriodisch.Visible = true;
            this.colForderungPeriodisch.VisibleIndex = 1;
            this.colForderungPeriodisch.Width = 208;
            // 
            // colBemerkung
            // 
            this.colBemerkung.Caption = "Bemerkung";
            this.colBemerkung.FieldName = "Bemerkung";
            this.colBemerkung.Name = "colBemerkung";
            this.colBemerkung.Visible = true;
            this.colBemerkung.VisibleIndex = 3;
            this.colBemerkung.Width = 255;
            // 
            // colBetrag
            // 
            this.colBetrag.AppearanceCell.Options.UseTextOptions = true;
            this.colBetrag.AppearanceCell.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Far;
            this.colBetrag.AppearanceHeader.Options.UseTextOptions = true;
            this.colBetrag.AppearanceHeader.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Far;
            this.colBetrag.Caption = "Betrag";
            this.colBetrag.DisplayFormat.FormatString = "N2";
            this.colBetrag.DisplayFormat.FormatType = DevExpress.Utils.FormatType.Numeric;
            this.colBetrag.FieldName = "Betrag";
            this.colBetrag.Name = "colBetrag";
            this.colBetrag.Visible = true;
            this.colBetrag.VisibleIndex = 2;
            this.colBetrag.Width = 91;
            // 
            // colSollgestellt
            // 
            this.colSollgestellt.Caption = "erl";
            this.colSollgestellt.FieldName = "IstSollgestellt";
            this.colSollgestellt.Name = "colSollgestellt";
            this.colSollgestellt.Visible = true;
            this.colSollgestellt.VisibleIndex = 4;
            this.colSollgestellt.Width = 25;
            // 
            // panel1
            // 
            this.panel1.Controls.Add(this.picTitel);
            this.panel1.Controls.Add(this.lblTitel);
            this.panel1.Dock = System.Windows.Forms.DockStyle.Top;
            this.panel1.Location = new System.Drawing.Point(0, 0);
            this.panel1.Name = "panel1";
            this.panel1.Size = new System.Drawing.Size(718, 24);
            this.panel1.TabIndex = 1;
            // 
            // picTitel
            // 
            this.picTitel.Location = new System.Drawing.Point(5, 5);
            this.picTitel.Name = "picTitel";
            this.picTitel.Size = new System.Drawing.Size(16, 16);
            this.picTitel.TabIndex = 293;
            this.picTitel.TabStop = false;
            // 
            // lblTitel
            // 
            this.lblTitel.LabelStyle = KiSS4.Gui.LabelStyleType.TitleLabel;
            this.lblTitel.Location = new System.Drawing.Point(25, 5);
            this.lblTitel.Name = "lblTitel";
            this.lblTitel.Size = new System.Drawing.Size(542, 15);
            this.lblTitel.TabIndex = 0;
            this.lblTitel.Text = "";
            this.lblTitel.UseCompatibleTextRendering = true;
            // 
            // qryLOV
            // 
            this.qryLOV.HostControl = this;
            this.qryLOV.SelectStatement = resources.GetString("qryLOV.SelectStatement");
            // 
            // CtlIkForderungen
            // 
            this.ActiveSQLQuery = this.qryIkForderung;
            this.Controls.Add(this.panel1);
            this.Controls.Add(this.tabIkForderung);
            this.Name = "CtlIkForderungen";
            this.Size = new System.Drawing.Size(718, 580);
            this.tabIkForderung.ResumeLayout(false);
            this.tbpEinmalig.ResumeLayout(false);
            this.tbpPeriodischeForderungen.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.lblVerwPeriodeStrich)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBgSplittingCode.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBgSplittingCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBgSplittingCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtVerwPeriodeBis.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkForderung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtVerwPeriodeVon.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblVerwPeriode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBetrag)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel5)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblDatumAnpassenAb)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel2)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblForderungPeriodisch)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtSollGestellt.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBetrag.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtDatumGueltigBis.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtDatumAnpassenAb.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBemerkung.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.xDokument1.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtForderungPeriodisch.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtForderungPeriodisch)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdIkForderung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwIkForderung)).EndInit();
            this.panel1.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.picTitel)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblTitel)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryLOV)).EndInit();
            this.ResumeLayout(false);

        }

        #endregion

        #region Dispose

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        protected override void Dispose(bool disposing)
        {
            if (disposing)
            {
                if ((components != null))
                {
                    components.Dispose();
                }
            }
            base.Dispose(disposing);
        }

        #endregion

        #region Public Properties

        // Letzte Bearbeitung
        // 24.09.2007 : sozheo : neu
        // ------------------------------------------------------------------------
        public override KissUserControl DetailControl
        {
            get
              {
            if (tabIkForderung.SelectedTab.Controls.Count == 1 && tabIkForderung.SelectedTab.Controls[0] is KissUserControl)
              return (KissUserControl)tabIkForderung.SelectedTab.Controls[0];
            else
              return base.DetailControl;
              }
        }

        #endregion

        #region Private Properties

        // Letzte Bearbeitung
        // 02.04.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private bool CanEdit
        {
            get
            {
                return (
                  qryIkForderung.Count>0 &&
                  qryIkForderung.CanUpdate &&
                  //!Utils.ConvertToBool(qryIkForderung["IstSollGestellt"], false) &&
                  !LeistungIstGeschlossen
                );
            }
        }

        private bool CanEditBemerkung
        {
            get
            {
                return (
                  qryIkForderung.Count>0 &&
                  qryIkForderung.CanUpdate &&
                  !LeistungIstGeschlossen
                );
            }
        }

        #endregion

        #region Public Methods

        public void Init(
            string Name, Image TitleImage,
            int FallID, int LeistungID, int ProzessCode, bool LeistungGeschlossen
            )
        {
            picTitel.Image = TitleImage;
            lblTitel.Text = Name;
            FaLeistungID = LeistungID;
            FaFallID = FallID;
            FaProzessCode = ProzessCode;
            LeistungIstGeschlossen = LeistungGeschlossen;

            //if (FaProzessCode == 304) // Unterhaltsbeiträge
            //  tbpPeriodischeForderungen.Hide();

            HatVerwendungsPeriode = (FaProzessCode < 400);
            if (!HatVerwendungsPeriode)
            {
                lblVerwPeriode.Visible = false;
                edtVerwPeriodeVon.Visible = false;
                lblVerwPeriodeStrich.Visible = false;
                edtVerwPeriodeBis.Visible = false;
                lblBgSplittingCode.Visible = false;
                edtBgSplittingCode.Visible = false;
            }

            if (LeistungIstGeschlossen)
            {
                qryIkForderung.CanUpdate = false;
                qryIkForderung.CanInsert = false;
                qryIkForderung.CanDelete = false;
            }

            edtForderungPeriodisch.LOVFilter = FaProzessCode.ToString();
            edtForderungPeriodisch.LOVName = "IkForderungPeriodisch";
            colForderungPeriodisch.ColumnEdit = grdIkForderung.GetLOVLookUpEdit("IkForderungPeriodisch");

            qryLOV.Fill();

            // Daten anzeigen:
            qryIkForderung.Fill(FaLeistungID);

            // Register: Einmalige Forderungen:
            ctlIkMonatszahlenEinmalig.InitLeistung("", null, FaFallID, FaLeistungID, FaProzessCode, true, false, LeistungIstGeschlossen);

            if (FaProzessCode == 301) tabIkForderung.SelectedTabIndex = 0;
        }

        // Letzte Bearbeitung
        // 22.09.2007 : sozheo : neu, damit Änderungen des Geburtsdatums aktualisiert werden
        // --------------------------------------------------------------------------------------
        public override bool ReceiveMessage( System.Collections.Specialized.HybridDictionary param )
        {
            // we need at least one parameter to know what to do
              if( param == null || param.Count < 1 ) return true;

              // action depending
              switch( param["Action"] as string )
              {
            case "Refresh": qryIkForderung.Refresh(); return true;
              }

              // did not understand message
              return false;
        }

        public override bool OnAddData()
        {
            if (tabIkForderung.SelectedTab == tbpEinmalig)
                return ctlIkMonatszahlenEinmalig.OnAddData();
            else
                return base.OnAddData();
        }

        public override bool OnDeleteData()
        {
            if (tabIkForderung.SelectedTab == tbpEinmalig)
                return ctlIkMonatszahlenEinmalig.OnDeleteData();
            else
                return base.OnDeleteData();
        }

        public override void OnRefreshData()
        {
            if (tabIkForderung.SelectedTab == tbpEinmalig)
                ctlIkMonatszahlenEinmalig.OnRefreshData();
            else
                base.OnRefreshData();
        }

        public override bool OnSaveData()
        {
            if (tabIkForderung.SelectedTab == tbpEinmalig)
                return ctlIkMonatszahlenEinmalig.OnSaveData();
            else
                return base.OnSaveData();
        }

        #endregion

        #region Private Methods

        // Letzte Bearbeitung
        // 09.05.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private int GetSplittingCode(int PeriodischCode)
        {
            if (PeriodischCode == 0) return 0;

            if (qryLOV.Find("Code="+PeriodischCode.ToString()))
            {
                try
                {
                  return Convert.ToInt32(qryLOV["BgSplittingArtCode"]);
                }
                catch
                {
                  return 0;
                }
            }
            return 0;
        }

        // Letzte Bearbeitung
        // 02.06.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void MonatszahlenNeuRechnen()
        {
            try
            {
                SqlQuery sql = DBUtil.OpenSQL("EXEC dbo.spIkMonatszahlen_DetailAll {0}, 1", FaLeistungID);
            }
            catch (Exception ex)
            {
                KissMsg.ShowInfo(ex.Message);
            }
        }

        // Letzte Bearbeitung
        // 09.05.2008 : sozheo : neu (von FrmWhEinzelzahlung übernommen)
        // ------------------------------------------------------------------------
        private void SetVerwendungsPeriode()
        {
            // nur für W-Modul:
            if (!HatVerwendungsPeriode) return;

            int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
            int BgSplittingArtCode = GetSplittingCode(TCode);
            edtBgSplittingCode.EditValue = BgSplittingArtCode;

            switch (BgSplittingArtCode)
            {
            case 1: //Taggenau
              if (DBUtil.IsEmpty(qryIkForderung["DatumAnpassenAb"]))
              {
                qryIkForderung["VerwPeriodeVon"] = DBNull.Value;
                qryIkForderung["VerwPeriodeBis"] = DBNull.Value;
              }
              else
              {
                DateTime firstDate = (DateTime)qryIkForderung["DatumAnpassenAb"];
                qryIkForderung["VerwPeriodeVon"] = firstDate;
                qryIkForderung["VerwPeriodeBis"] = firstDate;
              }
              qryIkForderung.RefreshDisplay();
              break;
            case 2: //Monat
              if (DBUtil.IsEmpty(qryIkForderung["DatumAnpassenAb"]))
              {
                qryIkForderung["VerwPeriodeVon"] = DBNull.Value;
                qryIkForderung["VerwPeriodeBis"] = DBNull.Value;
              }
              else
              {
                DateTime firstDate = (DateTime)qryIkForderung["DatumAnpassenAb"];
                firstDate = Utils.firstDayOfMonth(firstDate);
                DateTime lastDate = Utils.lastDayOfMonth(firstDate);
                qryIkForderung["VerwPeriodeVon"] = firstDate;
                qryIkForderung["VerwPeriodeBis"] = lastDate;
              }
              qryIkForderung.RefreshDisplay();
              break;
            case 3: //Valuta
              qryIkForderung["VerwPeriodeVon"] = DBNull.Value;
              qryIkForderung["VerwPeriodeBis"] = DBNull.Value;
              qryIkForderung.RefreshDisplay();
              break;
            case 4: //Entscheid
              qryIkForderung["VerwPeriodeVon"] = DBNull.Value;
              qryIkForderung["VerwPeriodeBis"] = DBNull.Value;
              qryIkForderung.RefreshDisplay();
              break;
            }
        }

        // Letzte Bearbeitung
        // 09.05.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void SetVerwendungsPeriodeEditMode()
        {
            // nur für W-Modul:
              if (!HatVerwendungsPeriode) return;

              int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
              int BgSplittingArtCode = GetSplittingCode(TCode);
              bool CanEditPeriodeVon = (
            CanEdit &&
            (BgSplittingArtCode == 1 || BgSplittingArtCode == 2 || BgSplittingArtCode == 4) // Taggenau, Monat, Entscheid
              );
              bool CanEditPeriodeBis = (
            CanEdit &&
            (BgSplittingArtCode == 1 || BgSplittingArtCode == 2) // Taggenau, Monat
              );
              edtVerwPeriodeVon.EditMode = CanEditPeriodeVon ? EditModeType.Normal : EditModeType.ReadOnly;
              edtVerwPeriodeBis.EditMode = CanEditPeriodeBis ? EditModeType.Normal : EditModeType.ReadOnly;
        }

        private void edtDatumAnpassenAb_EditValueChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 09.05.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (!edtDatumAnpassenAb.UserModified) return;

            qryIkForderung["DatumAnpassenAb"] = edtDatumAnpassenAb.DateTime;
            //SetVerwendungsPeriode();
        }

        private void edtForderungPeriodisch_EditValueChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 11.03.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (!edtForderungPeriodisch.UserModified) return;
            if (DBUtil.IsEmpty(edtForderungPeriodisch.EditValue)) return;

            int TCode = Utils.ConvertToInt(edtForderungPeriodisch.EditValue);
            qryIkForderung["IkForderungPeriodischCode"] = TCode;

            SetVerwendungsPeriode();
            SetVerwendungsPeriodeEditMode();
        }

        private void edtVerwPeriodeBis_EditValueChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 11.06.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (!edtVerwPeriodeBis.UserModified) return;
            if (DBUtil.IsEmpty(edtVerwPeriodeBis.EditValue)) return;

            if (HatVerwendungsPeriode)
            {
              int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
              int BgSplittingArtCode = GetSplittingCode(TCode);
              switch (BgSplittingArtCode)
              {
                case 2: //Monat
                  edtVerwPeriodeBis.EditValue = Utils.lastDayOfMonth((DateTime)edtVerwPeriodeBis.EditValue);
                  break;
              }
            }
        }

        private void edtVerwPeriodeVon_EditValueChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 11.06.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (!edtVerwPeriodeVon.UserModified) return;
            if (DBUtil.IsEmpty(edtVerwPeriodeVon.EditValue)) return;

            if (HatVerwendungsPeriode)
            {
              int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
              int BgSplittingArtCode = GetSplittingCode(TCode);
              switch (BgSplittingArtCode)
              {
                case 2: //Monat
                  edtVerwPeriodeVon.EditValue = Utils.firstDayOfMonth((DateTime)edtVerwPeriodeVon.EditValue);
                  break;
              }
            }
        }

        private void qryIkForderung_AfterDelete(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 02.06.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            MonatszahlenNeuRechnen();
        }

        private void qryIkForderung_AfterFill(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 24.09.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            if (qryIkForderung.Count==0) qryIkForderung_PositionChanged(sender, e);
        }

        private void qryIkForderung_AfterInsert(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 24.09.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            qryIkForderung["FaLeistungID"] = FaLeistungID;
            //qryIkForderung["ForderungAktiv"] = true;
            //qryIkForderung["ForderungWurdeSollgest"] = false;
        }

        private void qryIkForderung_AfterPost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 02.06.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            MonatszahlenNeuRechnen();
        }

        private void qryIkForderung_BeforeDelete(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 11.05.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (Utils.ConvertToBool(qryIkForderung["IstSollGestellt"], false))
            {
              KissMsg.ShowInfo("Teile dieser Forderung sind bereits sollgestellt.\r\nDiese Forderung kann deshalb nicht gelöscht werden.");
              throw new KissCancelException();
            }
        }

        private void qryIkForderung_BeforePost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 24.09.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            // Mussfelder checken: Codes:
            DBUtil.CheckNotNullField(edtForderungPeriodisch, lblForderungPeriodisch.Text);
            DBUtil.CheckNotNullField(edtDatumAnpassenAb, lblDatumAnpassenAb.Text);
            DBUtil.CheckNotNullField(edtBetrag, lblBetrag.Text);

            //qryIkForderung["Person"] = edtBaPersonID.GetDisplayText(edtBaPersonID.EditValue);

            // Verwendungsperiode
            // nur für W-Modul:
            if (HatVerwendungsPeriode)
            {

              int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
              int BgSplittingArtCode = GetSplittingCode(TCode);
              switch (BgSplittingArtCode)
              {
                case 1: //Taggenau
                  DBUtil.CheckNotNullField(edtVerwPeriodeVon,"Verwendungsperiode von");
                  DBUtil.CheckNotNullField(edtVerwPeriodeBis,"Verwendungsperiode bis");
                  if ((DateTime)edtVerwPeriodeBis.EditValue < (DateTime)edtVerwPeriodeVon.EditValue)
                  {
                    throw new KissInfoException("'Verwendungsperiode von' muss kleiner sein als 'Verwendungsperiode bis'.");
                  }
                  break;
                case 2: //Monat
                  DBUtil.CheckNotNullField(edtVerwPeriodeVon,"Verwendungsperiode von");
                  qryIkForderung["VerwPeriodeVon"] = Utils.firstDayOfMonth((DateTime)edtVerwPeriodeVon.EditValue);

                  qryIkForderung["VerwPeriodeBis"] = DBUtil.IsEmpty(qryIkForderung["VerwPeriodeBis"]) ?
                    Utils.lastDayOfMonth((DateTime)edtVerwPeriodeVon.EditValue) :
                    Utils.lastDayOfMonth((DateTime)edtVerwPeriodeBis.EditValue);

                  if ((DateTime)edtVerwPeriodeBis.EditValue < (DateTime)edtVerwPeriodeVon.EditValue)
                  {
                    throw new KissInfoException("'Verwendungsperiode von' muss kleiner sein als 'Verwendungsperiode bis'.");
                  }
                  break;
                case 4: //Entscheid
                  DBUtil.CheckNotNullField(edtVerwPeriodeVon,"Verwendungsperiode von");
                  break;
              }
            }
        }

        private void qryIkForderung_PositionChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 24.09.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            qryIkForderung.EnableBoundFields(CanEdit);
            edtBemerkung.EditMode = CanEditBemerkung ? EditModeType.Normal : EditModeType.ReadOnly;

            // Verwendungsperiode
            SetVerwendungsPeriodeEditMode();
            int TCode = Utils.ConvertToInt(qryIkForderung["IkForderungPeriodischCode"]);
            int BgSplittingArtCode = GetSplittingCode(TCode);
            edtBgSplittingCode.EditValue = BgSplittingArtCode;
        }

        private void tabIkForderung_SelectedTabChanging(object sender, System.ComponentModel.CancelEventArgs e)
        {
            // Letzte Bearbeitung
            // 24.09.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            if (tabIkForderung.SelectedTabIndex == 0) // einmalige Forderungen
                e.Cancel = !qryIkForderung.Post();
            else
                if (tabIkForderung.SelectedTabIndex == 1) // periodische Forderungen
                    e.Cancel = !ctlIkMonatszahlenEinmalig.qryIkPosition.Post();
                else
                    e.Cancel = false;
        }

        private void btnEZSEinmalig_Click(object sender, EventArgs e)
        {
            object schuldner = DBUtil.ExecuteScalarSQL("Select SchuldnerBaPersonID FROM FaLeistung WHERE FaLeistungID = {0}", this.FaLeistungID);
            int? schuldnerBaPersonID = DBUtil.IsEmpty(schuldner) ? null : (int?)schuldner; // TODO: Schuldner aus query löschen
            string jumpToPath = string.Format(
                "ClassName=FrmEsrDruck;Einzahlkonto=Inkasso W;"
                +"EinzahlerIn={0};"
                +"LeistungID={1};"
                +"Betrag={2}",
                schuldnerBaPersonID,
                this.FaLeistungID,
                ctlIkMonatszahlenEinmalig.Betrag);

            System.Collections.Specialized.HybridDictionary dic = FormController.ConvertToDictionary(jumpToPath);
            bool result = FormController.OpenForm((string)dic["ClassName"], "Action", "JumpToPath", dic);

        }

        private void btnEZSPeriodisch_Click(object sender, EventArgs e)
        {
            object schuldner = DBUtil.ExecuteScalarSQL("Select SchuldnerBaPersonID FROM FaLeistung WHERE FaLeistungID = {0}", this.FaLeistungID);
            int? schuldnerBaPersonID = DBUtil.IsEmpty(schuldner) ? null : (int?)schuldner; // TODO: Schuldner aus query löschen
            string jumpToPath = string.Format(
                "ClassName=FrmEsrDruck;Einzahlkonto=Inkasso W;"
                + "EinzahlerIn={0};"
                + "LeistungID={1};"
                + "Betrag={2}",
                schuldnerBaPersonID,
                this.FaLeistungID,
                edtBetrag.EditValue);
            System.Collections.Specialized.HybridDictionary dic = FormController.ConvertToDictionary(jumpToPath);
            bool result = FormController.OpenForm((string)dic["ClassName"], "Action", "JumpToPath", dic);

        }

        #endregion

    }
}