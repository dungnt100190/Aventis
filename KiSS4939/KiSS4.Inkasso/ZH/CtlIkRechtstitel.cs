#region Header

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.3053
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#endregion

using System;
using System.ComponentModel;
using Kiss.Interfaces.UI;
using KiSS4.Common;
using KiSS4.DB;
using KiSS4.Gui;

namespace KiSS4.Inkasso.ZH
{
    public class CtlIkRechtstitel : KiSS4.Gui.KissUserControl
    {
        #region Fields

        private int FaFallID = 0;

        // Letzte Bearbeitung
        // 15.08.2007 : sozksc : neu
        // 29.08.2007 : sozheo : Anpassungen für andere Register
        // 13.09.2007 : sozheo : Autom. Holen des Indexstandes
        // 01.11.2007 : sozheo : Umbau für mehrere Rechtstitel pro Leistung
        // 03.04.2008 : sozheo : Sperren, wenn Leistung-Datum-Bis definiert ist
        // 21.01.2009 : sozheo : Umbau für bessere Performance: FaLeistungID wird jetzt immer gespeichert
        // 26.02.2009 : sozheo : Umbau für neue Tabelle IkInterneVerrechnung
        // ------------------------------------------------------------------------
        private int FaLeistungID = 0;
        private int FaProzessCode;
        private bool HasSchulder = false;
        private int IkRechtstitelID = 0;
        private bool LeistungIstGeschlossen = true;
        private bool RechtstitelDetailsSindKorrigiert = false;
        private bool RechtstitelIstKorrigiert = false;
        private int SchuldnerBaPersonID = 0;
        private DevExpress.XtraGrid.Columns.GridColumn colIkRechtstitel;
        private DevExpress.XtraGrid.Columns.GridColumn colRechtstitelDatumVon;
        private DevExpress.XtraGrid.Columns.GridColumn colRechtstitelInfo;
        private DevExpress.XtraGrid.Columns.GridColumn colRechtstitelRechtskraeftig;
        private DevExpress.XtraGrid.Columns.GridColumn colTeuerungseinsprache;
        private System.ComponentModel.IContainer components;
        private KiSS4.Inkasso.ZH.CtlIkGlaeubiger ctlIkGlaeubiger;
        private KiSS4.Inkasso.ZH.CtlIkRechtstitelForderung ctlIkRechtstitelForderung;
        private KiSS4.Gui.KissLookUpEdit edtAmIndexTypCode;
        private KiSS4.Gui.KissTextEdit edtBezeichnung;
        private KiSS4.Gui.KissLookUpEdit edtBezugKinderzulagenCode;
        private KiSS4.Gui.KissMemoEdit edtElterlicheSorgeBemerkung;
        private KiSS4.Gui.KissLookUpEdit edtElterlicheVertretung;
        private KiSS4.Gui.KissCheckEdit edtGanzesKlientensystem;
        private KiSS4.Gui.KissDateEdit edtIkRechtstitelGueltigBis;
        private KiSS4.Gui.KissDateEdit edtIkRechtstitelGueltigVon;
        private KiSS4.Gui.KissLookUpEdit edtIndexRundenCode;
        private KiSS4.Gui.KissTextEdit edtIndexStandPunkte;
        private KiSS4.Gui.KissDateEdit edtIndexStandVom;
        private KiSS4.Gui.KissGrid grdInfos;
        private DevExpress.XtraGrid.Views.Grid.GridView gvwInfos;
        private KiSS4.Gui.KissLabel kissLabel1;
        private KiSS4.Gui.KissLabel kissLabel4;
        private KiSS4.Gui.KissMemoEdit kissMemoEdit1;
        private KiSS4.Gui.KissLabel lblAmIndexTypCode;
        private KiSS4.Gui.KissLabel lblBezeichnung;
        private KiSS4.Gui.KissLabel lblBezugKinderzulagenCode;
        private KiSS4.Gui.KissLabel lblElterlicheSorgeBemerkung;
        private KiSS4.Gui.KissLabel lblElterlicheVertretung;
        private KiSS4.Gui.KissLabel lblIkRechtstitelGueltigBis;
        private KiSS4.Gui.KissLabel lblIkRechtstitelGueltigVon;
        private KiSS4.Gui.KissLabel lblIndexRundenCode;
        private KiSS4.Gui.KissLabel lblIndexStandPunkte;
        private KiSS4.Gui.KissLabel lblIndexStandVom;
        private KiSS4.Gui.KissLabel lblTitel;
        private System.Windows.Forms.Panel panel1;
        private System.Windows.Forms.PictureBox picTitle;
        private KiSS4.DB.SqlQuery qryIkRechtstitel;
        private KiSS4.DB.SqlQuery qryIkRechtstitelInfos;
        private KiSS4.DB.SqlQuery qryPerson;
        private KiSS4.Gui.KissTabControlEx tabRechtstitel;
        private SharpLibrary.WinControls.TabPageEx tbpForderung;
        private SharpLibrary.WinControls.TabPageEx tbpRechtstitel;

        #endregion

        #region Constructors

        public CtlIkRechtstitel(
            int LeistungID, int FallID, System.Drawing.Image icon,
            bool Gesperrt, int RechtstitelID, int ProzessCode, bool LeistgGeschlossen)
            : this()
        {
            picTitle.Image = icon;
            FaLeistungID = LeistungID;
            FaFallID = FallID;
            IkRechtstitelID = RechtstitelID;
            FaProzessCode = ProzessCode;

            LeistungIstGeschlossen = LeistgGeschlossen;
            if (LeistungIstGeschlossen)
            {
                qryIkRechtstitel.CanUpdate = false;
                qryIkRechtstitel.CanInsert = false;
                qryIkRechtstitel.CanDelete = false;
            }

            SqlQuery qry = DBUtil.OpenSQL(
                "select SchuldnerBaPersonID from dbo.FaLeistung with(readuncommitted) where FaLeistungID = "+FaLeistungID.ToString()
            );
            HasSchulder = (Utils.ConvertToInt(qry["SchuldnerBaPersonID"]) > 0);
            SchuldnerBaPersonID = Utils.ConvertToInt(qry["SchuldnerBaPersonID"]);
            qryIkRechtstitel.CanUpdate = qryIkRechtstitel.CanUpdate && HasSchulder;
            if (!HasSchulder) KissMsg.ShowInfo("Definieren Sie zuerst den Schuldner dieses Rechtstitels.");

            // Personen aus FaFallPerson:
            qryPerson.Fill(FaFallID);
            edtElterlicheVertretung.Properties.DataSource = qryPerson;

            // Damit Daten im Gitter angezeigt werden
            colIkRechtstitel.ColumnEdit = grdInfos.GetLOVLookUpEdit("IkRechtstitel" );

            // Daten der Gläubiger anzeigen:
            ctlIkGlaeubiger.Init(
                RechtstitelID, FaFallID, qryIkRechtstitel.CanUpdate, false,
                FaLeistungID, FaProzessCode, SchuldnerBaPersonID, LeistungIstGeschlossen);

            // Ereignisse manuell hizufügen, sonst funzen sie nicht
            ctlIkGlaeubiger.AddData += new System.EventHandler(this.CtlIkRechtstitel_AddData);
            ctlIkGlaeubiger.DeleteData += new System.EventHandler(this.CtlIkRechtstitel_DeleteData);
            ctlIkGlaeubiger.MoveFirst += new System.EventHandler(this.CtlIkRechtstitel_MoveFirst);
            ctlIkGlaeubiger.MoveNext += new System.EventHandler(this.CtlIkRechtstitel_MoveNext);
            ctlIkGlaeubiger.MovePrevious += new System.EventHandler(this.CtlIkRechtstitel_MovePrevious);
            ctlIkGlaeubiger.MoveLast += new System.EventHandler(this.CtlIkRechtstitel_MoveLast);
            ctlIkGlaeubiger.RefreshData += new System.EventHandler(this.CtlIkRechtstitel_RefreshData);
            ctlIkGlaeubiger.SaveData += new System.EventHandler(this.CtlIkRechtstitel_SaveData);
            ctlIkGlaeubiger.UndoDataChanges += new System.EventHandler(this.CtlIkRechtstitel_UndoDataChanges);

            // Daten zeigen:
            qryIkRechtstitel.Fill(RechtstitelID);
            
            // anderer Register aktualisieren:
            FillOtherRegisters();
        }

        public CtlIkRechtstitel()
        {
            this.InitializeComponent();
        }

        #endregion

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.components = new System.ComponentModel.Container();
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(CtlIkRechtstitel));
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject1 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject2 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject3 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject4 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject5 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.XtraGrid.GridLevelNode gridLevelNode1 = new DevExpress.XtraGrid.GridLevelNode();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject6 = new DevExpress.Utils.SerializableAppearanceObject();
            DevExpress.Utils.SerializableAppearanceObject serializableAppearanceObject7 = new DevExpress.Utils.SerializableAppearanceObject();
            this.panel1 = new System.Windows.Forms.Panel();
            this.picTitle = new System.Windows.Forms.PictureBox();
            this.lblTitel = new KiSS4.Gui.KissLabel();
            this.tabRechtstitel = new KiSS4.Gui.KissTabControlEx();
            this.tbpForderung = new SharpLibrary.WinControls.TabPageEx();
            this.ctlIkRechtstitelForderung = new KiSS4.Inkasso.ZH.CtlIkRechtstitelForderung();
            this.tbpRechtstitel = new SharpLibrary.WinControls.TabPageEx();
            this.kissLabel1 = new KiSS4.Gui.KissLabel();
            this.lblBezeichnung = new KiSS4.Gui.KissLabel();
            this.lblIkRechtstitelGueltigBis = new KiSS4.Gui.KissLabel();
            this.lblIkRechtstitelGueltigVon = new KiSS4.Gui.KissLabel();
            this.lblElterlicheVertretung = new KiSS4.Gui.KissLabel();
            this.kissLabel4 = new KiSS4.Gui.KissLabel();
            this.lblElterlicheSorgeBemerkung = new KiSS4.Gui.KissLabel();
            this.lblBezugKinderzulagenCode = new KiSS4.Gui.KissLabel();
            this.lblIndexRundenCode = new KiSS4.Gui.KissLabel();
            this.lblIndexStandVom = new KiSS4.Gui.KissLabel();
            this.lblIndexStandPunkte = new KiSS4.Gui.KissLabel();
            this.lblAmIndexTypCode = new KiSS4.Gui.KissLabel();
            this.ctlIkGlaeubiger = new KiSS4.Inkasso.ZH.CtlIkGlaeubiger();
            this.edtGanzesKlientensystem = new KiSS4.Gui.KissCheckEdit();
            this.edtElterlicheSorgeBemerkung = new KiSS4.Gui.KissMemoEdit();
            this.qryIkRechtstitel = new KiSS4.DB.SqlQuery(this.components);
            this.edtElterlicheVertretung = new KiSS4.Gui.KissLookUpEdit();
            this.edtBezugKinderzulagenCode = new KiSS4.Gui.KissLookUpEdit();
            this.edtIndexRundenCode = new KiSS4.Gui.KissLookUpEdit();
            this.edtIndexStandPunkte = new KiSS4.Gui.KissTextEdit();
            this.edtIndexStandVom = new KiSS4.Gui.KissDateEdit();
            this.edtAmIndexTypCode = new KiSS4.Gui.KissLookUpEdit();
            this.kissMemoEdit1 = new KiSS4.Gui.KissMemoEdit();
            this.qryIkRechtstitelInfos = new KiSS4.DB.SqlQuery(this.components);
            this.grdInfos = new KiSS4.Gui.KissGrid();
            this.gvwInfos = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.colIkRechtstitel = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colRechtstitelDatumVon = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colRechtstitelRechtskraeftig = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colTeuerungseinsprache = new DevExpress.XtraGrid.Columns.GridColumn();
            this.colRechtstitelInfo = new DevExpress.XtraGrid.Columns.GridColumn();
            this.edtIkRechtstitelGueltigBis = new KiSS4.Gui.KissDateEdit();
            this.edtIkRechtstitelGueltigVon = new KiSS4.Gui.KissDateEdit();
            this.edtBezeichnung = new KiSS4.Gui.KissTextEdit();
            this.qryPerson = new KiSS4.DB.SqlQuery(this.components);
            this.panel1.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.picTitle)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblTitel)).BeginInit();
            this.tabRechtstitel.SuspendLayout();
            this.tbpForderung.SuspendLayout();
            this.tbpRechtstitel.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezeichnung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIkRechtstitelGueltigBis)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIkRechtstitelGueltigVon)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblElterlicheVertretung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel4)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblElterlicheSorgeBemerkung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezugKinderzulagenCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexRundenCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexStandVom)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexStandPunkte)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmIndexTypCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtGanzesKlientensystem.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheSorgeBemerkung.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkRechtstitel)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheVertretung)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheVertretung.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezugKinderzulagenCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezugKinderzulagenCode.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexRundenCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexRundenCode.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexStandPunkte.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexStandVom.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmIndexTypCode)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmIndexTypCode.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissMemoEdit1.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkRechtstitelInfos)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdInfos)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwInfos)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIkRechtstitelGueltigBis.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIkRechtstitelGueltigVon.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezeichnung.Properties)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryPerson)).BeginInit();
            this.SuspendLayout();
            // 
            // panel1
            // 
            this.panel1.Controls.Add(this.picTitle);
            this.panel1.Controls.Add(this.lblTitel);
            this.panel1.Dock = System.Windows.Forms.DockStyle.Top;
            this.panel1.Location = new System.Drawing.Point(0, 0);
            this.panel1.Name = "panel1";
            this.panel1.Size = new System.Drawing.Size(710, 24);
            this.panel1.TabIndex = 30;
            // 
            // picTitle
            // 
            this.picTitle.Location = new System.Drawing.Point(5, 5);
            this.picTitle.Name = "picTitle";
            this.picTitle.Size = new System.Drawing.Size(16, 16);
            this.picTitle.TabIndex = 293;
            this.picTitle.TabStop = false;
            // 
            // lblTitel
            // 
            this.lblTitel.LabelStyle = KiSS4.Gui.LabelStyleType.TitleLabel;
            this.lblTitel.Location = new System.Drawing.Point(32, 5);
            this.lblTitel.Name = "lblTitel";
            this.lblTitel.Size = new System.Drawing.Size(542, 15);
            this.lblTitel.TabIndex = 0;
            this.lblTitel.Text = "Rechtstitel Unterhaltspflicht";
            this.lblTitel.UseCompatibleTextRendering = true;
            // 
            // tabRechtstitel
            // 
            this.tabRechtstitel.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom)
                        | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.tabRechtstitel.Controls.Add(this.tbpForderung);
            this.tabRechtstitel.Controls.Add(this.tbpRechtstitel);
            this.tabRechtstitel.Location = new System.Drawing.Point(0, 45);
            this.tabRechtstitel.Name = "tabRechtstitel";
            this.tabRechtstitel.ShowFixedWidthTooltip = true;
            this.tabRechtstitel.Size = new System.Drawing.Size(696, 532);
            this.tabRechtstitel.TabIndex = 33;
            this.tabRechtstitel.TabPages.AddRange(new SharpLibrary.WinControls.TabPageEx[] {
            this.tbpRechtstitel,
            this.tbpForderung});
            this.tabRechtstitel.TabsLineColor = System.Drawing.Color.Black;
            this.tabRechtstitel.TabsStyle = SharpLibrary.WinControls.TabsStyle.Flat;
            this.tabRechtstitel.Text = "kissTabControlEx1";
            this.tabRechtstitel.SelectedTabChanging += new System.ComponentModel.CancelEventHandler(this.tabRechtstitel_SelectedTabChanging);
            this.tabRechtstitel.SelectedTabChanged += new SharpLibrary.WinControls.TabControlExTabChangeEventHandler(this.tabRechtstitel_SelectedTabChanged);
            // 
            // tbpForderung
            // 
            this.tbpForderung.Controls.Add(this.ctlIkRechtstitelForderung);
            this.tbpForderung.Location = new System.Drawing.Point(6, 6);
            this.tbpForderung.Name = "tbpForderung";
            this.tbpForderung.Size = new System.Drawing.Size(684, 494);
            this.tbpForderung.TabIndex = 2;
            this.tbpForderung.Title = "Forderungen";
            // 
            // ctlIkRechtstitelForderung
            // 
            this.ctlIkRechtstitelForderung.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.ctlIkRechtstitelForderung.Dock = System.Windows.Forms.DockStyle.Fill;
            this.ctlIkRechtstitelForderung.Location = new System.Drawing.Point(0, 0);
            this.ctlIkRechtstitelForderung.Name = "ctlIkRechtstitelForderung";
            this.ctlIkRechtstitelForderung.Size = new System.Drawing.Size(684, 494);
            this.ctlIkRechtstitelForderung.TabIndex = 0;
            // 
            // tbpRechtstitel
            // 
            this.tbpRechtstitel.Controls.Add(this.kissLabel1);
            this.tbpRechtstitel.Controls.Add(this.lblBezeichnung);
            this.tbpRechtstitel.Controls.Add(this.lblIkRechtstitelGueltigBis);
            this.tbpRechtstitel.Controls.Add(this.lblIkRechtstitelGueltigVon);
            this.tbpRechtstitel.Controls.Add(this.lblElterlicheVertretung);
            this.tbpRechtstitel.Controls.Add(this.kissLabel4);
            this.tbpRechtstitel.Controls.Add(this.lblElterlicheSorgeBemerkung);
            this.tbpRechtstitel.Controls.Add(this.lblBezugKinderzulagenCode);
            this.tbpRechtstitel.Controls.Add(this.lblIndexRundenCode);
            this.tbpRechtstitel.Controls.Add(this.lblIndexStandVom);
            this.tbpRechtstitel.Controls.Add(this.lblIndexStandPunkte);
            this.tbpRechtstitel.Controls.Add(this.lblAmIndexTypCode);
            this.tbpRechtstitel.Controls.Add(this.ctlIkGlaeubiger);
            this.tbpRechtstitel.Controls.Add(this.edtGanzesKlientensystem);
            this.tbpRechtstitel.Controls.Add(this.edtElterlicheSorgeBemerkung);
            this.tbpRechtstitel.Controls.Add(this.edtElterlicheVertretung);
            this.tbpRechtstitel.Controls.Add(this.edtBezugKinderzulagenCode);
            this.tbpRechtstitel.Controls.Add(this.edtIndexRundenCode);
            this.tbpRechtstitel.Controls.Add(this.edtIndexStandPunkte);
            this.tbpRechtstitel.Controls.Add(this.edtIndexStandVom);
            this.tbpRechtstitel.Controls.Add(this.edtAmIndexTypCode);
            this.tbpRechtstitel.Controls.Add(this.kissMemoEdit1);
            this.tbpRechtstitel.Controls.Add(this.grdInfos);
            this.tbpRechtstitel.Controls.Add(this.edtIkRechtstitelGueltigBis);
            this.tbpRechtstitel.Controls.Add(this.edtIkRechtstitelGueltigVon);
            this.tbpRechtstitel.Controls.Add(this.edtBezeichnung);
            this.tbpRechtstitel.Location = new System.Drawing.Point(6, 6);
            this.tbpRechtstitel.Name = "tbpRechtstitel";
            this.tbpRechtstitel.Size = new System.Drawing.Size(684, 494);
            this.tbpRechtstitel.TabIndex = 0;
            this.tbpRechtstitel.Title = "Rechtstitel";
            // 
            // kissLabel1
            // 
            this.kissLabel1.Location = new System.Drawing.Point(425, 86);
            this.kissLabel1.Name = "kissLabel1";
            this.kissLabel1.Size = new System.Drawing.Size(157, 24);
            this.kissLabel1.TabIndex = 51;
            this.kissLabel1.Text = "Gericht, Informationen";
            this.kissLabel1.UseCompatibleTextRendering = true;
            // 
            // lblBezeichnung
            // 
            this.lblBezeichnung.Location = new System.Drawing.Point(3, 16);
            this.lblBezeichnung.Name = "lblBezeichnung";
            this.lblBezeichnung.Size = new System.Drawing.Size(98, 24);
            this.lblBezeichnung.TabIndex = 48;
            this.lblBezeichnung.Text = "Bezeichnung";
            this.lblBezeichnung.UseCompatibleTextRendering = true;
            // 
            // lblIkRechtstitelGueltigBis
            // 
            this.lblIkRechtstitelGueltigBis.Location = new System.Drawing.Point(257, 46);
            this.lblIkRechtstitelGueltigBis.Name = "lblIkRechtstitelGueltigBis";
            this.lblIkRechtstitelGueltigBis.Size = new System.Drawing.Size(53, 24);
            this.lblIkRechtstitelGueltigBis.TabIndex = 45;
            this.lblIkRechtstitelGueltigBis.Text = "Gültig bis";
            this.lblIkRechtstitelGueltigBis.UseCompatibleTextRendering = true;
            // 
            // lblIkRechtstitelGueltigVon
            // 
            this.lblIkRechtstitelGueltigVon.Location = new System.Drawing.Point(3, 46);
            this.lblIkRechtstitelGueltigVon.Name = "lblIkRechtstitelGueltigVon";
            this.lblIkRechtstitelGueltigVon.Size = new System.Drawing.Size(98, 24);
            this.lblIkRechtstitelGueltigVon.TabIndex = 43;
            this.lblIkRechtstitelGueltigVon.Text = "Erfasst am";
            this.lblIkRechtstitelGueltigVon.UseCompatibleTextRendering = true;
            // 
            // lblElterlicheVertretung
            // 
            this.lblElterlicheVertretung.Location = new System.Drawing.Point(3, 353);
            this.lblElterlicheVertretung.Name = "lblElterlicheVertretung";
            this.lblElterlicheVertretung.Size = new System.Drawing.Size(128, 24);
            this.lblElterlicheVertretung.TabIndex = 39;
            this.lblElterlicheVertretung.Text = "Gesetzlicher Vertreter";
            this.lblElterlicheVertretung.UseCompatibleTextRendering = true;
            // 
            // kissLabel4
            // 
            this.kissLabel4.LabelStyle = KiSS4.Gui.LabelStyleType.DataView;
            this.kissLabel4.Location = new System.Drawing.Point(134, 205);
            this.kissLabel4.Name = "kissLabel4";
            this.kissLabel4.Size = new System.Drawing.Size(96, 16);
            this.kissLabel4.TabIndex = 37;
            this.kissLabel4.Text = "Indexierung";
            this.kissLabel4.UseCompatibleTextRendering = true;
            // 
            // lblElterlicheSorgeBemerkung
            // 
            this.lblElterlicheSorgeBemerkung.Location = new System.Drawing.Point(425, 197);
            this.lblElterlicheSorgeBemerkung.Name = "lblElterlicheSorgeBemerkung";
            this.lblElterlicheSorgeBemerkung.Size = new System.Drawing.Size(96, 24);
            this.lblElterlicheSorgeBemerkung.TabIndex = 35;
            this.lblElterlicheSorgeBemerkung.Text = "Bemerkung ";
            this.lblElterlicheSorgeBemerkung.UseCompatibleTextRendering = true;
            // 
            // lblBezugKinderzulagenCode
            // 
            this.lblBezugKinderzulagenCode.Location = new System.Drawing.Point(3, 323);
            this.lblBezugKinderzulagenCode.Name = "lblBezugKinderzulagenCode";
            this.lblBezugKinderzulagenCode.Size = new System.Drawing.Size(112, 24);
            this.lblBezugKinderzulagenCode.TabIndex = 26;
            this.lblBezugKinderzulagenCode.Text = "Bezug Kinderzulagen";
            this.lblBezugKinderzulagenCode.UseCompatibleTextRendering = true;
            // 
            // lblIndexRundenCode
            // 
            this.lblIndexRundenCode.Location = new System.Drawing.Point(3, 292);
            this.lblIndexRundenCode.Name = "lblIndexRundenCode";
            this.lblIndexRundenCode.Size = new System.Drawing.Size(86, 24);
            this.lblIndexRundenCode.TabIndex = 23;
            this.lblIndexRundenCode.Text = "Rundungsformel";
            this.lblIndexRundenCode.UseCompatibleTextRendering = true;
            // 
            // lblIndexStandVom
            // 
            this.lblIndexStandVom.Location = new System.Drawing.Point(3, 258);
            this.lblIndexStandVom.Name = "lblIndexStandVom";
            this.lblIndexStandVom.Size = new System.Drawing.Size(93, 24);
            this.lblIndexStandVom.TabIndex = 17;
            this.lblIndexStandVom.Text = "Indexstand vom";
            this.lblIndexStandVom.UseCompatibleTextRendering = true;
            // 
            // lblIndexStandPunkte
            // 
            this.lblIndexStandPunkte.Location = new System.Drawing.Point(264, 256);
            this.lblIndexStandPunkte.Name = "lblIndexStandPunkte";
            this.lblIndexStandPunkte.Size = new System.Drawing.Size(46, 24);
            this.lblIndexStandPunkte.TabIndex = 15;
            this.lblIndexStandPunkte.Text = " Punkte";
            this.lblIndexStandPunkte.UseCompatibleTextRendering = true;
            // 
            // lblAmIndexTypCode
            // 
            this.lblAmIndexTypCode.Location = new System.Drawing.Point(3, 227);
            this.lblAmIndexTypCode.Name = "lblAmIndexTypCode";
            this.lblAmIndexTypCode.Size = new System.Drawing.Size(86, 24);
            this.lblAmIndexTypCode.TabIndex = 14;
            this.lblAmIndexTypCode.Text = "Basierend auf ";
            this.lblAmIndexTypCode.UseCompatibleTextRendering = true;
            // 
            // ctlIkGlaeubiger
            // 
            this.ctlIkGlaeubiger.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom)
                        | System.Windows.Forms.AnchorStyles.Left)
                        | System.Windows.Forms.AnchorStyles.Right)));
            this.ctlIkGlaeubiger.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.ctlIkGlaeubiger.Location = new System.Drawing.Point(-3, 423);
            this.ctlIkGlaeubiger.Name = "ctlIkGlaeubiger";
            this.ctlIkGlaeubiger.Size = new System.Drawing.Size(687, 71);
            this.ctlIkGlaeubiger.TabIndex = 13;
            // 
            // edtGanzesKlientensystem
            // 
            this.edtGanzesKlientensystem.EditValue = true;
            this.edtGanzesKlientensystem.Location = new System.Drawing.Point(3, 402);
            this.edtGanzesKlientensystem.Name = "edtGanzesKlientensystem";
            this.edtGanzesKlientensystem.Properties.Appearance.BackColor = System.Drawing.Color.Transparent;
            this.edtGanzesKlientensystem.Properties.Appearance.Options.UseBackColor = true;
            this.edtGanzesKlientensystem.Properties.Caption = "Ganzes Klientensystem anzeigen";
            this.edtGanzesKlientensystem.Size = new System.Drawing.Size(199, 19);
            this.edtGanzesKlientensystem.TabIndex = 12;
            this.edtGanzesKlientensystem.EditValueChanged += new System.EventHandler(this.edtGanzesKlientensystem_EditValueChanged);
            this.edtGanzesKlientensystem.EditValueChanging += new DevExpress.XtraEditors.Controls.ChangingEventHandler(this.edtGanzesKlientensystem_EditValueChanging);
            // 
            // edtElterlicheSorgeBemerkung
            // 
            this.edtElterlicheSorgeBemerkung.DataMember = "ElterlicheSorgeBemerkung";
            this.edtElterlicheSorgeBemerkung.DataSource = this.qryIkRechtstitel;
            this.edtElterlicheSorgeBemerkung.Location = new System.Drawing.Point(425, 225);
            this.edtElterlicheSorgeBemerkung.Name = "edtElterlicheSorgeBemerkung";
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.Options.UseBackColor = true;
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.Options.UseBorderColor = true;
            this.edtElterlicheSorgeBemerkung.Properties.Appearance.Options.UseFont = true;
            this.edtElterlicheSorgeBemerkung.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtElterlicheSorgeBemerkung.Size = new System.Drawing.Size(254, 91);
            this.edtElterlicheSorgeBemerkung.TabIndex = 11;
            // 
            // qryIkRechtstitel
            // 
            this.qryIkRechtstitel.BatchUpdate = true;
            this.qryIkRechtstitel.CanUpdate = true;
            this.qryIkRechtstitel.HostControl = this;
            this.qryIkRechtstitel.SelectStatement = resources.GetString("qryIkRechtstitel.SelectStatement");
            this.qryIkRechtstitel.TableName = "IkRechtstitel";
            this.qryIkRechtstitel.BeforePost += new System.EventHandler(this.qryIkRechtstitel_BeforePost);
            this.qryIkRechtstitel.PositionChanged += new System.EventHandler(this.qryIkRechtstitel_PositionChanged);
            this.qryIkRechtstitel.AfterFill += new System.EventHandler(this.qryIkRechtstitel_AfterFill);
            // 
            // edtElterlicheVertretung
            // 
            this.edtElterlicheVertretung.DataMember = "BaPersonID";
            this.edtElterlicheVertretung.DataSource = this.qryIkRechtstitel;
            this.edtElterlicheVertretung.Location = new System.Drawing.Point(134, 353);
            this.edtElterlicheVertretung.Name = "edtElterlicheVertretung";
            this.edtElterlicheVertretung.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtElterlicheVertretung.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtElterlicheVertretung.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtElterlicheVertretung.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtElterlicheVertretung.Properties.Appearance.Options.UseBackColor = true;
            this.edtElterlicheVertretung.Properties.Appearance.Options.UseBorderColor = true;
            this.edtElterlicheVertretung.Properties.Appearance.Options.UseFont = true;
            this.edtElterlicheVertretung.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtElterlicheVertretung.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtElterlicheVertretung.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtElterlicheVertretung.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtElterlicheVertretung.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject1.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject1.Options.UseBackColor = true;
            this.edtElterlicheVertretung.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject1)});
            this.edtElterlicheVertretung.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtElterlicheVertretung.Properties.Columns.AddRange(new DevExpress.XtraEditors.Controls.LookUpColumnInfo[] {
            new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Text", "Name", 20, DevExpress.Utils.FormatType.None, "", true, DevExpress.Utils.HorzAlignment.Default, DevExpress.Data.ColumnSortOrder.None)});
            this.edtElterlicheVertretung.Properties.DisplayMember = "Text";
            this.edtElterlicheVertretung.Properties.NullText = "";
            this.edtElterlicheVertretung.Properties.ShowFooter = false;
            this.edtElterlicheVertretung.Properties.ShowHeader = false;
            this.edtElterlicheVertretung.Properties.ValueMember = "BaPersonID";
            this.edtElterlicheVertretung.Size = new System.Drawing.Size(273, 24);
            this.edtElterlicheVertretung.TabIndex = 10;
            // 
            // edtBezugKinderzulagenCode
            // 
            this.edtBezugKinderzulagenCode.DataMember = "IkBezugKinderzulagenCode";
            this.edtBezugKinderzulagenCode.DataSource = this.qryIkRechtstitel;
            this.edtBezugKinderzulagenCode.Location = new System.Drawing.Point(134, 323);
            this.edtBezugKinderzulagenCode.LOVName = "IkBezugKinderzulagen";
            this.edtBezugKinderzulagenCode.Name = "edtBezugKinderzulagenCode";
            this.edtBezugKinderzulagenCode.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtBezugKinderzulagenCode.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBezugKinderzulagenCode.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBezugKinderzulagenCode.Properties.Appearance.Options.UseBackColor = true;
            this.edtBezugKinderzulagenCode.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBezugKinderzulagenCode.Properties.Appearance.Options.UseFont = true;
            this.edtBezugKinderzulagenCode.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtBezugKinderzulagenCode.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtBezugKinderzulagenCode.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtBezugKinderzulagenCode.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtBezugKinderzulagenCode.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject2.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject2.Options.UseBackColor = true;
            this.edtBezugKinderzulagenCode.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject2)});
            this.edtBezugKinderzulagenCode.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtBezugKinderzulagenCode.Properties.Columns.AddRange(new DevExpress.XtraEditors.Controls.LookUpColumnInfo[] {
            new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Text", "", 75, DevExpress.Utils.FormatType.None, "", true, DevExpress.Utils.HorzAlignment.Default, DevExpress.Data.ColumnSortOrder.None)});
            this.edtBezugKinderzulagenCode.Properties.DisplayMember = "Text";
            this.edtBezugKinderzulagenCode.Properties.DropDownRows = 1;
            this.edtBezugKinderzulagenCode.Properties.NullText = "";
            this.edtBezugKinderzulagenCode.Properties.ShowFooter = false;
            this.edtBezugKinderzulagenCode.Properties.ShowHeader = false;
            this.edtBezugKinderzulagenCode.Properties.ValueMember = "Code";
            this.edtBezugKinderzulagenCode.Size = new System.Drawing.Size(273, 24);
            this.edtBezugKinderzulagenCode.TabIndex = 9;
            // 
            // edtIndexRundenCode
            // 
            this.edtIndexRundenCode.DataMember = "IkIndexRundenCode";
            this.edtIndexRundenCode.DataSource = this.qryIkRechtstitel;
            this.edtIndexRundenCode.Location = new System.Drawing.Point(134, 291);
            this.edtIndexRundenCode.LOVName = "IkIndexRunden";
            this.edtIndexRundenCode.Name = "edtIndexRundenCode";
            this.edtIndexRundenCode.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtIndexRundenCode.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtIndexRundenCode.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtIndexRundenCode.Properties.Appearance.Options.UseBackColor = true;
            this.edtIndexRundenCode.Properties.Appearance.Options.UseBorderColor = true;
            this.edtIndexRundenCode.Properties.Appearance.Options.UseFont = true;
            this.edtIndexRundenCode.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtIndexRundenCode.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtIndexRundenCode.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtIndexRundenCode.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtIndexRundenCode.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject3.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject3.Options.UseBackColor = true;
            this.edtIndexRundenCode.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject3)});
            this.edtIndexRundenCode.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtIndexRundenCode.Properties.Columns.AddRange(new DevExpress.XtraEditors.Controls.LookUpColumnInfo[] {
            new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Text", "", 75, DevExpress.Utils.FormatType.None, "", true, DevExpress.Utils.HorzAlignment.Default, DevExpress.Data.ColumnSortOrder.None)});
            this.edtIndexRundenCode.Properties.DisplayMember = "Text";
            this.edtIndexRundenCode.Properties.DropDownRows = 1;
            this.edtIndexRundenCode.Properties.NullText = "";
            this.edtIndexRundenCode.Properties.ShowFooter = false;
            this.edtIndexRundenCode.Properties.ShowHeader = false;
            this.edtIndexRundenCode.Properties.ValueMember = "Code";
            this.edtIndexRundenCode.Size = new System.Drawing.Size(273, 24);
            this.edtIndexRundenCode.TabIndex = 8;
            // 
            // edtIndexStandPunkte
            // 
            this.edtIndexStandPunkte.DataMember = "IndexStandPunkte";
            this.edtIndexStandPunkte.DataSource = this.qryIkRechtstitel;
            this.edtIndexStandPunkte.EditMode = Kiss.Interfaces.UI.EditModeType.ReadOnly;
            this.edtIndexStandPunkte.Location = new System.Drawing.Point(316, 256);
            this.edtIndexStandPunkte.Name = "edtIndexStandPunkte";
            this.edtIndexStandPunkte.Properties.Appearance.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.edtIndexStandPunkte.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtIndexStandPunkte.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtIndexStandPunkte.Properties.Appearance.Options.UseBackColor = true;
            this.edtIndexStandPunkte.Properties.Appearance.Options.UseBorderColor = true;
            this.edtIndexStandPunkte.Properties.Appearance.Options.UseFont = true;
            this.edtIndexStandPunkte.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtIndexStandPunkte.Properties.DisplayFormat.FormatString = "N1";
            this.edtIndexStandPunkte.Properties.DisplayFormat.FormatType = DevExpress.Utils.FormatType.Numeric;
            this.edtIndexStandPunkte.Properties.ReadOnly = true;
            this.edtIndexStandPunkte.Size = new System.Drawing.Size(91, 24);
            this.edtIndexStandPunkte.TabIndex = 7;
            this.edtIndexStandPunkte.TabStop = false;
            // 
            // edtIndexStandVom
            // 
            this.edtIndexStandVom.DataMember = "IndexStandVom";
            this.edtIndexStandVom.DataSource = this.qryIkRechtstitel;
            this.edtIndexStandVom.EditValue = null;
            this.edtIndexStandVom.Location = new System.Drawing.Point(134, 256);
            this.edtIndexStandVom.Name = "edtIndexStandVom";
            this.edtIndexStandVom.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtIndexStandVom.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtIndexStandVom.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtIndexStandVom.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtIndexStandVom.Properties.Appearance.Options.UseBackColor = true;
            this.edtIndexStandVom.Properties.Appearance.Options.UseBorderColor = true;
            this.edtIndexStandVom.Properties.Appearance.Options.UseFont = true;
            this.edtIndexStandVom.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject4.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject4.Options.UseBackColor = true;
            this.edtIndexStandVom.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtIndexStandVom.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject4)});
            this.edtIndexStandVom.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtIndexStandVom.Properties.DisplayFormat.FormatString = "MM.yyyy";
            this.edtIndexStandVom.Properties.DisplayFormat.FormatType = DevExpress.Utils.FormatType.DateTime;
            this.edtIndexStandVom.Properties.EditFormat.FormatString = "MM.yyyy";
            this.edtIndexStandVom.Properties.EditFormat.FormatType = DevExpress.Utils.FormatType.DateTime;
            this.edtIndexStandVom.Properties.Mask.EditMask = "MM.yyyy";
            this.edtIndexStandVom.Properties.ShowToday = false;
            this.edtIndexStandVom.Size = new System.Drawing.Size(101, 24);
            this.edtIndexStandVom.TabIndex = 6;
            this.edtIndexStandVom.EditValueChanged += new System.EventHandler(this.edtIndexStandVom_EditValueChanged);
            // 
            // edtAmIndexTypCode
            // 
            this.edtAmIndexTypCode.AllowNull = false;
            this.edtAmIndexTypCode.DataMember = "IkIndexTypCode";
            this.edtAmIndexTypCode.DataSource = this.qryIkRechtstitel;
            this.edtAmIndexTypCode.Location = new System.Drawing.Point(134, 224);
            this.edtAmIndexTypCode.LOVName = "IkIndexTyp";
            this.edtAmIndexTypCode.Name = "edtAmIndexTypCode";
            this.edtAmIndexTypCode.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtAmIndexTypCode.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtAmIndexTypCode.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtAmIndexTypCode.Properties.Appearance.Options.UseBackColor = true;
            this.edtAmIndexTypCode.Properties.Appearance.Options.UseBorderColor = true;
            this.edtAmIndexTypCode.Properties.Appearance.Options.UseFont = true;
            this.edtAmIndexTypCode.Properties.AppearanceDropDown.BackColor = System.Drawing.Color.BlanchedAlmond;
            this.edtAmIndexTypCode.Properties.AppearanceDropDown.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.edtAmIndexTypCode.Properties.AppearanceDropDown.Options.UseBackColor = true;
            this.edtAmIndexTypCode.Properties.AppearanceDropDown.Options.UseFont = true;
            this.edtAmIndexTypCode.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject5.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject5.Options.UseBackColor = true;
            this.edtAmIndexTypCode.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Combo, "", -1, true, true, false, DevExpress.Utils.HorzAlignment.Center, null, new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject5)});
            this.edtAmIndexTypCode.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtAmIndexTypCode.Properties.Columns.AddRange(new DevExpress.XtraEditors.Controls.LookUpColumnInfo[] {
            new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Text", "", 75, DevExpress.Utils.FormatType.None, "", true, DevExpress.Utils.HorzAlignment.Default, DevExpress.Data.ColumnSortOrder.None)});
            this.edtAmIndexTypCode.Properties.DisplayMember = "Text";
            this.edtAmIndexTypCode.Properties.NullText = "";
            this.edtAmIndexTypCode.Properties.ShowFooter = false;
            this.edtAmIndexTypCode.Properties.ShowHeader = false;
            this.edtAmIndexTypCode.Properties.ValueMember = "Code";
            this.edtAmIndexTypCode.Size = new System.Drawing.Size(273, 24);
            this.edtAmIndexTypCode.TabIndex = 5;
            this.edtAmIndexTypCode.CloseUp += new DevExpress.XtraEditors.Controls.CloseUpEventHandler(this.edtAmIndexTypCode_CloseUp);
            // 
            // kissMemoEdit1
            // 
            this.kissMemoEdit1.DataMember = "RechtstitelInfo";
            this.kissMemoEdit1.DataSource = this.qryIkRechtstitelInfos;
            this.kissMemoEdit1.Location = new System.Drawing.Point(425, 113);
            this.kissMemoEdit1.Name = "kissMemoEdit1";
            this.kissMemoEdit1.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.kissMemoEdit1.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.kissMemoEdit1.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.kissMemoEdit1.Properties.Appearance.Options.UseBackColor = true;
            this.kissMemoEdit1.Properties.Appearance.Options.UseBorderColor = true;
            this.kissMemoEdit1.Properties.Appearance.Options.UseFont = true;
            this.kissMemoEdit1.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.kissMemoEdit1.Size = new System.Drawing.Size(254, 79);
            this.kissMemoEdit1.TabIndex = 4;
            // 
            // qryIkRechtstitelInfos
            // 
            this.qryIkRechtstitelInfos.BatchUpdate = true;
            this.qryIkRechtstitelInfos.CanDelete = true;
            this.qryIkRechtstitelInfos.CanInsert = true;
            this.qryIkRechtstitelInfos.CanUpdate = true;
            this.qryIkRechtstitelInfos.HostControl = this;
            this.qryIkRechtstitelInfos.SelectStatement = resources.GetString("qryIkRechtstitelInfos.SelectStatement");
            this.qryIkRechtstitelInfos.TableName = "IkRechtstitelInfos";
            this.qryIkRechtstitelInfos.BeforePost += new System.EventHandler(this.qryIkRechtstitelInfos_BeforePost);
            this.qryIkRechtstitelInfos.AfterInsert += new System.EventHandler(this.qryIkRechtstitelInfos_AfterInsert);
            // 
            // grdInfos
            // 
            this.grdInfos.DataSource = this.qryIkRechtstitelInfos;
            this.grdInfos.EmbeddedNavigator.Name = "";
            this.grdInfos.GridStyle = KiSS4.Gui.GridStyleType.Editable;
            gridLevelNode1.RelationName = "Level1";
            this.grdInfos.LevelTree.Nodes.AddRange(new DevExpress.XtraGrid.GridLevelNode[] {
            gridLevelNode1});
            this.grdInfos.Location = new System.Drawing.Point(3, 86);
            this.grdInfos.MainView = this.gvwInfos;
            this.grdInfos.Name = "grdInfos";
            this.grdInfos.Size = new System.Drawing.Size(404, 106);
            this.grdInfos.TabIndex = 3;
            this.grdInfos.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.gvwInfos});
            // 
            // gvwInfos
            // 
            this.gvwInfos.Appearance.Empty.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(247)))), ((int)(((byte)(239)))), ((int)(((byte)(231)))));
            this.gvwInfos.Appearance.Empty.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.Empty.Options.UseBackColor = true;
            this.gvwInfos.Appearance.Empty.Options.UseFont = true;
            this.gvwInfos.Appearance.EvenRow.BackColor = System.Drawing.Color.FromArgb(((int)(((byte)(236)))), ((int)(((byte)(227)))), ((int)(((byte)(215)))));
            this.gvwInfos.Appearance.EvenRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.EvenRow.Options.UseBackColor = true;
            this.gvwInfos.Appearance.EvenRow.Options.UseFont = true;
            this.gvwInfos.Appearance.FocusedCell.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwInfos.Appearance.FocusedCell.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.FocusedCell.ForeColor = System.Drawing.Color.Black;
            this.gvwInfos.Appearance.FocusedCell.Options.UseBackColor = true;
            this.gvwInfos.Appearance.FocusedCell.Options.UseFont = true;
            this.gvwInfos.Appearance.FocusedCell.Options.UseForeColor = true;
            this.gvwInfos.Appearance.FocusedRow.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwInfos.Appearance.FocusedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.FocusedRow.ForeColor = System.Drawing.Color.Black;
            this.gvwInfos.Appearance.FocusedRow.Options.UseBackColor = true;
            this.gvwInfos.Appearance.FocusedRow.Options.UseFont = true;
            this.gvwInfos.Appearance.FocusedRow.Options.UseForeColor = true;
            this.gvwInfos.Appearance.GroupPanel.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwInfos.Appearance.GroupPanel.Options.UseBackColor = true;
            this.gvwInfos.Appearance.GroupRow.BackColor = System.Drawing.Color.PeachPuff;
            this.gvwInfos.Appearance.GroupRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwInfos.Appearance.GroupRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwInfos.Appearance.GroupRow.Options.UseBackColor = true;
            this.gvwInfos.Appearance.GroupRow.Options.UseFont = true;
            this.gvwInfos.Appearance.GroupRow.Options.UseForeColor = true;
            this.gvwInfos.Appearance.HeaderPanel.BackColor = System.Drawing.Color.Tan;
            this.gvwInfos.Appearance.HeaderPanel.BorderColor = System.Drawing.Color.Tan;
            this.gvwInfos.Appearance.HeaderPanel.Font = new System.Drawing.Font("Arial", 11F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel, ((byte)(0)));
            this.gvwInfos.Appearance.HeaderPanel.Options.UseBackColor = true;
            this.gvwInfos.Appearance.HeaderPanel.Options.UseBorderColor = true;
            this.gvwInfos.Appearance.HeaderPanel.Options.UseFont = true;
            this.gvwInfos.Appearance.HideSelectionRow.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwInfos.Appearance.HideSelectionRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.HideSelectionRow.ForeColor = System.Drawing.SystemColors.WindowText;
            this.gvwInfos.Appearance.HideSelectionRow.Options.UseBackColor = true;
            this.gvwInfos.Appearance.HideSelectionRow.Options.UseFont = true;
            this.gvwInfos.Appearance.HideSelectionRow.Options.UseForeColor = true;
            this.gvwInfos.Appearance.HorzLine.BackColor = System.Drawing.Color.LightGray;
            this.gvwInfos.Appearance.HorzLine.Options.UseBackColor = true;
            this.gvwInfos.Appearance.OddRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.OddRow.Options.UseFont = true;
            this.gvwInfos.Appearance.Row.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwInfos.Appearance.Row.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.Row.Options.UseBackColor = true;
            this.gvwInfos.Appearance.Row.Options.UseFont = true;
            this.gvwInfos.Appearance.SelectedRow.BackColor = System.Drawing.Color.AliceBlue;
            this.gvwInfos.Appearance.SelectedRow.Font = new System.Drawing.Font("Arial", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Pixel);
            this.gvwInfos.Appearance.SelectedRow.ForeColor = System.Drawing.Color.Black;
            this.gvwInfos.Appearance.SelectedRow.Options.UseBackColor = true;
            this.gvwInfos.Appearance.SelectedRow.Options.UseFont = true;
            this.gvwInfos.Appearance.SelectedRow.Options.UseForeColor = true;
            this.gvwInfos.Appearance.VertLine.BackColor = System.Drawing.Color.LightGray;
            this.gvwInfos.Appearance.VertLine.Options.UseBackColor = true;
            this.gvwInfos.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.gvwInfos.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.colIkRechtstitel,
            this.colRechtstitelDatumVon,
            this.colRechtstitelRechtskraeftig,
            this.colTeuerungseinsprache,
            this.colRechtstitelInfo});
            this.gvwInfos.GridControl = this.grdInfos;
            this.gvwInfos.Name = "gvwInfos";
            this.gvwInfos.OptionsCustomization.AllowFilter = false;
            this.gvwInfos.OptionsCustomization.AllowGroup = false;
            this.gvwInfos.OptionsFilter.UseNewCustomFilterDialog = true;
            this.gvwInfos.OptionsNavigation.AutoFocusNewRow = true;
            this.gvwInfos.OptionsView.ColumnAutoWidth = false;
            this.gvwInfos.OptionsView.ShowFilterPanelMode = DevExpress.XtraGrid.Views.Base.ShowFilterPanelMode.Never;
            this.gvwInfos.OptionsView.ShowGroupPanel = false;
            // 
            // colIkRechtstitel
            // 
            this.colIkRechtstitel.Caption = "Rechtstiteltyp";
            this.colIkRechtstitel.FieldName = "IkRechtstitelCode";
            this.colIkRechtstitel.Name = "colIkRechtstitel";
            this.colIkRechtstitel.Visible = true;
            this.colIkRechtstitel.VisibleIndex = 0;
            this.colIkRechtstitel.Width = 107;
            // 
            // colRechtstitelDatumVon
            // 
            this.colRechtstitelDatumVon.Caption = "Datum";
            this.colRechtstitelDatumVon.DisplayFormat.FormatString = "dd.MM.yyyy";
            this.colRechtstitelDatumVon.DisplayFormat.FormatType = DevExpress.Utils.FormatType.DateTime;
            this.colRechtstitelDatumVon.FieldName = "RechtstitelDatumVon";
            this.colRechtstitelDatumVon.Name = "colRechtstitelDatumVon";
            this.colRechtstitelDatumVon.Visible = true;
            this.colRechtstitelDatumVon.VisibleIndex = 1;
            this.colRechtstitelDatumVon.Width = 72;
            // 
            // colRechtstitelRechtskraeftig
            // 
            this.colRechtstitelRechtskraeftig.Caption = "Rechtskräftig";
            this.colRechtstitelRechtskraeftig.DisplayFormat.FormatString = "dd.MM.yyyy";
            this.colRechtstitelRechtskraeftig.DisplayFormat.FormatType = DevExpress.Utils.FormatType.DateTime;
            this.colRechtstitelRechtskraeftig.FieldName = "RechtstitelRechtskraeftig";
            this.colRechtstitelRechtskraeftig.Name = "colRechtstitelRechtskraeftig";
            this.colRechtstitelRechtskraeftig.Visible = true;
            this.colRechtstitelRechtskraeftig.VisibleIndex = 2;
            this.colRechtstitelRechtskraeftig.Width = 88;
            // 
            // colTeuerungseinsprache
            // 
            this.colTeuerungseinsprache.AppearanceCell.Options.UseTextOptions = true;
            this.colTeuerungseinsprache.AppearanceCell.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Center;
            this.colTeuerungseinsprache.AppearanceHeader.Font = new System.Drawing.Font("Tahoma", 6.75F, System.Drawing.FontStyle.Bold);
            this.colTeuerungseinsprache.AppearanceHeader.Options.UseFont = true;
            this.colTeuerungseinsprache.AppearanceHeader.Options.UseTextOptions = true;
            this.colTeuerungseinsprache.AppearanceHeader.TextOptions.HAlignment = DevExpress.Utils.HorzAlignment.Center;
            this.colTeuerungseinsprache.Caption = "Teuerungseinspr.";
            this.colTeuerungseinsprache.FieldName = "Teuerungseinsprache";
            this.colTeuerungseinsprache.Name = "colTeuerungseinsprache";
            this.colTeuerungseinsprache.Visible = true;
            this.colTeuerungseinsprache.VisibleIndex = 3;
            this.colTeuerungseinsprache.Width = 85;
            // 
            // colRechtstitelInfo
            // 
            this.colRechtstitelInfo.Caption = "Informationen";
            this.colRechtstitelInfo.FieldName = "RechtstitelInfo";
            this.colRechtstitelInfo.Name = "colRechtstitelInfo";
            this.colRechtstitelInfo.Visible = true;
            this.colRechtstitelInfo.VisibleIndex = 4;
            this.colRechtstitelInfo.Width = 26;
            // 
            // edtIkRechtstitelGueltigBis
            // 
            this.edtIkRechtstitelGueltigBis.DataMember = "IkRechtstitelGueltigBis";
            this.edtIkRechtstitelGueltigBis.DataSource = this.qryIkRechtstitel;
            this.edtIkRechtstitelGueltigBis.EditValue = null;
            this.edtIkRechtstitelGueltigBis.Location = new System.Drawing.Point(314, 46);
            this.edtIkRechtstitelGueltigBis.Name = "edtIkRechtstitelGueltigBis";
            this.edtIkRechtstitelGueltigBis.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.Options.UseBackColor = true;
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.Options.UseBorderColor = true;
            this.edtIkRechtstitelGueltigBis.Properties.Appearance.Options.UseFont = true;
            this.edtIkRechtstitelGueltigBis.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject6.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject6.Options.UseBackColor = true;
            this.edtIkRechtstitelGueltigBis.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtIkRechtstitelGueltigBis.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject6)});
            this.edtIkRechtstitelGueltigBis.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtIkRechtstitelGueltigBis.Properties.ShowToday = false;
            this.edtIkRechtstitelGueltigBis.Size = new System.Drawing.Size(95, 24);
            this.edtIkRechtstitelGueltigBis.TabIndex = 2;
            // 
            // edtIkRechtstitelGueltigVon
            // 
            this.edtIkRechtstitelGueltigVon.DataMember = "IkRechtstitelGueltigVon";
            this.edtIkRechtstitelGueltigVon.DataSource = this.qryIkRechtstitel;
            this.edtIkRechtstitelGueltigVon.EditValue = null;
            this.edtIkRechtstitelGueltigVon.Location = new System.Drawing.Point(134, 46);
            this.edtIkRechtstitelGueltigVon.Name = "edtIkRechtstitelGueltigVon";
            this.edtIkRechtstitelGueltigVon.Properties.AllowNullInput = DevExpress.Utils.DefaultBoolean.True;
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.Options.UseBackColor = true;
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.Options.UseBorderColor = true;
            this.edtIkRechtstitelGueltigVon.Properties.Appearance.Options.UseFont = true;
            this.edtIkRechtstitelGueltigVon.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            serializableAppearanceObject7.BackColor = System.Drawing.Color.Bisque;
            serializableAppearanceObject7.Options.UseBackColor = true;
            this.edtIkRechtstitelGueltigVon.Properties.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Glyph, "", 8, true, true, false, DevExpress.Utils.HorzAlignment.Center, ((System.Drawing.Image)(resources.GetObject("edtIkRechtstitelGueltigVon.Properties.Buttons"))), new DevExpress.Utils.KeyShortcut(System.Windows.Forms.Keys.None), serializableAppearanceObject7)});
            this.edtIkRechtstitelGueltigVon.Properties.ButtonsStyle = DevExpress.XtraEditors.Controls.BorderStyles.UltraFlat;
            this.edtIkRechtstitelGueltigVon.Properties.ShowToday = false;
            this.edtIkRechtstitelGueltigVon.Size = new System.Drawing.Size(101, 24);
            this.edtIkRechtstitelGueltigVon.TabIndex = 1;
            // 
            // edtBezeichnung
            // 
            this.edtBezeichnung.DataMember = "Bezeichnung";
            this.edtBezeichnung.DataSource = this.qryIkRechtstitel;
            this.edtBezeichnung.Location = new System.Drawing.Point(134, 16);
            this.edtBezeichnung.Name = "edtBezeichnung";
            this.edtBezeichnung.Properties.Appearance.BackColor = System.Drawing.Color.AliceBlue;
            this.edtBezeichnung.Properties.Appearance.BorderColor = System.Drawing.Color.Linen;
            this.edtBezeichnung.Properties.Appearance.Font = new System.Drawing.Font("Arial", 13F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Pixel);
            this.edtBezeichnung.Properties.Appearance.Options.UseBackColor = true;
            this.edtBezeichnung.Properties.Appearance.Options.UseBorderColor = true;
            this.edtBezeichnung.Properties.Appearance.Options.UseFont = true;
            this.edtBezeichnung.Properties.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.HotFlat;
            this.edtBezeichnung.Size = new System.Drawing.Size(275, 24);
            this.edtBezeichnung.TabIndex = 0;
            // 
            // qryPerson
            // 
            this.qryPerson.SelectStatement = resources.GetString("qryPerson.SelectStatement");
            // 
            // CtlIkRechtstitel
            // 
            this.Controls.Add(this.tabRechtstitel);
            this.Controls.Add(this.panel1);
            this.MinimumSize = new System.Drawing.Size(710, 587);
            this.Name = "CtlIkRechtstitel";
            this.Size = new System.Drawing.Size(710, 587);
            this.AddData += new System.EventHandler(this.CtlIkRechtstitel_AddData);
            this.SaveData += new System.EventHandler(this.CtlIkRechtstitel_SaveData);
            this.MoveNext += new System.EventHandler(this.CtlIkRechtstitel_MoveNext);
            this.MoveLast += new System.EventHandler(this.CtlIkRechtstitel_MoveLast);
            this.UndoDataChanges += new System.EventHandler(this.CtlIkRechtstitel_UndoDataChanges);
            this.DeleteData += new System.EventHandler(this.CtlIkRechtstitel_DeleteData);
            this.MoveFirst += new System.EventHandler(this.CtlIkRechtstitel_MoveFirst);
            this.RefreshData += new System.EventHandler(this.CtlIkRechtstitel_RefreshData);
            this.MovePrevious += new System.EventHandler(this.CtlIkRechtstitel_MovePrevious);
            this.panel1.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.picTitle)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblTitel)).EndInit();
            this.tabRechtstitel.ResumeLayout(false);
            this.tbpForderung.ResumeLayout(false);
            this.tbpRechtstitel.ResumeLayout(false);
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel1)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezeichnung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIkRechtstitelGueltigBis)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIkRechtstitelGueltigVon)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblElterlicheVertretung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissLabel4)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblElterlicheSorgeBemerkung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblBezugKinderzulagenCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexRundenCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexStandVom)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblIndexStandPunkte)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.lblAmIndexTypCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtGanzesKlientensystem.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheSorgeBemerkung.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkRechtstitel)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheVertretung.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtElterlicheVertretung)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezugKinderzulagenCode.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezugKinderzulagenCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexRundenCode.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexRundenCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexStandPunkte.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIndexStandVom.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmIndexTypCode.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtAmIndexTypCode)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.kissMemoEdit1.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryIkRechtstitelInfos)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.grdInfos)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.gvwInfos)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIkRechtstitelGueltigBis.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtIkRechtstitelGueltigVon.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.edtBezeichnung.Properties)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.qryPerson)).EndInit();
            this.ResumeLayout(false);

        }

        #endregion

        #region Dispose

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        protected override void Dispose(bool disposing)
        {
            if (disposing)
            {
                if ((components != null))
                {
                    components.Dispose();
                }
            }
            base.Dispose(disposing);
        }

        #endregion

        #region Public Properties

        // Letzte Bearbeitung
        // 23.09.2007 : sozheo : neu
        // ------------------------------------------------------------------------
        public override KissUserControl DetailControl
        {
            get
              {
            //if (tabRechtstitel.SelectedTab.Controls.Count == 1 && tabRechtstitel.SelectedTab.Controls[0] is KissUserControl)
            //  return (KissUserControl)tabRechtstitel.SelectedTab.Controls[0];
            //else
            //  return base.DetailControl;

            if (tabRechtstitel.SelectedTabIndex == 1)
              return (KissUserControl)tabRechtstitel.SelectedTab.Controls[0];
            else
              return base.DetailControl;
              //return (this as KissUserControl);
              }
        }

        #endregion

        #region Private Properties

        // Letzte Bearbeitung
        // 02.04.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private bool CanEdit
        {
            get
              {
            return (
              qryIkRechtstitel.CanUpdate &&
              qryIkRechtstitel.Count > 0 &&
              !LeistungIstGeschlossen
            );
              }
        }

        #endregion

        #region Public Methods

        // Letzte Bearbeitung
        // 22.09.2007 : sozheo : neu, damit Änderungen des Geburtsdatums aktualisiert werden
        // 24.09.2007 : sozheo : nicht mehr notwendig
        // --------------------------------------------------------------------------------------
        public override bool ReceiveMessage( System.Collections.Specialized.HybridDictionary param )
        {
            // we need at least one parameter to know what to do
            if( param == null || param.Count < 1 ) return true;

            // action depending
            switch( param["Action"] as string )
            {
                case "RefreshPerson":
                    // geht nicht!!!!
                    //KissMsg.ShowInfo("RefreshPerson wird gemacht");
                    ctlIkRechtstitelForderung.qryPerson.Refresh();
                    return true;
            }

            // did not understand message
            return false;
        }

        #endregion

        #region Private Methods

        private bool AllesSpeichern()
        {
            // Speichern der Haupttabelle
            bool MonatszahlenNeuRechnenIstNotwendig = false;

            qryIkRechtstitel.EndCurrentEdit();
            qryIkRechtstitelInfos.EndCurrentEdit();
            ctlIkGlaeubiger.qryIkGlaeubiger.EndCurrentEdit();

            // Zuerst aktuelle Bearbeitungen speichern, wenn notwendig
            // Check eines Datensatzes wird damit ausgeführt
            if (!qryIkRechtstitel.Post()) return false;
            if (!qryIkRechtstitelInfos.Post()) return false;

            if (!ctlIkGlaeubiger.qryIkGlaeubiger.Post()) return false;
            // Dann Gesamtcheck der Dtailtabelle ausführen
            if (ctlIkGlaeubiger.DatenGlaeubigerWurdenKorrigiert)
                if (!ctlIkGlaeubiger.CheckData()) return false;

            // Nichts geändert, also nichts machen
            if (!RechtstitelIstKorrigiert && !RechtstitelDetailsSindKorrigiert
                && !ctlIkGlaeubiger.DatenGlaeubigerWurdenKorrigiert) return true;

            Session.BeginTransaction();
            try
            {
                // Alles speichern:
                // Zuerst Haupt-Tabelle: IkRechtstitel
                if (RechtstitelIstKorrigiert)
                {
                    RechtstitelSpeichern();
                    MonatszahlenNeuRechnenIstNotwendig = true;
                }

                // Dann Detail-Tabelle: IkRechtstitelInfos
                if (RechtstitelDetailsSindKorrigiert)
                {
                    InfosSpeichern();
                }

                // Dann Detail-Tabelle: IkGlaeubiger
                if (ctlIkGlaeubiger.DatenGlaeubigerWurdenKorrigiert)
                {
                    ctlIkGlaeubiger.AllesSpeichern_OhneTransaktion();
                    MonatszahlenNeuRechnenIstNotwendig = true;
                }
                Session.Commit();
            }
            catch (Exception ex)
            {
                Session.Rollback();
                KissMsg.ShowInfo(ex.Message);
                return false;
            }

            qryIkRechtstitel.Refresh();

            // Register anzeigen:
            EnableOtherRegisters();

            // Daten auf anderen Register anzeigen:
            FillOtherRegisters();

            // Monatszahlen neu rechnen
            if (MonatszahlenNeuRechnenIstNotwendig) MonatszahlenNeuRechnen();

            // Navigator Trees aktualisieren:
            FormController.SendMessage("FrmFall", "Action", "RefreshTree");

            return true;
        }

        private void CtlIkRechtstitel_AddData(object sender, EventArgs e)
        {
            // Letzte Bearbeitung
            // 02.04.2008 : sozheo : neu
            // 15.01.2009 : sozheo : RefreshTree optimiert
            // 26.02.2009 : sozheo : Umbau für neue Tabelle IkInterneVerrechnung
            // ------------------------------------------------------------------------
            qryIkRechtstitelInfos.Post();
              qryIkRechtstitelInfos.Insert(qryIkRechtstitelInfos.TableName);
        }

        private void CtlIkRechtstitel_DeleteData(object sender, EventArgs e)
        {
            if (qryIkRechtstitelInfos.Count > 1)
            qryIkRechtstitelInfos.Delete();
              else
            KissMsg.ShowInfo("Es muss mindestens eine Detailzeile vorhanden sein (löschen nicht möglich).");
        }

        private void CtlIkRechtstitel_MoveFirst(object sender, EventArgs e)
        {
            qryIkRechtstitelInfos.First();
        }

        private void CtlIkRechtstitel_MoveLast(object sender, EventArgs e)
        {
            qryIkRechtstitelInfos.Last();
        }

        private void CtlIkRechtstitel_MoveNext(object sender, EventArgs e)
        {
            qryIkRechtstitelInfos.Next();
        }

        private void CtlIkRechtstitel_MovePrevious(object sender, EventArgs e)
        {
            qryIkRechtstitelInfos.Previous();
        }

        private void CtlIkRechtstitel_RefreshData(object sender, EventArgs e)
        {
            if (!AllesSpeichern()) return;
              qryIkRechtstitel.Fill(IkRechtstitelID);
        }

        private void CtlIkRechtstitel_SaveData(object sender, EventArgs e)
        {
            if (!AllesSpeichern()) throw new KissCancelException();
        }

        private void CtlIkRechtstitel_UndoDataChanges(object sender, EventArgs e)
        {
            // Alles rückgängig
              qryIkRechtstitel.Cancel();
              qryIkRechtstitelInfos.Cancel();
              ctlIkGlaeubiger.qryIkGlaeubiger.Cancel();
              RechtstitelDetailsSindKorrigiert = false;
              RechtstitelIstKorrigiert = false;

              // Alles neu laden
              qryIkRechtstitel.Fill(IkRechtstitelID);
        }

        private void EnableOtherRegisters()
        {
            tbpForderung.Enabled = (qryIkRechtstitel.Count>0 && !DBUtil.IsEmpty(qryIkRechtstitel["IkRechtstitelID"]));
              //tbpForderung.Enabled = tbpGlaeubiger.Enabled;
        }

        private void FillOtherRegisters()
        {
            // Register "Forderungen" aktualiseren:
            int ICode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
                  
            ctlIkRechtstitelForderung.Init(
                Utils.ConvertToInt(qryIkRechtstitel["IkRechtstitelID"]),
                FaLeistungID, FaFallID, qryIkRechtstitel.CanUpdate, 
                LeistungIstGeschlossen, ICode, FaProzessCode);
        }

        private void InfosSpeichern()
        {
            if (!RechtstitelDetailsSindKorrigiert) return;

              foreach (System.Data.DataRow row in qryIkRechtstitelInfos.DataTable.Rows)
              if (row.RowState == System.Data.DataRowState.Deleted)
              {
            // Löschen:
            DBUtil.ExecSQL(
              "DELETE dbo.IkRechtstitelInfos WHERE IkRechtstitelInfosID = {0}",
              Utils.ConvertToInt(row["IkRechtstitelInfosID"])
            );
              }
              else
              if (row.RowState == System.Data.DataRowState.Modified)
              {
            DBUtil.ExecSQL(@"
              UPDATE dbo.IkRechtstitelInfos SET
                IkRechtstitelCode = {0},
                RechtstitelInfo = {1},
                RechtstitelDatumVon = {2},
                RechtstitelRechtskraeftig = {3},
                Teuerungseinsprache = {4}
              WHERE IkRechtstitelInfosID = {5}",
              row["IkRechtstitelCode"],
              row["RechtstitelInfo"],
              row["RechtstitelDatumVon"],
              row["RechtstitelRechtskraeftig"],
              row["Teuerungseinsprache"],
              row["IkRechtstitelInfosID"]
            );
              }
              else
              if (row.RowState == System.Data.DataRowState.Added)
              {
            DBUtil.ExecSQL(@"
              INSERT INTO dbo.IkRechtstitelInfos
                (IkRechtstitelID, IkRechtstitelCode, RechtstitelInfo,
                 RechtstitelDatumVon, RechtstitelRechtskraeftig, Teuerungseinsprache)
              VALUES ({0},{1},{2},{3},{4},{5})",
              IkRechtstitelID,
              row["IkRechtstitelCode"],
              row["RechtstitelInfo"],
              row["RechtstitelDatumVon"],
              row["RechtstitelRechtskraeftig"],
              row["Teuerungseinsprache"]
            );
              }
              RechtstitelDetailsSindKorrigiert = false;
        }

        // Letzte Bearbeitung
        // 22.05.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void MonatszahlenNeuRechnen()
        {
            try
            {
                SqlQuery sql = DBUtil.OpenSQL("EXEC dbo.spIkMonatszahlen_DetailAll {0}, 1", FaLeistungID);
            }
            catch (Exception ex)
            {
                KissMsg.ShowInfo(ex.Message);
            }
        }

        // Letzte Bearbeitung
        // 02.04.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void RechtstitelSpeichern()
        {
            if (!RechtstitelIstKorrigiert) return;

            DBUtil.ExecSQL(@"
                UPDATE dbo.IkRechtstitel SET
                  Bezeichnung = {0},
                  IkBezugKinderzulagenCode = {1},
                  ElterlicheSorgeCode = {2},
                  ElterlicheSorgeBemerkung = {3},
                  BaPersonID = {4},
                  IkIndexTypCode = {5},
                  IndexStandPunkte = {6},
                  IndexStandVom = {7},
                  IkIndexRundenCode = {8},
                  BasisKinderalimente = {9},
                  BasisEhegattenalimente = {10},
                  VerjaehrungAm = {11},
                  Bemerkung = {12},
                  Mahnlauf = {13},
                  IkRechtstitelGueltigVon = {14},
                  IkRechtstitelGueltigBis = {15},
                  BeantragtAm = {16},
                  WohnhaftImKantonSeit = {17}
                WHERE IkRechtstitelID = {18}",
                qryIkRechtstitel["Bezeichnung"],
                qryIkRechtstitel["IkBezugKinderzulagenCode"],
                qryIkRechtstitel["ElterlicheSorgeCode"],
                qryIkRechtstitel["ElterlicheSorgeBemerkung"],
                qryIkRechtstitel["BaPersonID"],
                qryIkRechtstitel["IkIndexTypCode"],
                qryIkRechtstitel["IndexStandPunkte"],
                qryIkRechtstitel["IndexStandVom"],
                qryIkRechtstitel["IkIndexRundenCode"],
                qryIkRechtstitel["BasisKinderalimente"],
                qryIkRechtstitel["BasisEhegattenalimente"],
                qryIkRechtstitel["VerjaehrungAm"],
                qryIkRechtstitel["Bemerkung"],
                qryIkRechtstitel["Mahnlauf"],
                qryIkRechtstitel["IkRechtstitelGueltigVon"],
                qryIkRechtstitel["IkRechtstitelGueltigBis"],
                qryIkRechtstitel["BeantragtAm"],
                qryIkRechtstitel["WohnhaftImKantonSeit"],
                qryIkRechtstitel["IkRechtstitelID"]
            );
            RechtstitelIstKorrigiert = false;
        }

        // Letzte Bearbeitung
        // 18.05.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void SetIndexStand()
        {
            int ICode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
              if (ICode == 99)
              {
            // keine Indexierung
            qryIkRechtstitel["IndexStandVom"] = DBNull.Value;
            qryIkRechtstitel["IndexStandPunkte"] = DBNull.Value;
              }
              else
              {
            // Default Wert HEUTE füllen, wenn leer:
            if (DBUtil.IsEmpty(qryIkRechtstitel["IndexStandVom"]))
              qryIkRechtstitel["IndexStandVom"] = DateTime.Today;

            // Indexstand neu holen:
            qryIkRechtstitel["IndexStandPunkte"] = ctlIkRechtstitelForderung.GetIndexPunkte(
              ICode, qryIkRechtstitel["IndexStandVom"]
            );
              }
        }

        // Letzte Bearbeitung
        // 18.05.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void SetIndexStandEditMode()
        {
            int ICode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
              edtIndexStandVom.EditMode = (CanEdit && ICode != 99) ? EditModeType.Normal : EditModeType.ReadOnly;
        }

        // Letzte Bearbeitung
        // 28.01.2008 : sozheo : neu
        // ------------------------------------------------------------------------
        private void edtAmIndexTypCode_CloseUp(object sender, DevExpress.XtraEditors.Controls.CloseUpEventArgs e)
        {
            e.AcceptValue = true;
              if (!e.CloseMode.Equals(DevExpress.XtraEditors.PopupCloseMode.Normal)) return;

              qryIkRechtstitel["IkIndexTypCode"] = (int)e.Value;

              // IndexStandSetzen
              SetIndexStand();
              SetIndexStandEditMode();
        }

        private void edtGanzesKlientensystem_EditValueChanged(object sender, EventArgs e)
        {
            ctlIkGlaeubiger.GlaeubigerOeffnen(edtGanzesKlientensystem.Checked);
        }

        // Letzte Bearbeitung
        // 27.02.2009 : sozheo : Neu für neue Tabelle IkInterneVerrechnung
        // ------------------------------------------------------------------------
        private void edtGanzesKlientensystem_EditValueChanging(object sender, CancelEventArgs e)
        {
            e.Cancel = true;
              if (!AllesSpeichern()) return;
              e.Cancel = false;
        }

        private void edtIndexStandVom_EditValueChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 28.01.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (!edtIndexStandVom.UserModified) return;

            // Indexstand neu holen:
            if (!DBUtil.IsEmpty(edtIndexStandVom.EditValue))
              qryIkRechtstitel["IndexStandVom"] = edtIndexStandVom.EditValue;
            else
              qryIkRechtstitel["IndexStandVom"] = DateTime.Today;

            qryIkRechtstitel["IndexStandPunkte"] = ctlIkRechtstitelForderung.GetIndexPunkte(
              qryIkRechtstitel["IkIndexTypCode"], qryIkRechtstitel["IndexStandVom"]);
        }

        private void qryIkRechtstitelInfos_AfterInsert(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 01.04.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            qryIkRechtstitelInfos["IkRechtstitelID"] = IkRechtstitelID;
            qryIkRechtstitelInfos["Teuerungseinsprache"] = 0;
        }

        private void qryIkRechtstitelInfos_BeforePost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 01.04.2008 : sozheo : neu
            // ------------------------------------------------------------------------

            if (DBUtil.IsEmpty(qryIkRechtstitelInfos["IkRechtstitelCode"]))
            {
              KissMsg.ShowInfo("Der Rechtstiteltyp darf nicht leer bleiben.");
              throw new KissCancelException();
            }

            if (DBUtil.IsEmpty(qryIkRechtstitelInfos["RechtstitelRechtskraeftig"]))
            {
              KissMsg.ShowInfo("Das Datum 'Rechtskräftig' darf nicht leer bleiben.");
              throw new KissCancelException();
            }

            RechtstitelDetailsSindKorrigiert = true;
        }

        private void qryIkRechtstitel_AfterFill(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 29.08.2007 : sozheo : neu
            // ------------------------------------------------------------------------

            // Rechtstitelinfos anzeigen:
            qryIkRechtstitelInfos.Fill(IkRechtstitelID);
            RechtstitelDetailsSindKorrigiert = false;
            if (qryIkRechtstitelInfos.Count == 0) {
              qryIkRechtstitelInfos.Insert(qryIkRechtstitelInfos.TableName);
              RechtstitelDetailsSindKorrigiert = true;
            }
            qryIkRechtstitelInfos.EnableBoundFields(CanEdit);

            /*
            colIkRechtstitel.AllowEdit = CanEdit;
            colRechtstitelDatumVon.AllowEdit = colIkRechtstitel.AllowEdit;
            colRechtstitelRechtskraeftig.AllowEdit = colIkRechtstitel.AllowEdit;
            colTeuerungseinsprache.AllowEdit = colIkRechtstitel.AllowEdit;
            colRechtstitelInfo.AllowEdit = colIkRechtstitel.AllowEdit;
            */

            if (CanEdit)
            {
               grdInfos.GridStyle = GridStyleType.Editable;
            }
            else
            {
              grdInfos.GridStyle = GridStyleType.ReadOnly;
            }

            // Gläubigerdaten aktualisieren
            ctlIkGlaeubiger.GlaeubigerOeffnen(edtGanzesKlientensystem.Checked);

            if (qryIkRechtstitel.Count==0) qryIkRechtstitel_PositionChanged(sender, e);
        }

        private void qryIkRechtstitel_BeforePost(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 29.08.2007 : sozheo : neu
            // 13.09.2007 : sozheo : Kontrolle Mussfelder temporär ausgeschaltet
            // 28.01.2008 : sozheo : Kontrolle Mussfelder wieder eingeschaltet
            // 28.03.2008 : sozheo : Kontrolle Mussfelder korrigiert
            // ------------------------------------------------------------------------

            if (DBUtil.IsEmpty(qryIkRechtstitel["IkIndexRundenCode"])) qryIkRechtstitel["IkIndexRundenCode"] = 1;

            // Mussfelder checken: Codes:
            DBUtil.CheckNotNullField(edtBezeichnung, lblBezeichnung.Text);
            DBUtil.CheckNotNullField(edtIkRechtstitelGueltigVon, lblIkRechtstitelGueltigVon.Text);
            DBUtil.CheckNotNullField(edtAmIndexTypCode, lblAmIndexTypCode.Text);

            int ICode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
            if (ICode != 99)
            {
                DBUtil.CheckNotNullField(edtIndexStandVom, lblIndexStandVom.Text);
                // Indexstand neu holen:
                SetIndexStand();
            }

            /*
            // TODO RH . Datumsbereiche kontrollieren, wenn klar ist welche Dati verwendet werden sollen
            // 04.07.2009 : sozheo : Kontrolle der Datumsbereiche korrigiert
            // zuerst aus den Infos das Datum Rechtskräftig holen
            DateTime datRechtskraeftig = DBUtil.IsEmpty(qryIkRechtstitelInfos.DataTable.Rows[0]["RechtstitelRechtskraeftig"]) 
                ? DateTime.Today : (DateTime)qryIkRechtstitelInfos.DataTable.Rows[0]["RechtstitelRechtskraeftig"];
            int tempID = Utils.ConvertToInt(qryIkRechtstitelInfos.DataTable.Rows[0]["IkRechtstitelInfosID"]);

            foreach (System.Data.DataRow row in qryIkRechtstitelInfos.DataTable.Rows)
            {
                if (Utils.ConvertToInt(row["IkRechtstitelInfosID"]) > tempID && !DBUtil.IsEmpty(row["RechtstitelRechtskraeftig"]))
                {
                    datRechtskraeftig = (DateTime)row["RechtstitelRechtskraeftig"];
                    tempID = Utils.ConvertToInt(row["IkRechtstitelInfosID"]);
                }
            }

            // Kontrolle der Datum VON BIS 
            // Beim Eröffnen eines neuen RT wird kontrolliert, ob der alte RT abgeschlossen ist 
            // (das Startdatum des neuen RT kann höchstens der nachfolgende Tag des Abschlusses des alten RT sein). 
            SqlQuery qryRT = DBUtil.OpenSQL(@"
                select top 1 R.Bezeichnung from dbo.IkRechtstitel R
                left join dbo.IkRechtstitelInfos RIN ON RIN.IkRechtstitelInfosID = (
                  SELECT MAX(I2.IkRechtstitelInfosID) FROM dbo.IkRechtstitelInfos I2
                  WHERE I2.IkRechtstitelID = RTI.IkRechtstitelID
                )
                where R.FaLeistungID = {0}
                and R.IkRechtstitelID != {1}
                and (
                  RIN.RechtstitelRechtskraeftig 
                    between {2} and IsNull({3}, convert(datetime, '99990101')) or 
                  IsNull(R.IkRechtstitelGueltigBis, convert(datetime, '99990101')) 
                    between {2} and IsNull({3}, convert(datetime, '99990101'))
                )",
                FaLeistungID,
                IkRechtstitelID,
                qryIkRechtstitel["IkRechtstitelGueltigVon"],
                qryIkRechtstitel["IkRechtstitelGueltigBis"]
            );

            if (qryRT.Count > 0)
            {
                KissMsg.ShowInfo(
                    "Der Gültigkeitsbereich überschneidet den Bereich mindestens eines anderen Rechtstitels.\r\n" +
                    "Ändern Sie den Gültigkeitsbereich oder verwefen Sie die Änderungen."
                );
                throw new KissCancelException();
            }
             * */

            // Default Wert HEUTE füllen, wenn leer:
            ctlIkRechtstitelForderung.RechtstitelIndexCode = ICode;
            ctlIkRechtstitelForderung.RechtstitelDatum = DBUtil.IsEmpty(qryIkRechtstitel["IndexStandVom"]) ? 
                DateTime.Today : (DateTime)qryIkRechtstitel["IndexStandVom"];

            RechtstitelIstKorrigiert = true;
        }

        private void qryIkRechtstitel_PositionChanged(object sender, System.EventArgs e)
        {
            // Letzte Bearbeitung
            // 29.08.2007 : sozheo : neu
            // 26.02.2009 : sozheo : Umbau für neue Tabelle IkInterneVerrechnung
            // ------------------------------------------------------------------------

            qryIkRechtstitel.EnableBoundFields(CanEdit);
            SetIndexStandEditMode();

            ctlIkRechtstitelForderung.RechtstitelIndexCode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
            if (!DBUtil.IsEmpty(qryIkRechtstitel["IndexStandVom"]))
              ctlIkRechtstitelForderung.RechtstitelDatum = (DateTime)qryIkRechtstitel["IndexStandVom"];

            // Die anderen Register aktualsiieren:
            EnableOtherRegisters();
        }

        private void tabRechtstitel_SelectedTabChanged(SharpLibrary.WinControls.TabPageEx page)
        {
            // Letzte Bearbeitung
            // 08.10.2007 : sozheo : neu
            // 26.02.2009 : sozheo : Umbau für neue Tabelle IkInterneVerrechnung
            // ------------------------------------------------------------------------

            // Damit die korrekten Personen angezeigt werden:
            if (tabRechtstitel.SelectedTabIndex==1)
            {
              ctlIkRechtstitelForderung.qryPerson.Refresh();
              int ICode = Utils.ConvertToInt(qryIkRechtstitel["IkIndexTypCode"]);
              ctlIkRechtstitelForderung.ForderungenOeffnen(ICode);
            }
        }

        private void tabRechtstitel_SelectedTabChanging(object sender, System.ComponentModel.CancelEventArgs e)
        {
            // Letzte Bearbeitung
            // 17.09.2007 : sozheo : neu
            // 01.04.2008 : sozheo : Umbau RechtstitelInfos
            // 26.02.2009 : sozheo : Umbau für neue Tabelle IkInterneVerrechnung
            // ------------------------------------------------------------------------

            if (tabRechtstitel.SelectedTabIndex==0)
              e.Cancel = !AllesSpeichern();
            else
            if (tabRechtstitel.SelectedTabIndex==1)
              e.Cancel = !ctlIkRechtstitelForderung.qryIkForderung.Post();
            else
              e.Cancel = true;
        }

        #endregion
    }
}