<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:dxtEx="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys" xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" xmlns:dxcn="http://schemas.devexpress.com/winfx/2008/xaml/core/internal" xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys" xmlns:dxep="http://schemas.devexpress.com/winfx/2008/xaml/editors" xmlns:dxepc="http://schemas.devexpress.com/winfx/2008/xaml/editors" xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys">

    <!--BEGIN WPF-->
    <ResourceDictionary.MergedDictionaries>
        <dxdst:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Kiss.v14.1;component/DevExpress.Xpf.Core/DevExpress.Xpf.Core/Editors/Themes/Office2007Generic/Brushes.xaml" />
        <dxdst:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Kiss.v14.1;component/DevExpress.Xpf.Core/DevExpress.Xpf.Core/Editors/Themes/Generic/PopupListBox.xaml" />
    </ResourceDictionary.MergedDictionaries>
    <!--END WPF-->

    <dx:BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />

    <ControlTemplate x:Key="{dxet:EditorListBoxThemeKey ResourceKey=ItemTemplate}" TargetType="{x:Type dxe:ListBoxEditItem}">
        <Grid x:Name="grid" SnapsToDevicePixels="True" Background="#00FFFFFF">
            <Grid.Resources>
                <SolidColorBrush x:Key="BlackBrush" Color="Black" />
                <DataTemplate x:Key="HoverTemplate">
                    <Border CornerRadius="2,2,2,2" Padding="1,1,1,1" Visibility="{Binding Path=(dxe:BaseEdit.OwnerEdit).AllowItemHighlighting, Converter={StaticResource BoolToVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                        <Border.Background>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#FFDBCE99" Offset="0" />
                                <GradientStop Color="#FFBBA67F" Offset="1" />
                                <GradientStop Color="#FFB9A074" Offset="0.5" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Border Width="Auto" Height="Auto" Visibility="Visible" CornerRadius="1,1,1,1" Padding="1,1,1,1">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#FFFFFFFD" Offset="0" />
                                    <GradientStop Color="#FFFFF9E0" Offset="1" />
                                    <GradientStop Color="#FFFFF1BA" Offset="0.5" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border CornerRadius="1,1,1,1">
                                <Border.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FFFFFDF2" Offset="0" />
                                        <GradientStop Color="#FFFFEEAE" Offset="1" />
                                        <GradientStop Color="#FFFFEA9A" Offset="0.5" />
                                        <GradientStop Color="#FFFFDC58" Offset="0.5" />
                                    </LinearGradientBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </Border>
                </DataTemplate>
                <DataTemplate x:Key="SelectedTemplate">
                    <Border CornerRadius="2,2,2,2" Padding="1,1,1,1">
                        <Border.Background>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#FF9F7559" Offset="0" />
                                <GradientStop Color="#FFC6C0B1" Offset="1" />
                                <GradientStop Color="#FF8E8165" Offset="0.1" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Border Width="Auto" Height="Auto" Visibility="Visible" CornerRadius="1,1,1,1" Padding="1,1,1,1">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#FFBB9F7C" Offset="0" />
                                    <GradientStop Color="#FFFFDE70" Offset="1" />
                                    <GradientStop Color="#FFF8AD61" Offset="0.5" />
                                    <GradientStop Color="#FFF7952F" Offset="0.5" />
                                    <GradientStop Color="#FFFDD3A8" Offset="0.1" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                    </Border>
                </DataTemplate>
                <!--ONLY SL
                <dx:BoolToObjectConverter x:Key="BoolToObjectConverter" FalseValue="0" TrueValue="1"/>
                ONLY SL-->
            </Grid.Resources>
            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="MouseOver" />
                    <VisualState x:Name="Disabled">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="grid" Storyboard.TargetProperty="Opacity" Duration="0" To=".35" />
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
                <VisualStateGroup x:Name="SelectionStates">
                    <VisualState x:Name="Unselected" />
                    <VisualState x:Name="Selected">
                        <Storyboard>
                            <!--ONLY SL
                            <DoubleAnimation Storyboard.TargetName="hover1" Storyboard.TargetProperty="Opacity" Duration="0" To="1" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="contentContainer" Storyboard.TargetProperty="Foreground" Duration="0">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BlackBrush}"/>
                            </ObjectAnimationUsingKeyFrames>
                            ONLY SL-->
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="SelectedUnfocused">
                        <Storyboard>
                            <!--ONLY SL
                            <DoubleAnimation Storyboard.TargetName="selected" Storyboard.TargetProperty="Opacity" Duration="0" To=".5" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="contentContainer" Storyboard.TargetProperty="Foreground" Duration="0">
                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BlackBrush}"/>
                            </ObjectAnimationUsingKeyFrames>
                            ONLY SL-->
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
                <VisualStateGroup x:Name="FocusStates">
                    <VisualState x:Name="Focused">
                        <Storyboard>
                            <!--ONLY SL
                            <DoubleAnimation Storyboard.TargetName="focused" Storyboard.TargetProperty="Opacity" Duration="0" To="1" />
                            ONLY SL-->
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Unfocused" />
                </VisualStateGroup>
                <!--ONLY SL
                <VisualStateGroup x:Name="MouseHighlightedStates">
                    <VisualState x:Name="Highlighted">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="hover2" Storyboard.TargetProperty="Opacity" Duration="0" To="1" />
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Unhighlighted"/>
                </VisualStateGroup>
                ONLY SL-->
            </VisualStateManager.VisualStateGroups>
            <Grid Width="Auto" Height="Auto" Background="#00FFFFFF">
                <!--BEGIN WPF-->
                <Rectangle x:Name="FocusVisual" StrokeThickness="1" Stroke="#FF000000" StrokeDashArray="1 2" SnapsToDevicePixels="True" Opacity="0" />
                <ContentPresenter x:Name="hover" ContentTemplate="{StaticResource HoverTemplate}" Opacity="0" Visibility="{Binding Owner.AllowItemHighlighting, Converter={StaticResource BoolToVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}" />
                <ContentPresenter x:Name="selected" ContentTemplate="{StaticResource SelectedTemplate}" Opacity="0" />
                <!--END WPF-->
                <!--ONLY SL
                <Rectangle x:Name="focused" StrokeThickness="1" Stroke="{StaticResource BlackBrush}" StrokeDashArray="1 2" Opacity="0" />
                <ContentPresenter x:Name="hover2" ContentTemplate="{StaticResource HoverTemplate}" Opacity="0"/>
                <dxcn:MultiContentControl x:Name="hover1" Opacity="0" VisibleChildIndex="{Binding Owner.AllowItemHighlighting, Converter={StaticResource BoolToObjectConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                    <ContentPresenter ContentTemplate="{StaticResource HoverTemplate}"/>
                    <ContentPresenter ContentTemplate="{StaticResource SelectedTemplate}"/>
                </dxcn:MultiContentControl>
                <ContentPresenter x:Name="hover" ContentTemplate="{StaticResource HoverTemplate}" Opacity="0"/>
                <ContentPresenter x:Name="selected" ContentTemplate="{StaticResource SelectedTemplate}" Opacity="0"/>
                ONLY SL-->
            </Grid>
            <Border x:Name="Bd" SnapsToDevicePixels="True" BorderThickness="0,0,0,0" Padding="3,2,3,2">
                <!--ONLY SL
                <dx:ContentContainer x:Name="contentContainer">
                ONLY SL-->
                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                <!--ONLY SL
                </dx:ContentContainer>
                ONLY SL-->
            </Border>
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="selected" Property="Opacity" Value="0" />
                <Setter TargetName="hover" Property="Opacity" Value="1" />
                <Setter TargetName="FocusVisual" Property="Opacity" Value="0" />
            </Trigger>
            <Trigger Property="Selector.IsSelected" Value="True">
                <Setter TargetName="selected" Property="Opacity" Value="0.75" />
                <Setter TargetName="hover" Property="Opacity" Value="0" />
                <Setter TargetName="FocusVisual" Property="Opacity" Value="0" />
            </Trigger>
            <Trigger Property="IsKeyboardFocused" Value="True">
                <Setter TargetName="selected" Property="Opacity" Value="0" />
                <Setter TargetName="hover" Property="Opacity" Value="0" />
                <Setter TargetName="FocusVisual" Property="Opacity" Value="1" />
            </Trigger>
            <MultiTrigger>
                <MultiTrigger.Conditions>
                    <Condition Property="IsKeyboardFocused" Value="True" />
                    <Condition Property="Selector.IsSelected" Value="True" />
                </MultiTrigger.Conditions>
                <Setter TargetName="selected" Property="Opacity" Value="1" />
                <Setter TargetName="hover" Property="Opacity" Value="0" />
                <Setter TargetName="FocusVisual" Property="Opacity" Value="0" />
            </MultiTrigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

</ResourceDictionary>